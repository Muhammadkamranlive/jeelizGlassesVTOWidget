 /**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( https://webar.rocks )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

"use strict";var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(fa){var na=0;return function(){return na<fa.length?{done:!1,value:fa[na++]}:{done:!0}}};$jscomp.arrayIterator=function(fa){return{next:$jscomp.arrayIteratorImpl(fa)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(fa,na,wa){if(fa==Array.prototype||fa==Object.prototype)return fa;fa[na]=wa.value;return fa};$jscomp.getGlobal=function(fa){fa=["object"==typeof globalThis&&globalThis,fa,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var na=0;na<fa.length;++na){var wa=fa[na];if(wa&&wa.Math==Math)return wa}throw Error("Cannot find global object");};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(fa,na){var wa=$jscomp.propertyToPolyfillSymbol[na];if(null==wa)return fa[na];wa=fa[wa];return void 0!==wa?wa:fa[na]};
$jscomp.polyfill=function(fa,na,wa,Ha){na&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(fa,na,wa,Ha):$jscomp.polyfillUnisolated(fa,na,wa,Ha))};$jscomp.polyfillUnisolated=function(fa,na,wa,Ha){wa=$jscomp.global;fa=fa.split(".");for(Ha=0;Ha<fa.length-1;Ha++){var qa=fa[Ha];if(!(qa in wa))return;wa=wa[qa]}fa=fa[fa.length-1];Ha=wa[fa];na=na(Ha);na!=Ha&&null!=na&&$jscomp.defineProperty(wa,fa,{configurable:!0,writable:!0,value:na})};
$jscomp.polyfillIsolated=function(fa,na,wa,Ha){var qa=fa.split(".");fa=1===qa.length;Ha=qa[0];Ha=!fa&&Ha in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var qb=0;qb<qa.length-1;qb++){var ma=qa[qb];if(!(ma in Ha))return;Ha=Ha[ma]}qa=qa[qa.length-1];wa=$jscomp.IS_SYMBOL_NATIVE&&"es6"===wa?Ha[qa]:null;na=na(wa);null!=na&&(fa?$jscomp.defineProperty($jscomp.polyfills,qa,{configurable:!0,writable:!0,value:na}):na!==wa&&($jscomp.propertyToPolyfillSymbol[qa]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(qa):
$jscomp.POLYFILL_PREFIX+qa,qa=$jscomp.propertyToPolyfillSymbol[qa],$jscomp.defineProperty(Ha,qa,{configurable:!0,writable:!0,value:na})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(fa){if(fa)return fa;var na=function(qa,qb){this.$jscomp$symbol$id_=qa;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:qb})};na.prototype.toString=function(){return this.$jscomp$symbol$id_};var wa=0,Ha=function(qa){if(this instanceof Ha)throw new TypeError("Symbol is not a constructor");return new na("jscomp_symbol_"+(qa||"")+"_"+wa++,qa)};return Ha},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(fa){if(fa)return fa;fa=Symbol("Symbol.iterator");for(var na="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),wa=0;wa<na.length;wa++){var Ha=$jscomp.global[na[wa]];"function"===typeof Ha&&"function"!=typeof Ha.prototype[fa]&&$jscomp.defineProperty(Ha.prototype,fa,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return fa},
"es6","es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(fa){fa={next:fa};fa[Symbol.iterator]=function(){return this};return fa};$jscomp.makeIterator=function(fa){var na="undefined"!=typeof Symbol&&Symbol.iterator&&fa[Symbol.iterator];return na?na.call(fa):$jscomp.arrayIterator(fa)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(fa){function na(){this.batch_=null}function wa(ma){return ma instanceof qa?ma:new qa(function(Ca,Na){Ca(ma)})}if(fa&&!$jscomp.FORCE_POLYFILL_PROMISE)return fa;na.prototype.asyncExecute=function(ma){if(null==this.batch_){this.batch_=[];var Ca=this;this.asyncExecuteFunction(function(){Ca.executeBatch_()})}this.batch_.push(ma)};var Ha=$jscomp.global.setTimeout;na.prototype.asyncExecuteFunction=function(ma){Ha(ma,0)};na.prototype.executeBatch_=function(){for(;this.batch_&&
this.batch_.length;){var ma=this.batch_;this.batch_=[];for(var Ca=0;Ca<ma.length;++Ca){var Na=ma[Ca];ma[Ca]=null;try{Na()}catch(Za){this.asyncThrow_(Za)}}}this.batch_=null};na.prototype.asyncThrow_=function(ma){this.asyncExecuteFunction(function(){throw ma;})};var qa=function(ma){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var Ca=this.createResolveAndReject_();try{ma(Ca.resolve,Ca.reject)}catch(Na){Ca.reject(Na)}};qa.prototype.createResolveAndReject_=function(){function ma(Za){return function(hb){Na||
(Na=!0,Za.call(Ca,hb))}}var Ca=this,Na=!1;return{resolve:ma(this.resolveTo_),reject:ma(this.reject_)}};qa.prototype.resolveTo_=function(ma){if(ma===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(ma instanceof qa)this.settleSameAsPromise_(ma);else{a:switch(typeof ma){case "object":var Ca=null!=ma;break a;case "function":Ca=!0;break a;default:Ca=!1}Ca?this.resolveToNonPromiseObj_(ma):this.fulfill_(ma)}};qa.prototype.resolveToNonPromiseObj_=function(ma){var Ca=void 0;
try{Ca=ma.then}catch(Na){this.reject_(Na);return}"function"==typeof Ca?this.settleSameAsThenable_(Ca,ma):this.fulfill_(ma)};qa.prototype.reject_=function(ma){this.settle_(2,ma)};qa.prototype.fulfill_=function(ma){this.settle_(1,ma)};qa.prototype.settle_=function(ma,Ca){if(0!=this.state_)throw Error("Cannot settle("+ma+", "+Ca+"): Promise already settled in state"+this.state_);this.state_=ma;this.result_=Ca;this.executeOnSettledCallbacks_()};qa.prototype.executeOnSettledCallbacks_=function(){if(null!=
this.onSettledCallbacks_){for(var ma=0;ma<this.onSettledCallbacks_.length;++ma)qb.asyncExecute(this.onSettledCallbacks_[ma]);this.onSettledCallbacks_=null}};var qb=new na;qa.prototype.settleSameAsPromise_=function(ma){var Ca=this.createResolveAndReject_();ma.callWhenSettled_(Ca.resolve,Ca.reject)};qa.prototype.settleSameAsThenable_=function(ma,Ca){var Na=this.createResolveAndReject_();try{ma.call(Ca,Na.resolve,Na.reject)}catch(Za){Na.reject(Za)}};qa.prototype.then=function(ma,Ca){function Na(nb,tb){return"function"==
typeof nb?function(Sb){try{Za(nb(Sb))}catch(Kb){hb(Kb)}}:tb}var Za,hb,Eb=new qa(function(nb,tb){Za=nb;hb=tb});this.callWhenSettled_(Na(ma,Za),Na(Ca,hb));return Eb};qa.prototype.catch=function(ma){return this.then(void 0,ma)};qa.prototype.callWhenSettled_=function(ma,Ca){function Na(){switch(Za.state_){case 1:ma(Za.result_);break;case 2:Ca(Za.result_);break;default:throw Error("Unexpected state: "+Za.state_);}}var Za=this;null==this.onSettledCallbacks_?qb.asyncExecute(Na):this.onSettledCallbacks_.push(Na)};
qa.resolve=wa;qa.reject=function(ma){return new qa(function(Ca,Na){Na(ma)})};qa.race=function(ma){return new qa(function(Ca,Na){for(var Za=$jscomp.makeIterator(ma),hb=Za.next();!hb.done;hb=Za.next())wa(hb.value).callWhenSettled_(Ca,Na)})};qa.all=function(ma){var Ca=$jscomp.makeIterator(ma),Na=Ca.next();return Na.done?wa([]):new qa(function(Za,hb){function Eb(Sb){return function(Kb){nb[Sb]=Kb;tb--;0==tb&&Za(nb)}}var nb=[],tb=0;do nb.push(void 0),tb++,wa(Na.value).callWhenSettled_(Eb(nb.length-1),hb),
Na=Ca.next();while(!Na.done)})};return qa},"es6","es3");$jscomp.owns=function(fa,na){return Object.prototype.hasOwnProperty.call(fa,na)};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(fa,na){for(var wa=1;wa<arguments.length;wa++){var Ha=arguments[wa];if(Ha)for(var qa in Ha)$jscomp.owns(Ha,qa)&&(fa[qa]=Ha[qa])}return fa};$jscomp.polyfill("Object.assign",function(fa){return fa||$jscomp.assign},"es6","es3");
$jscomp.polyfill("Math.log2",function(fa){return fa?fa:function(na){return Math.log(na)/Math.LN2}},"es6","es3");$jscomp.polyfill("Promise.prototype.finally",function(fa){return fa?fa:function(na){return this.then(function(wa){return Promise.resolve(na()).then(function(){return wa})},function(wa){return Promise.resolve(na()).then(function(){throw wa;})})}},"es9","es3");$jscomp.polyfill("Math.sign",function(fa){return fa?fa:function(na){na=Number(na);return 0===na||isNaN(na)?na:0<na?1:-1}},"es6","es3");
var JeelizVTOWidget=function(){function fa(){Ta.mode=ib.realtime;Ta.isRT=!0;sa.adjust=document.getElementById("JeelizVTOWidgetAdjust");if(sa.adjust){sa.adjustNotice=document.getElementById("JeelizVTOWidgetAdjustNotice");sa.adjustExit=document.getElementById("JeelizVTOWidgetAdjustExit");sa.changeModelContainer=document.getElementById("JeelizVTOWidgetChangeModelContainer");sa.buttonResizeCanvas=document.getElementById("buttonResizeCanvas");var U=sa.adjust;U&&U.addEventListener("click",nb,!1);(U=sa.adjustExit)&&
U.addEventListener("click",tb,!1);[sa.adjust,sa.changeModelContainer,sa.buttonResizeCanvas].forEach(wa)}Lb.enabled&&Va.do_instantDetection(Lb.interval,Lb.callback);Tb&&(Tb(!0),Tb=null)}function na(){var U=document.createElement("style");U.setAttribute("type","text/css");U.innerHTML="._jeelizVTOForceHide { display: none!important }._jeelizVTOForceShow { display: revert!important }";var Aa=document.getElementsByTagName("head");1<=Aa.length?Aa[0].appendChild(U):document.body.appendChild(U)}function wa(U){U&&
(U.classList.remove("_jeelizVTOForceHide"),"none"===window.getComputedStyle(U).display&&U.classList.add("_jeelizVTOForceShow"))}function Ha(U){U&&(U.classList.add("_jeelizVTOForceHide"),U.classList.remove("_jeelizVTOForceShow"))}function qa(U,Aa){if(U)for(var Pa in Aa)U.style[Pa]=Aa[Pa]}function qb(U){if(U)return U.clientWidth}function ma(U){if(U)return U.clientHeight}function Ca(U){return new Promise(function(Aa,Pa){var Ia=new XMLHttpRequest;Ia.open("GET",U,!0);Ia.onreadystatechange=function(){if(4===
Ia.readyState)if(200===Ia.status||0===Ia.status)try{var jb=JSON.parse(Ia.responseText);Aa(jb)}catch(Wa){Pa("INVALID JSON")}else Pa("HTTP ERROR "+Ia.status)};Ia.send()})}function Na(U){Ta.isRT=!1;hb(U||"NO_ERROR_LABEL")}function Za(){hb("INVALID_SKU")}function hb(U){nc.error?nc.error(U):console.log("ERROR:",U)}function Eb(){oc=qb(sa.container);pc=ma(sa.container);cc=Math.round(1*oc);dc=Math.round(1*pc);qa(sa.cv,{width:oc.toString()+"px",height:pc.toString()+"px"});sa.cv.width=cc;sa.cv.height=dc;Va&&
(Ta.mode===ib.notLoaded?Va.set_size(cc,dc):Va.resize(cc,dc))}function nb(){[sa.adjust,sa.changeModelContainer,sa.buttonResizeCanvas].forEach(Ha);Ta.mode=ib.adjust;[sa.adjustNotice,sa.adjustExit].forEach(wa);sa.cv.style.cursor="move";Va.switch_modeInteractor("movePinch");ec("ADJUST_START")}function tb(){[sa.adjustNotice,sa.adjustExit].forEach(Ha);[sa.adjust,sa.changeModelContainer,sa.buttonResizeCanvas].forEach(wa);sa.cv.style.cursor="auto";Ta.mode=Ta.realtime;Va.switch_modeInteractor("idle");ec("ADJUST_END")}
function Sb(){if(!sa.trackIframe){var U=fc.appstaticURL+"jeewidget/";sa.trackIframe=document.createElement("iframe");sa.trackIframe.width="10";sa.trackIframe.height="10";sa.trackIframe.src=U+"trackIframe.html";qa(sa.trackIframe,{position:"absolute",zIndex:-1,bottom:"0px",right:"0px"});sa.container.appendChild(sa.trackIframe)}}function Kb(U,Aa,Pa){Va.load_model(Aa.mod+".json",Aa.mats,function(){Ta.mode=ib.realtime;Pa&&Pa();rb.toggle_loading(!1);if(sa.trackIframe){var Ia=location.href.split("?").shift().split("://").pop();
Ia=Ia.split("/").shift();Ia=Ia.split("www.").pop();try{sa.trackIframe.contentWindow.postMessage({action:"COUNTTRYONSESSION",domain:Ia,sku:U},"*")}catch(jb){}}},U)}function ec(U){(U=xc[U])&&U()}var Va=function(){function U(a,b){if(b)a:{var f=yc;a=a.split(".");for(var d=0;d<a.length-1;d++){var n=a[d];if(!(n in f))break a;f=f[n]}a=a[a.length-1];d=f[a];b=b(d);b!=d&&null!=b&&Oc(f,a,{configurable:!0,writable:!0,value:b})}}function Aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:
{done:!0}}}function Pa(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:Aa(a)}}function Ia(a,b){return a[0]*(1-b)+a[1]*b}function jb(a,b){var f=new XMLHttpRequest;f.open("GET",a,!0);f.withCredentials=!1;f.onreadystatechange=function(){4!==f.readyState||200!==f.status&&0!==f.status||b(f.responseText)};f.send()}function Wa(a,b){if(0===b||"object"!==typeof a)return a;a=Object.assign({},a);b=void 0===b||-1===b?-1:b-1;for(var f in a)a[f]=Wa(a[f],b);return a}
function Db(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1}function Ea(a){switch(a){case "relu":return"gl_FragColor=max(vec4(0.,0.,0.,0.),gl_FragColor);";case "elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.,1.,1.,1.),gl_FragColor,step(0.,gl_FragColor));";case "elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1,0.1,0.1,0.1),gl_FragColor,step(0.,gl_FragColor));";case "arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";
default:return!1}}function ab(a,b){var f=b%8;return a[(b-f)/8]>>7-f&1}function ob(a,b,f){var d=1,n=0;for(f=b+f-1;f>=b;--f)n+=d*ab(a,f),d*=2;return n}function xb(a){var b=null;"undefined"===typeof btoa?b=Buffer.from(a.data,"base64").toString("latin1"):b=atob(a.data);a=b.length;for(var f=new Uint8Array(a),d=0;d<a;++d)f[d]=b.charCodeAt(d);return f}function yb(a){var b=JSON.parse(a);a=b.nb;var f=b.n;b=xb(b);for(var d=new Uint32Array(f),n=0;n<f;++n)d[n]=ob(b,n*a,a);return d}function Fb(a){var b=JSON.parse(a);
a=b.ne;var f=b.nf,d=b.n;b=xb(b);for(var n=new Float32Array(d),m=new Float32Array(f),t=a+f+1,g=0;g<d;++g){var q=t*g,p=0===ab(b,q)?1:-1,D=ob(b,q+1,a);q=q+1+a;for(var H=m.length,v=0,z=q;z<q+H;++z)m[v]=ab(b,z),++v;for(H=q=0;H<f;++H)q+=m[H]*Math.pow(2,-H-1);n[g]=0===q&&0===D?0:p*(1+q)*Math.pow(2,1+D-Math.pow(2,a-1))}return n}function Ub(a){var b=null,f=null,d=null,n=0;this.h=function(m){this.Sn(m.Dd);d.Uk({Xf:m.Xf,Uf:m.Uf})};this.Nl=function(m){return b[m]};this.Sn=function(m){var t=null;n=m.length;b=
m.map(function(g,q){g=Object.assign({},g,{index:q,parent:this,Pd:t,um:q===n-1});return t=0===q?Pc.instance(g):Qc.instance(g)});f=b[0];d=b[n-1];b.forEach(function(g,q){0!==q&&g.en()})};this.xa=function(m){var t=m;b.forEach(function(g){t=g.xa(t,!1)});return t};this.Ml=function(){return f.I()};this.ef=function(){return d.Ql()};this.Bh=function(){return d.Bh()};this.u=function(){b&&(b.forEach(function(m){m.u()}),d=f=b=null,n=0)};"undefined"!==typeof a&&this.h(a)}function zb(a,b){a[b]=!0;a.setAttribute(b,
"true")}function Mb(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function gc(){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return a&&a.length&&2<a.length?[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]:[0,0,0]}function Vb(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("safari")&&-1===a.indexOf("chrome")?!0:!1}function Wb(a){if(!a)return a;var b=null;if(a.video){var f=function(d){return d&&"object"===typeof d?Object.assign({},d):d};
b={};"undefined"!==typeof a.video.width&&(b.width=f(a.video.width));"undefined"!==typeof a.video.height&&(b.height=f(a.video.height));"undefined"!==typeof a.video.facingMode&&(b.facingMode=f(a.video.facingMode))}b={audio:a.audio,video:b};"undefined"!==typeof a.deviceId&&hc(b,a.deviceId);return b}function hc(a,b){b&&(a.video=a.video||{},a.video.deviceId={exact:b},a.video.facingMode&&delete a.video.facingMode)}function Xb(a){var b=a.video.width;a.video.width=a.video.height;a.video.height=b;return a}
function Yb(a){function b(v){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(z,r){return Math.abs(z-v)-Math.abs(r-v)})}function f(v){var z=Wb(a);v=v(z);n.push(v);d(v)}function d(v){if(v.video&&v.video.facingMode&&v.video.facingMode.exact){var z=v.video.facingMode.exact;v=Wb(v);delete v.video.facingMode.exact;v.video.facingMode.ideal=z;n.push(v)}}var n=[];if(!a||!a.video)return n;d(a);if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal){var m=
b(a.video.width.ideal).slice(0,3),t=b(a.video.height.ideal).slice(0,3),g={},q=0;for(g.jb=void 0;q<m.length;g={jb:g.jb},++q){g.jb=m[q];var p={},D=0;for(p.ib=void 0;D<t.length;p={ib:p.ib},++D)if(p.ib=t[D],g.jb!==a.video.width.ideal||p.ib!==a.video.height.ideal){var H=Math.max(g.jb,p.ib)/Math.min(g.jb,p.ib);H<4/3-.1||H>16/9+.1||f(function(v,z){return function(r){r.video.width.ideal=v.jb;r.video.height.ideal=z.ib;return r}}(g,p))}}}f(function(v){return Xb(v)})}a.video.width&&a.video.height&&(a.video.width.ideal&&
a.video.height.ideal&&f(function(v){delete v.video.width.ideal;delete v.video.height.ideal;return v}),f(function(v){delete v.video.width;delete v.video.height;return v}));a.video.facingMode&&(f(function(v){delete v.video.facingMode;return v}),a.video.width&&a.video.height&&f(function(v){Xb(v);delete v.video.facingMode;return v}));n.push({audio:a.audio,video:!0});return n}function ic(a){try{var b=window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(d){b=window.innerHeight>window.innerWidth}if(b&&
a&&a.video){b=a.video.width;var f=a.video.height;b&&f&&b.ideal&&f.ideal&&b.ideal>f.ideal&&(a.video.height=b,a.video.width=f)}}function Gb(a){a.volume=0;zb(a,"muted");if(Vb()){if(1===a.volume){var b=function(){a.volume=0;window.removeEventListener("mousemove",b,!1);window.removeEventListener("touchstart",b,!1)};window.addEventListener("mousemove",b,!1);window.addEventListener("touchstart",b,!1)}setTimeout(function(){a.volume=0;zb(a,"muted")},5)}}function Rc(a){var b=Da.element,f=Da.fh;return null===
b?Promise.resolve():new Promise(function(d,n){if(b.srcObject&&b.srcObject.getVideoTracks){var m=b.srcObject.getVideoTracks();1!==m.length?n("INVALID_TRACKNUMBER"):(m=m[0],a?zc(b,d,n,f):(m.stop(),d()))}else n("BAD_IMPLEMENTATION")})}function Ac(a,b,f,d){function n(t){m||(m=!0,f(t))}var m=!1;navigator.mediaDevices.getUserMedia(d).then(function(t){function g(){setTimeout(function(){if(a.currentTime){var p=a.videoWidth,D=a.videoHeight;if(0===p||0===D)n("VIDEO_NULLSIZE");else{p&&(a.style.width=p.toString()+
"px");D&&(a.style.height=D.toString()+"px");p={Qk:null,pg:null,Qm:null};try{var H=t.getVideoTracks()[0];H&&(p.Qm=H,p.Qk=H.getCapabilities(),p.pg=H.getSettings())}catch(v){}Vb()||Mb()?a.parentNode&&null!==a.parentNode?(m||b(a,t,p),setTimeout(function(){a.play()},100)):(document.body.appendChild(a),Gb(a),m||b(a,t,p),setTimeout(function(){a.style.transform="scale(0.0001,0.0001)";a.style.position="fixed";a.style.bottom="0px";a.style.right="0px";Gb(a);setTimeout(function(){a.play()},100)},80)):m||b(a,
t,p)}}else n("VIDEO_NOTSTARTED")},700)}function q(){a.removeEventListener("loadeddata",q,!1);var p=a.play();Gb(a);"undefined"===typeof p?g():p.then(function(){g()}).catch(function(){n("VIDEO_PLAYPROMISEREJECTED")})}"undefined"!==typeof a.srcObject?a.srcObject=t:(a.src=window.URL.createObjectURL(t),a.videoStream=t);Gb(a);a.addEventListener("loadeddata",q,!1)}).catch(function(t){n(t)})}function zc(a,b,f,d){if(a)if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){if(d&&d.video){if(Mb()){var n=
gc();0!==n[0]&&(12>n[0]||12===n[0]&&2>n[1])&&ic(d)}d.video.width&&d.video.width.ideal&&(a.style.width=d.video.width.ideal+"px");d.video.height&&d.video.height.ideal&&(a.style.height=d.video.height.ideal+"px")}zb(a,"autoplay");zb(a,"playsinline");d&&d.audio?a.volume=0:zb(a,"muted");Ac(a,b,function(){function m(g){if(0===g.length)f("INVALID_FALLBACKCONSTRAINTS");else{var q=g.shift();Ac(a,b,function(){m(g)},q)}}var t=Yb(d);m(t)},d)}else f&&f("MEDIASTREAMAPI_NOTFOUND");else f&&f("VIDEO_NOTPROVIDED")}
function Sc(a){navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(b){(b=b.filter(function(f){return f.kind&&-1!==f.kind.toLowerCase().indexOf("video")&&f.label&&f.deviceId}))&&b.length&&0<b.length?a(b,!1):a(!1,"NODEVICESFOUND")}).catch(function(){a(!1,"PROMISEREJECTED")}):a(!1,"NOTSUPPORTED")}function Tc(){function a(){var N=Zb.od;Nb=N*K.width;Ob=N*K.height}function b(){++J;2===J&&(q(),oa.Th(),oa.sj(),oa.Fn(),R.Uc.forEach(function(N){N()}),
R.Uc.splice(0),T.model&&!R.isBusy&&oa.li(T.model))}function f(){Ab.reset();ub.stop();m(0)}function d(N){cb&&(ta.sn(cb),cb.remove());ta.Yj(N);cb=N}function n(N){I=N;ub.update({ka:I})}function m(N){ia=-1;ca?ia=ja:ra.isEnabled?ia=ra.wi:Q?(g(),ia=u===P.U?Ab.P():1):(ia=K.Sc[0],g());xa.fa();for(var Y=0;Y<ia;++Y)Z.set("s55"),L.zd.K(),L.Bb.a(0),A.Gc.a(1),W.g(!1,!1),L.zd.a(0),l.xa(L.zd);ca?(pa(),ca=!1,c.flush(),ub.cg(m)):(ta.animate(N),L.$f&&k-G.ii>G.tj&&K.Yb&&u===P.U&&(xa.fa(),G.ii=k,G.Nd.K(),Z.set("s63"),
L.$f.a(0),W.g(!1,!1),ua.kb.Gj(Da.ia,G.Nd,G.Yd),xa.X()),ra.isEnabled||(Q&&(Ab.xj(),Y=Ab.Ch(1),ba=Ia(K.$j,Y),K.Yb&&u===P.U&&(G.tj=Ia(K.ki,Y),G.Yd=Ia(K.Im,Y),G.Yd=Math.min(G.Yd,.5))),k=N,u!==P.Aa&&ub.cg(m)))}function t(){k=Date.now();Q=!0}function g(){var N=Da.element.currentTime-Xa;0>N&&(Xa=Da.element.currentTime);1E3*N<K.Io||(Da.ia.refresh(),Xa+=N,Da.kd=N,x=!0,xa.fa(),Z.set("s0"),A.Ki.K(),A.Gc.Ek(0),W.g(!1,!0),Z.set("s53"),L.Bb.K(),Da.ia.a(0),W.g(!1,!1),null!==L.Db&&(Z.set("s54"),L.Rc.i(),L.Bb.a(0),
L.Db.a(1),W.g(!1,!1)))}function q(){L.Jj=X.instance({isPot:!0,isLinear:!0,isFloat:!1,url:K.Y+K.ua+K.Jo});var N={isPot:!1,isLinear:!0,isFloat:!1,width:Nb,height:Ob};L.Bb=X.instance(N);L.Rc=X.instance(N);h.uj.push(L.Bb,L.Rc);L.zd=X.instance({isPot:!0,isFloat:!1,width:l.Ml()});K.Fd&&(Qa=X.instance({isPot:!1,isFloat:!1,isLinear:!0,url:(K.Lf||-1!==K.Kf.indexOf("//")?"":K.Y+K.ua)+K.Kf}))}function p(){function N(){return{width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,.5,.5,0,0,0,0,0,0,0,
0,0])}}var Y={width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0])};A.Gc=Bc.instance(N());A.Ki=X.instance(N());A.Pc=X.instance(N());A.Md=Bc.instance(N());A.Se=X.instance(Y);Y={width:2,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0])};A.Ig=X.instance(Y);A.je=X.instance(Y);G.Nd=X.instance({width:1,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0])})}function D(N){L.$f=N;if(x){x=!1;Z.set("s61");A.Ig.K();A.je.a(2);var Y=Ia(K.Gk,Ab.Ch(.5));
Z.C("u58",Y);A.Ki.a(1);Z.C("u59",1E3*Da.kd);W.g(!1,!1);Z.set("s62");A.je.i();A.Ig.a(0);W.g(!1,!1)}N.a(0);A.Gc.bj(1);c.viewport(0,0,1,1);Z.set("s56");Z.ng("u43",Cc.get(0));W.g(!1,!1);Z.set("s57");c.viewport(1,0,2,1);W.g(!1,!1);A.Se.K();Z.set("s58");Z.L("u51",K.xe[0]*ba,K.xe[1]);A.Gc.a(0);A.Md.a(1);W.g(!1,!1);Z.set("s59");A.Md.bj(1);A.Se.a(0);A.je.a(2);A.Gc.a(3);W.g(!1,!1);Z.set("s60");A.Md.a(0);A.Pc.i();W.g(!1,!1)}function H(){var N=K.Y,Y=K.re.split("://").shift();if("http"===Y||"https"===Y)N="";N+=
K.re;"json"!==N.split(".").pop()&&(N+=K.neuralNetworkPath);jb(N,function(ka){ka=JSON.parse(ka);l=new Ub({Dd:ka.layers,Xf:"gpuRawAvg",Uf:D});b()})}var v=[-1,-1],z=null,r=[.5,0,0,.5],h={fb:null,Ub:!1,Ea:!1,uj:[]},e=[0,K.Ha[1],K.Ha[2]],I=K.ka,F=null,l=null;a();var y=[0,0,0],w=1,O=0,L={Bb:null,Rc:null,zd:null,Jj:null,$f:null,Db:null},A={raw:null,Xp:null,Pc:null,Md:null,Se:null,Ig:null,je:null},k=0,x=!1,G={gb:null,Cb:null,Id:null,ii:0,tj:K.ki[1],Yd:.1,Nd:null},J=0,M=!1,Q=!0,ba=1,ia=-1,P={Aa:-1,U:0,Ja:1,
jc:2,kc:3},u=P.U,B=null,C=P.U,S=!1,ca=!1,ja=1,pa=!1,ra={isEnabled:!1,Qe:null,Za:null,wi:0},Qa=null,Ma=-1,Oa=!1,la=!1,ha=!1,V=[0,0,0],ea=1,ya,La,Ja,Fa={Ha:[0,0,0],xb:1,Ic:0,wa:0,pa:0,ma:K.ma},vb=[0,0,0],Ga={scale:1,offsetX:0,offsetY:0},Xa=0,oa={Sh:function(){a();v[0]=1;v[1]=Nb/Ob;Cc.h({Ld:K.scanOverlapFactors,vi:K.scanNScaleLevels,ta:Nb,sf:Ob,Ti:K.scanScale0Factor,Sa:K.Sa,Ui:!0});Ma=K.width>K.height?[K.width/K.height,1]:[1,K.height/K.width];h.Ea=!0},h:function(){Z.we([{id:"s53",name:"_",j:"attribute vec2 a0;uniform mat2 u38;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5,.5)+u38*a0;}",
D:["a0"],M:[2],b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1","u38"],precision:"lowp"},{id:"s55",name:"_",b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",j:"attribute vec2 a0;uniform sampler2D u39;uniform vec2 u40;uniform float u41;const vec2 f=vec2(.16,.5),g=vec2(.5,.5),h=vec2(.84,.5),p=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u39,f);vec2 j=a.gb,b=a.a*u40;vec4 k=texture2D(u39,g);float l=k.y;vec2 m=vec2(mix(1.,1./cos(l),u41),1.);b*=m;vec2 n=a0*.5;float c=texture2D(u39,h).r,d=cos(c),e=sin(c);vec2 o=mat2(d,e,-e,d)*n;vv0=j+o*b,gl_Position=vec4(a0,0.,1.);}",
D:["a0"],M:[2],c:["u1","u39","u40","u41"],precision:"lowp"},{id:"s56",name:"_",j:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",b:"uniform sampler2D u42,u39;uniform vec3 u43,u44;uniform float u45,u46;const vec4 e=vec4(.25,.25,.25,.25);const vec2 f=vec2(.16,.5);void main(){vec4 b=texture2D(u42,vec2(.625,.625)),c=texture2D(u42,vec2(.875,.625));float d=dot(b-c,e);bool g=d>u46;vec4 a=texture2D(u39,f);g?a.r=2.:a.r>u45?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a=vec4(1.,u43);else{float h=dot(e,texture2D(u42,vec2(.875,.875))),i=dot(e,texture2D(u42,vec2(.125,.625))),j=dot(e,texture2D(u42,vec2(.375,.625)));a.r*=step(1.9,a.r),a.gba+=vec3(h,i,j)*u44*a.a;}gl_FragColor=a;}",
c:"u42 u39 u43 u45 u44 u46".split(" ")},{id:"s57",name:"_",b:"uniform sampler2D u42,u39;uniform vec3 u47,u48;uniform vec2 u49;const vec4 v=vec4(1.,1.,1.,1.),f=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);const vec2 g=vec2(.16,.5),h=vec2(.5,.5),i=vec2(.84,.5);varying vec2 vv0;void main(){float k=step(vv0.x,.5);vec4 l=texture2D(u39,g);if(l.r<1.9){gl_FragColor=f;return;}float m=dot(texture2D(u42,vec2(.125,.125)),e),a=smoothstep(u49.x,u49.y,m);vec4 n=texture2D(u39,h);float o=n.a;a=mix(a,o,.3);float p=dot(e,texture2D(u42,vec2(.125,.875))),q=dot(e,texture2D(u42,vec2(.375,.875))),r=dot(e,texture2D(u42,vec2(.625,.875)));vec3 s=vec3(p,q,r),b=u48+s*u47;float c=texture2D(u39,i).r,d=b.z*.07;c+=d,b.z-=d;vec4 t=vec4(b,a),u=vec4(c,0.,0.,0.);gl_FragColor=mix(u,t,k);}",
c:["u42","u39","u49","u47","u48"]},{id:"s58",name:"_",b:"uniform sampler2D u39,u50;uniform vec2 u51;uniform float u52,u53;const vec4 f=vec4(1.,1.,1.,1.),h=vec4(1.,0.,0.,0.),i=vec4(0.,0.,0.,1.);const vec2 g=vec2(.5,.5);varying vec2 vv0;void main(){vec4 c=texture2D(u39,vv0),d=texture2D(u50,vv0),o=texture2D(u39,g),j=texture2D(u50,g);float k=pow(j.a,u53),l=mix(u51.x,u51.y,1.-k),a=step(.34,vv0.x)*step(vv0.x,.66);vec4 m=mix(h,i,a),b=max(l*f,m);b*=mix(f,u52*vec4(1.,1.,1.,0.)+vec4(0.,0.,0.,1.),a);vec4 n=c-d;gl_FragColor=n*b;}",
c:["u39","u50","u51","u52","u53"],precision:"highp"},{id:"s59",name:"_",b:"uniform sampler2D u50,u54,u55,u56;const vec4 k=vec4(1.,1.,1.,1.);const vec2 f=vec2(.25,.5),g=vec2(.75,.5),h=vec2(.5,.5);varying vec2 vv0;void main(){float c=step(.33,vv0.x)*step(vv0.x,.66),l=step(.66,vv0.x);vec4 d=texture2D(u56,h);float a=d.a;a*=texture2D(u55,f).a,a*=texture2D(u55,g).a;vec4 i=texture2D(u50,vv0),j=texture2D(u54,vv0),b=i+j;b.a=mix(b.a,a,c),gl_FragColor=b;}",c:["u50","u54","u55","u56"],precision:"highp"},{id:"s60",
name:"_",b:"uniform sampler2D u39;uniform float u57;const vec4 g=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u39,vv0);float b=step(vv0.x,.33),c=texture2D(u39,f).g;a.a+=b*a.a*u57*abs(sin(c)),gl_FragColor=a;}",c:["u39","u57"],precision:"highp"},{id:"s61",name:"_",b:"uniform sampler2D u39,u55,u42;uniform vec3 u47,u48;uniform float u58,u59;const vec4 e=vec4(.25,.25,.25,.25);const vec3 g=vec3(1.,1.,1.);const vec2 h=vec2(.5,.5);const vec3 i=vec3(1.,1.,4.);varying vec2 vv0;void main(){vec4 c=texture2D(u39,h);float d=step(vv0.x,.5),a=1.-d;vec4 j=texture2D(u55,vv0);float t=c.a;vec2 k=mix(vec2(.875,.875),vec2(.125,.875),a),l=mix(vec2(.125,.625),vec2(.375,.875),a),m=mix(vec2(.375,.625),vec2(.625,.875),a);float n=dot(e,texture2D(u42,k)),o=dot(e,texture2D(u42,l)),p=dot(e,texture2D(u42,m));vec3 q=mix(i,u47,a),b=q*vec3(n,o,p),r=c.rgb;b=mix(b,u48+b-r,a)/u59;vec4 s=mix(vec4(b,0.),j,vec4(u58*g,0.));gl_FragColor=s;}",
c:"u39 u55 u42 u58 u59 u47 u48".split(" "),precision:"highp"},{id:"s62",name:"_",b:"uniform sampler2D u55;uniform vec2 u61,u62;const vec4 h=vec4(.25,.25,.25,.25);varying vec2 vv0;void main(){float a=step(.5,vv0.x),c=mix(u61.x,u62.x,a),d=mix(u61.y,u62.y,a);vec3 b=texture2D(u55,vv0).rgb;float f=length(b),g=1.-smoothstep(c,d,f);gl_FragColor=vec4(b,g);}",c:["u55","u61","u62"],precision:"highp"},{id:"s63",name:"_",j:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",b:"uniform sampler2D u42;const vec4 g=vec4(1.,1.,1.,1.),h=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);const float f=3.1415;void main(){float a=dot(texture2D(u42,vec2(.25,.25)),e),b=dot(texture2D(u42,vec2(.5,.25)),e),c=f/2.*dot(texture2D(u42,vec2(.75,.25)),e),d=4.18*dot(texture2D(u42,vec2(0.,.25)),e);gl_FragColor=vec4(d,a,b,c);}",
c:["u42"]},{id:"s54",name:"_",b:"uniform sampler2D u1,u63;varying vec2 vv0;vec4 i(vec4 a,sampler2D g){mediump float b=a.b*63.;mediump vec2 c;c.y=floor(floor(b)/8.),c.x=floor(b)-c.y*8.;mediump vec2 d;d.y=floor(ceil(b)/8.),d.x=ceil(b)-d.y*8.;highp vec2 e;e.x=c.x*.125+9.765625e-4+.123047*a.r,e.y=c.y*.125+9.765625e-4+.123047*a.g;highp vec2 f;f.x=d.x*.125+9.765625e-4+.123047*a.r,f.y=d.y*.125+9.765625e-4+.123047*a.g;lowp vec4 j=texture2D(g,e),k=texture2D(g,f),l=mix(j,k,fract(b));return l;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=i(a,u63);}",
c:["u1","u63"]}]);p();H();ub.h({$h:!1,ka:I});Ab.h({Sf:0,n:K.Sc[1]-K.Sc[0]+1,ji:K.Sc[0]});R.set_videoRotation=function(N){$a.rotate=N;R.ready&&(db.og(Da.element.videoWidth,Da.element.videoHeight),db.vg())};R.set_viewRotation=function(){};R.set_LUT=function(N){N?X.instance({url:N,isFloat:!1,isFlipY:!1,N:function(Y){L.Db=Y;oa.Oc()}}):(L.Db=null,oa.Oc())};R.resize=function(N,Y){function ka(){ub.stop();h.fb&&(clearTimeout(h.fb),h.fb=null);if(!h.Ub)if(K.width===Ba&&K.height===Ra)f();else if(u!==P.U&&u!==
P.Ja)h.fb=setTimeout(ka,K.Ri);else{var eb="undefined"===typeof sb?!1:sb.get_mode(),lb=u;u=P.Aa;ca=h.Ub=!0;pa=function(){ca=!1;h.Ub=!1;t();n(K.ka);F&&clearTimeout(F);F=!1;u=lb};K.width=Ba;K.height=Ra;oa.Sh();oa.Th();h.uj.forEach(function(kb){kb.resize(Ba,Ra)});aa.resize(Nb,Ob);oa.Oc();db.og(Da.element.videoWidth?Da.element.videoWidth:Da.element.width,Da.element.videoHeight?Da.element.videoHeight:Da.element.height);db.vg();db.sj();f();u===P.Ja&&(u=P.U,R.switch_viewer3D(!0,!1));eb&&sb.switch_mode(eb)}}
if(R.ready){h.fb&&(clearTimeout(h.fb),h.fb=null);ub.stop();var Ba=N*Zb.od,Ra=Y*Zb.od;h.fb=setTimeout(ka,K.Ri)}}},u:function(){ub.u();return new Promise(function(N){R.switch_sleep(!0,!0).finally(function(){l&&l.u();aa.u();fb.u();c&&(c=null);l=null;K.Lf=!1;cb=null;Q=!0;ba=1;ia=-1;u=P.U;B=null;C=P.U;Object.assign(Da,Dc);Object.assign(K,Ec);N()}).catch(function(){})})},Th:function(){Z.f("s55",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u39",value:1},{type:"2f",name:"u40",value:v},{type:"1f",name:"u41",
value:K.bl}]);Z.f("s56",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u39",value:1},{type:"1f",name:"u45",value:K.qo},{type:"1f",name:"u46",value:K.cl},{type:"3f",name:"u44",value:[K.Sa[0]*v[0],K.Sa[1]*v[1],K.Sa[2]]}]);Z.f("s57",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u39",value:1},{type:"2f",name:"u49",value:K.hn},{type:"3f",name:"u47",value:[-K.ya[0],-K.ya[1],K.ya[2]]},{type:"3f",name:"u48",value:K.wj}]);Z.f("s58",[{type:"1i",name:"u39",value:0},{type:"1i",name:"u50",value:1},{type:"2f",
name:"u51",value:K.xe},{type:"1f",name:"u52",value:K.xn},{type:"1f",name:"u53",value:K.gn}]);Z.f("s59",[{type:"1i",name:"u50",value:1},{type:"1i",name:"u54",value:0},{type:"1i",name:"u55",value:2},{type:"1i",name:"u56",value:3}]);Z.f("s60",[{type:"1i",name:"u39",value:0},{type:"1f",name:"u57",value:K.Bn}]);Z.f("s61",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u39",value:1},{type:"1i",name:"u55",value:2},{type:"3f",name:"u47",value:[-K.ya[0],-K.ya[1],K.ya[2]]},{type:"3f",name:"u48",value:K.wj}]);
Z.f("s62",[{type:"1i",name:"u55",value:0},{type:"2f",name:"u61",value:K.ro},{type:"2f",name:"u62",value:K.yn}]);Z.f("s63",[{type:"1i",name:"u42",value:0}]);Z.f("s54",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u63",value:1}])},Oc:function(){ta.$i(A.Pc,null===L.Db?L.Bb:L.Rc,G.Nd,L.Jj)},Pl:function(){return Ga},gj:function(N){Ga=N},fe:function(){vb[0]=y[0]-Ga.offsetX;vb[1]=y[1]+Ga.offsetY;vb[2]=y[2];ta.In(e,Fa.Ha,vb)},ge:function(){ta.Jn(w*K.xb,Fa.xb,Ga.scale)},Ej:function(){ta.Kn(O+Fa.Ic)},xo:function(){ta.Gn(K.wa+
Fa.wa,K.pa+Fa.pa)},zo:function(){ta.Hn((0===Fa.ma[0]&&0===Fa.ma[1]?K:Fa).ma)},he:function(){oa.fe();oa.ge();oa.Ej();oa.xo();oa.zo()},An:function(){ub.stop();B&&(clearInterval(B),B=null);ra.isEnabled=!0;ra.wi=0;Oa=ta.Ol();la=cb.Ih();ha=cb.Gh();ea=Fa.xb;V=Fa.Ha;ya=Fa.ma;La=Fa.wa;Ja=Fa.pa;ca=!1;ta.Zd(!1)},wn:function(N){function Y(){2===++ka&&(ra.isEnabled=!1,Fa.xb=ea,Fa.Ha=V,Fa.ma=ya,Fa.wa=La,Fa.pa=Ja,oa.he(),ta.sa(Oa),f(),N&&N())}var ka=0;u===P.jc?u=P.Ja:u===P.kc&&(u=P.U);ta.ab(u===P.U?0:1);cb.replace(la,
Y);cb.ig(ha,Y);oa.Oc();ta.Zd(!0)},sj:function(){var N=Math.tan(Da.Pb/2);ta.Zi({Ze:K.Ze/N,Cn:N,fn:Da.Hi,Ga:K.Ga,Rf:K.Rf,Mj:v,Uj:K.Mo,xc:K.xc,rf:K.rf,pf:K.pf,qf:K.qf,ma:K.ma,ye:K.ye,Le:K.Le,bg:K.bg,fc:K.fc,fo:K.mj,ho:K.nj,Xd:K.Xd,hc:K.hc,dd:K.dd,Pe:K.Pe,Oe:K.Oe,Ne:K.Ne,Ce:K.Ce,Be:K.Y+K.ua+K.Be,wa:K.wa,pa:K.pa,lf:K.lf,Ng:K.Ng,Mg:K.Mg,me:K.me,So:K.Ro,le:Da.le,Fd:K.Fd,Km:Qa,Ed:K.Ed,Gd:K.Gd,Jf:K.Jf,Jm:Ma,wg:K.wg})},Rk:function(){var N=$a.qe,Y=$a.pe,ka=1/Math.tan(Da.Pb/2),Ba=fb.V()/fb.I();Da.Hi=[ka,0,0,
0,0,ka/Ba,0,0,0,0,-(Y+N)/(Y-N),-1,0,0,-2*N*Y/(Y-N),0];Da.le=1/Math.tan(K.Po*Math.PI/360)/ka},og:function(N,Y){z=[.5,.5];N=Y/N;Y=fb.V()/fb.I();90===Math.abs($a.rotate)&&(N=1/N);N>Y?z[1]*=Y/N:z[0]*=N/Y;r[0]=0;r[1]=0;r[2]=0;r[3]=0;switch($a.rotate){case 0:r[0]=z[0];r[3]=z[1];break;case 180:r[0]=-z[0];r[3]=-z[1];break;case 90:r[1]=z[0];r[2]=-z[1];break;case -90:r[1]=-z[0],r[2]=z[1]}Da.Pb=2*Math.atan(2*z[0]*Math.tan((1<N?$a.Pj:$a.FOVdesktop)*Math.PI/180/2));oa.Rk()},vg:function(){Z.f("s53",[{type:"1i",
name:"u1",value:0},{type:"mat2",name:"u38",value:r}])},vf:function(N,Y){h.Ea||oa.Sh();oa.km(N,Y);oa.h();if(!oa.hm())return R.mb&&R.mb("GL_INCOMPATIBLE","Cannot init JEELIZVTO"),!1;oa.Qh();return!0},km:function(N,Y){R.Fb=document.createElement("canvas");R.Eb=document.createElement("canvas");R.Eb.width=K.width;R.Eb.height=K.height;R.Vj=R.Eb.getContext("2d");R.replace_video=function(ka){Da.element=ka;Da.Cg.ga_=Da.element;return!0};R.pc=R.Fb.getContext("2d");R.capture_background=function(ka,Ba){ka="undefined"===
typeof ka?N:ka;Ba="undefined"===typeof Ba?Y:Ba;R.Fb.width=ka;R.Fb.height=Ba;var Ra=ka/Ba,eb=0,lb=0;if(N/Y>Ra){var kb=Y*Ra;Ra=Y;eb=Math.round((N-kb)/2)}else kb=N,Ra=N/Ra,lb=Math.round((Y-Ra)/2);R.pc.save();R.pc.translate(ka,0);R.pc.scale(-1,1);R.pc.drawImage(Da.element,eb,lb,kb,Ra,0,0,ka,Ba);R.pc.restore();ka=document.createElement("canvas");ka.width=R.Fb.width;ka.height=R.Fb.height;ka.getContext("2d").drawImage(R.Fb,0,0);return ka}},Qh:function(){window.CanvasListeners&&(sb.init({qa:fb.qb()}),R.init_listeners=
oa.Qh,R.add_listener=sb.add_listener,R.remove_listener=sb.remove_listener,R.animate_swipe=sb.animate_swipe,R.switch_modeInteractor=sb.switch_mode,R.get_modeInteractor=sb.get_mode,sb.add_listener("move",function(N,Y){u===P.U&&(K.Lm&&(Ga.offsetX-=Y[0]*K.oi,Ga.offsetX=Math.min(Math.max(Ga.offsetX,-K.Hd),K.Hd)),Ga.offsetY-=Y[1]*K.oi,Ga.offsetY=Math.min(Math.max(Ga.offsetY,-K.Hd),K.Hd),oa.fe())},!0).add_listener("pinch",function(N,Y){u===P.U&&(Ga.scale+=Y*K.Mm,Ga.scale=Math.min(Math.max(Ga.scale,K.pi[0]),
K.pi[1]),oa.ge())},!0))},hm:function(){return aa.h({Ad:!1,Pk:!1,expand:!1,qa:fb.qb(),Rb:fb,onload:function(){G.Cb=$b.instance({Ib:K.Y+K.ua+bb.Ko,rc:K.Y+K.ua+bb.Lo,qc:bb.Kj,sc:bb.Lj});K.Yb?(G.gb=$b.instance({}),ua.kb.sa(G.gb)):G.gb=G.Cb;ta.sa(G.gb);K.Yb?G.Id=Uc.instance({Hm:G.gb,Fm:G.Cb}):G.Id=G.Cb;b()}})},Fn:function(){R.load_model=function(N,Y,ka){if(R.isBusy)return!1;R.isBusy=!0;if(T.model)R.set_model(N,function(){R.set_materials(Y,function(){R.isBusy=!1;ka&&ka()})},function(){R.isBusy=!1});else{var Ba=
K.Y+K.ua+K.Nf+"/",Ra=Y.map(function(eb){return Ba+eb});T.model={url:K.Y+K.ua+K.Qf+"/"+N,Fc:Ra,Hb:!1,Gb:!1};oa.li(T.model,function(){R.isBusy=!1;ka&&ka()})}return!0};R.set_offset=function(N){y=N;oa.fe()};R.set_scale=function(N){w=N;oa.ge()};R.set_rx=function(N){O=N;oa.Ej()};R.switch_shadow=ta.ug;R.switch_bgBlur=ta.tg;R.set_zoom=ta.hg;R.is_viewer3D=function(){return u===P.Ja};R.switch_viewer3D=function(N,Y){if(u===P.jc||u===P.kc||u===P.U&&!N||u===P.Ja&&N||ca)return!1;if(u===P.Aa)return C!==P.Ja||N?
C===P.U&&N?(C=P.Ja,ta.sa(G.Cb),ta.ab(1),Y&&Y(),!0):!1:(C=P.U,ta.sa(G.gb),ta.ab(0),Y&&Y(),!0);var ka=0,Ba=-1,Ra=0;u===P.U?(u=P.jc,Ba=K.Qo):u===P.Ja&&(u=P.kc,Ba=K.To);var eb=Date.now();B=setInterval(function(){var lb=Date.now();ka+=(lb-eb)/Ba;1<=ka&&(ka=1,u===P.jc?(u=P.Ja,ta.sa(G.Cb)):(u=P.U,ta.sa(G.gb)),Y&&Y(),clearInterval(B),B=null);var kb=0;u===P.kc||u===P.U?kb=1-K.Oo(ka):kb=K.No(ka);ta.ab(kb);u!==P.kc&&u!==P.jc||0!==Ra++%2||(ta.sa(G.Id),G.Id.Zn(kb));eb=lb},.016);return!0};R.capture_image=function(N,
Y,ka,Ba){ja=N;ca=!0;"undefined"===typeof isAllocate&&(ka=!1);(Ba="undefined"===typeof Ba?!1:Ba)&&ta.Zd(!1);g();pa=function(){ta.Ni(0);c.flush();var Ra=fb.Dh(ka);Y(Ra);Ba&&ta.Zd(!0)}};R.capture_detection=function(N,Y){ja=N;ca=!0;var ka=null===L.Db?L.Bb:L.Rc;pa=function(){var Ba=Fc.instance({Me:A.Pc.clone(),ti:cb.Ih(),si:cb.Gh(),background:ka.clone(),Za:ua.kb.am().clone(),Mf:Ga});Y(Ba)}};R.process_offlineRendering=function(N,Y,ka,Ba,Ra){function eb(){if(2===++lb){ra.Za||(ra.Za=$b.instance({}));N.Fh()&&
(ra.Za.fj(N.Fh()),ta.sa(ra.Za));ra.Qe.set();f();ra.Qe=!1;oa.wn(Ba?function(){fb.qb().parentNode.removeChild(R.Eb)}:!1);var kb=fb.Dh(!1);setTimeout(function(){Ra(kb)},1)}}oa.An();Ba&&(R.Vj.drawImage(fb.qb(),0,0),fb.qb().parentNode.insertBefore(R.Eb,fb.qb()),R.Eb.setAttribute("class","jeefitMask"));ra.Qe=N;var lb=0;R.set_model(Y,function(){eb();R.set_materials(ka,function(){setTimeout(eb,1)})})};R.serialize_detection=function(N){return N.Jc()};R.unserialize_detection=function(N,Y,ka){return Fc.Qc(N,
Y,ka)};R.do_instantDetection=function(N,Y){Gc.h(A.Pc);Gc.start(N,Y)};R.relieve_DOM=function(N,Y){if(h.Ub)return!1;n(Y||160);Q=!1;F&&clearTimeout(F);F=setTimeout(function(){n(K.ka);F=!1;t()},N);return!0};R.switch_slow=function(N,Y){if(h.Ub)return!1;"undefined"===typeof Y&&(Y=K.bk);F&&(n(K.ka),t(),clearTimeout(F),F=!1);N?Q=!1:t();n(N?Y:K.ka);return!0};R.switch_deepSleep=function(N){if(S===N)return!1;S=!1;R.switch_sleep(N);S=N;return!0};R.switch_sleep=function(N,Y){function ka(){R.isBusy=!1;N?(C=u,u=
P.Aa):(u=C,f())}if(h.Ub||S||R.isBusy)return Y?Promise.reject():null;if(N&&u===P.Aa||!N&&u!==P.Aa)return Y?Promise.resolve(!1):!1;B&&(clearInterval(B),B=null);u===P.kc?(u=P.U,ta.sa(G.gb),ta.ab(0)):u===P.jc&&(u=P.Ja,ta.sa(G.Cb),ta.ab(1));ub.stop();var Ba=null;R.isBusy=!0;Y?Ba=Rc(!N).then(ka):ka();return Y?Ba:!0};R.set_modelStandalone=function(N,Y){ta.$d(!1);qc.instance({url:N.model,Fc:N.materials,Hb:!1,Gb:!1,N:function(ka){Fa.Ha=[0,0,0];Fa.xb=1;Fa.Ic=0;Fa.wa=K.wa;Fa.pa=K.pa;Fa.ma=K.ma;R.ready&&oa.he();
Y&&Y();d(ka);oa.rg();ta.$d(!0)}})};R.start_rendering=oa.rg;R.update_material=function(N,Y){cb&&cb.Ao(N,Y)};R.set_model=function(N,Y,ka){cb&&cb.replace("http"===N.substring(0,4).toLowerCase()?N:K.Y+K.ua+K.Qf+"/"+N,function(){Y&&Y(cb.Tk())},ka)};R.set_tweaker=function(N,Y){function ka(Ba){R.Tg(Ba);Y&&Y()}"string"===typeof N?jb(K.Y+K.ua+K.so+"/"+N,ka):ka(N)};R.Tg=function(N){N&&(N.preOffset&&(Fa.Ha=N.preOffset),N.preScale&&(Fa.xb=N.preScale),N.rx&&(Fa.Ic=N.rx),N.beginBendZ&&(Fa.wa=N.beginBendZ),N.bendStrength&&
(Fa.pa=N.bendStrength),N.maskBranchStartEnd&&(Fa.ma=N.maskBranchStartEnd),R.ready&&oa.he())};R.set_materials=function(N,Y){if(cb){var ka=K.Y+K.ua+K.Nf+"/";N=N.map(function(Ba){var Ra=Ba;"string"===typeof Ba&&(Ra=ka+Ba,Ra=Ra.replace(/([^:])\/\//,"$1/"));return Ra});cb.ig(N,Y)}}},rg:function(){M||(oa.Oc(),K.Yb&&(xa.reset(),ua.kb.Ik(Da.ia),ua.kb.Hk()),R.ready=!0,k=0,f(),J=0,M=!0,aa.Hg(Zb.yl),oa.he(),ta.mo(),R.Vc.forEach(function(N){N()}),R.Vc.splice(0))},li:function(N,Y){N=qc.instance({N:function(){oa.rg();
Y&&Y()},url:N.url,Fc:N.Fc,Hb:N.Hb,Gb:N.Gb});d(N)},po:function(){if(K.Yb){var N=Object.assign({},bb,{ac:K.Y+K.ua+bb.ac});ua.kb.jg(N)}}};return oa}function Pb(a){return 3===arguments.length?this.ob(arguments):this.set(a)}function Hc(a,b){b=Math.floor(b);a.r=(b>>16&255)/255;a.ba=(b>>8&255)/255;a.J=(b&255)/255}function Vc(a,b){function f(g){void 0!==g&&1>parseFloat(g)&&console.warn("JETHREE.Color: Alpha component of "+b+" will be ignored.")}var d;if(d=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(b)){var n=
d[2];switch(d[1]){case "rgb":case "rgba":if(d=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)){a.r=Math.min(255,parseInt(d[1],10))/255;a.ba=Math.min(255,parseInt(d[2],10))/255;a.J=Math.min(255,parseInt(d[3],10))/255;f(d[5]);return}if(d=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)){a.r=Math.min(100,parseInt(d[1],10))/100;a.ba=Math.min(100,parseInt(d[2],10))/100;a.J=Math.min(100,parseInt(d[3],10))/100;f(d[5]);return}break;case "hsl":case "hsla":if(d=
/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)){n=parseFloat(d[1])/360;var m=parseInt(d[2],10)/100,t=parseInt(d[3],10)/100;f(d[5]);a.En(n,m,t);return}}}else if(d=/^#([A-Fa-f0-9]+)$/.exec(b)){d=d[1];n=d.length;if(3===n){a.r=parseInt(d.charAt(0)+d.charAt(0),16)/255;a.ba=parseInt(d.charAt(1)+d.charAt(1),16)/255;a.J=parseInt(d.charAt(2)+d.charAt(2),16)/255;return}if(6===n){a.r=parseInt(d.charAt(0)+d.charAt(1),16)/255;a.ba=parseInt(d.charAt(2)+d.charAt(3),16)/255;
a.J=parseInt(d.charAt(4)+d.charAt(5),16)/255;return}}b&&0<b.length&&(d=Wc[b],void 0!==d?Hc(a,d):console.warn("JETHREE.Color: Unknown color "+b))}function ac(a,b,f,d){this.m=a||0;this.o=b||0;this.s=f||0;this.G=void 0!==d?d:1}function Qb(a,b){this.x=a||0;this.y=b||0}function Sa(a,b,f){this.x=a||0;this.y=b||0;this.z=f||0}function Ic(a,b){var f=a.x,d=a.y,n=a.z;a.x=d*b.z-n*b.y;a.y=n*b.x-f*b.z;a.z=f*b.y-d*b.x}function Hb(a,b,f,d){this.m=a||0;this.o=b||0;this.s=f||0;this.Ta=d||Hb.T}function rc(a,b){this.min=
void 0!==a?a:new Sa(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new Sa(-Infinity,-Infinity,-Infinity)}function jc(a){return(new Sa).Wc(a.min,a.max).Fa(.5)}function Xc(a,b){a.min.min(b);a.max.max(b)}function Rb(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("JETHREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function sc(a,b,f,d,n,m){this.Ba=a;this.J=b;this.Ca=f;this.Pa=d instanceof Sa?d:new Sa;this.ke=Array.isArray(d)?
d:[];this.color=n instanceof Pb?n:new Pb;this.Kg=Array.isArray(n)?n:[];this.Zb=void 0!==m?m:0}function Yc(a,b,f){var d=new XMLHttpRequest;d.open("GET",a,!0);var n=d.withCredentials=!1;d.onreadystatechange=function(){404!==d.status||n||(n=!0,f&&f(404));if(4===d.readyState&&200===d.status){var m=null;try{m=JSON.parse(d.responseText)}catch(t){f&&f(-1)}b&&m&&b(m)}};d.onerror=function(){f&&f(0)};d.send()}function tc(a,b,f){"object"===typeof a?b(a):Yc(a,b,f)}function Zc(a,b){for(var f=new Sa,d=new Sa,n=
0,m=b.length;n<m;n++){var t=b[n],g=a[t.Ba],q=a[t.J];f.eb(a[t.Ca],q);d.eb(g,q);Ic(f,d);0!==f.Cf()&&(f.normalize(),t.Pa.B(f))}}function $c(a,b){for(var f=Array(a.length),d=0,n=a.length;d<n;++d)f[d]=new Sa;d=new Sa;n=new Sa;for(var m=0,t=b.length;m<t;++m){var g=b[m],q=a[g.Ba],p=a[g.J];d.eb(a[g.Ca],p);n.eb(q,p);Ic(d,n);f[g.Ba].add(d);f[g.J].add(d);f[g.Ca].add(d)}d=0;for(a=a.length;d<a;++d)f[d].normalize();a=0;for(d=b.length;a<d;++a)n=b[a],m=n.ke,3===m.length?(m[0].B(f[n.Ba]),m[1].B(f[n.J]),m[2].B(f[n.Ca])):
(m[0]=f[n.Ba].clone(),m[1]=f[n.J].clone(),m[2]=f[n.Ca].clone());return f}function ad(a,b,f,d){function n(O){y.B(b[O]);w.B(y);var L=g[O];F.B(L);F.sub(y.Fa(y.fd(L))).normalize();var A=w.x,k=w.y,x=w.z,G=L.x,J=L.y;L=L.z;l.x=k*L-x*J;l.y=x*G-A*L;l.z=A*J-k*G;A=0>l.fd(q[O])?-1:1;t[4*O]=F.x;t[4*O+1]=F.y;t[4*O+2]=F.z;t[4*O+3]=A}for(var m=a.length,t=new Float32Array(4*m),g=Array(m),q=Array(m),p=0;p<m;p++)g[p]=new Sa,q[p]=new Sa;var D=new Sa,H=new Sa,v=new Sa,z=new Qb,r=new Qb,h=new Qb,e=new Sa,I=new Sa;d.forEach(function(O){var L=
O.Ba,A=O.J;O=O.Ca;D.B(a[L]);H.B(a[A]);v.B(a[O]);z.B(f[L]);r.B(f[A]);h.B(f[O]);var k=H.x-D.x,x=v.x-D.x,G=H.y-D.y,J=v.y-D.y,M=H.z-D.z,Q=v.z-D.z,ba=r.x-z.x,ia=h.x-z.x,P=r.y-z.y,u=h.y-z.y,B=1/(ba*u-ia*P);e.set((u*k-P*x)*B,(u*G-P*J)*B,(u*M-P*Q)*B);I.set((ba*x-ia*k)*B,(ba*J-ia*G)*B,(ba*Q-ia*M)*B);g[L].add(e);g[A].add(e);g[O].add(e);q[L].add(I);q[A].add(I);q[O].add(I)});var F=new Sa,l=new Sa,y=new Sa,w=new Sa;d.forEach(function(O){n(O.Ba);n(O.J);n(O.Ca)});return t}function Jc(a,b,f,d){return Math.sqrt((a-
f)*(a-f)+(b-d)*(b-d))}var Oc="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,f){if(a==Array.prototype||a==Object.prototype)return a;a[b]=f.value;return a},yc=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var f=a[b];if(f&&f.Math==Math)return f}throw Error("Cannot find global object");}(this);U("Promise",function(a){function b(t){this.Da=0;
this.Dc=void 0;this.T=[];var g=this.tb();try{t(g.resolve,g.reject)}catch(q){g.reject(q)}}function f(){this.T=null}function d(t){return t instanceof b?t:new b(function(g){g(t)})}if(a)return a;f.prototype.Da=function(t){if(null==this.T){this.T=[];var g=this;this.tb(function(){g.Dc()})}this.T.push(t)};var n=yc.setTimeout;f.prototype.tb=function(t){n(t,0)};f.prototype.Dc=function(){for(;this.T&&this.T.length;){var t=this.T;this.T=[];for(var g=0;g<t.length;++g){var q=t[g];t[g]=null;try{q()}catch(p){this.Cc(p)}}}this.T=
null};f.prototype.Cc=function(t){this.tb(function(){throw t;})};b.prototype.tb=function(){function t(p){return function(D){q||(q=!0,p.call(g,D))}}var g=this,q=!1;return{resolve:t(this.Ho),reject:t(this.Cc)}};b.prototype.Ho=function(t){if(t===this)this.Cc(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof b)this.Nj(t);else{a:switch(typeof t){case "object":var g=null!=t;break a;case "function":g=!0;break a;default:g=!1}g?this.to(t):this.mi(t)}};b.prototype.to=function(t){var g=
void 0;try{g=t.then}catch(q){this.Cc(q);return}"function"==typeof g?this.Oj(g,t):this.mi(t)};b.prototype.Cc=function(t){this.zi(2,t)};b.prototype.mi=function(t){this.zi(1,t)};b.prototype.zi=function(t,g){if(0!=this.Da)throw Error("Cannot settle("+t+", "+g+"): Promise already settled in state"+this.Da);this.Da=t;this.Dc=g;this.zn()};b.prototype.zn=function(){if(null!=this.T){for(var t=0;t<this.T.length;++t)m.Da(this.T[t]);this.T=null}};var m=new f;b.prototype.Nj=function(t){var g=this.tb();t.bd(g.resolve,
g.reject)};b.prototype.Oj=function(t,g){var q=this.tb();try{t.call(g,q.resolve,q.reject)}catch(p){q.reject(p)}};b.prototype.then=function(t,g){function q(v,z){return"function"==typeof v?function(r){try{p(v(r))}catch(h){D(h)}}:z}var p,D,H=new b(function(v,z){p=v;D=z});this.bd(q(t,p),q(g,D));return H};b.prototype.catch=function(t){return this.then(void 0,t)};b.prototype.bd=function(t,g){function q(){switch(p.Da){case 1:t(p.Dc);break;case 2:g(p.Dc);break;default:throw Error("Unexpected state: "+p.Da);
}}var p=this;null==this.T?m.Da(q):this.T.push(q)};b.resolve=d;b.reject=function(t){return new b(function(g,q){q(t)})};b.race=function(t){return new b(function(g,q){for(var p=Pa(t),D=p.next();!D.done;D=p.next())d(D.value).bd(g,q)})};b.all=function(t){var g=Pa(t),q=g.next();return q.done?d([]):new b(function(p,D){function H(r){return function(h){v[r]=h;z--;0==z&&p(v)}}var v=[],z=0;do v.push(void 0),z++,d(q.value).bd(H(v.length-1),D),q=g.next();while(!q.done)})};return b});U("Math.log2",function(a){return a?
a:function(b){return Math.log(b)/Math.LN2}});var bd="function"==typeof Object.assign?Object.assign:function(a,b){for(var f=1;f<arguments.length;f++){var d=arguments[f];if(d)for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&(a[n]=d[n])}return a};U("Object.assign",function(a){return a||bd});U("Promise.prototype.finally",function(a){return a?a:function(b){return this.then(function(f){return Promise.resolve(b()).then(function(){return f})},function(f){return Promise.resolve(b()).then(function(){throw f;
})})}});U("Math.sign",function(a){return a?a:function(b){b=Number(b);return 0===b||isNaN(b)?b:0<b?1:-1}});var T={ih:!0,op:!1,pp:!1,al:!1,hh:!1,np:!1,Oa:!1,jn:!1,Ad:!1,Vp:!1,Y:"",Pm:"",wk:700,vk:200,jh:!1,Do:!1,Eo:!1,Co:!1,ck:3,Mb:!1,Ug:!0,Ib:"images/backgrounds/interior2.jpg",rc:"images/backgrounds/interior_light.jpg",yk:[256,256,512,512],qc:2.1,sc:8,xk:[64,128,256,256],nm:[60,96,160,250],mm:[8,12,18,40],$b:2.2,Od:1,De:300,Yg:500,Ee:50,Jk:0,Kk:0,ep:45,gp:1,fp:1E3,Zg:20,Uo:10,Vo:10,Wo:5,cn:.1,Bi:20,
Ei:100,Fi:100,bn:-Math.PI/3,an:Math.PI/3,Di:0,vj:0,kd:[40,32,16,16],ak:[0,.87,.92,.9],Ym:2,Tm:100,$:!1,dk:16,ek:.4,gk:[.72,.73,.72,.74],rk:1.2,nk:[.5,.5,.5,1],tk:140,sk:280,uk:1.2,hk:20,ik:40,qk:[6,9,9,12],mk:[.03,.02,.02,.018],lk:[.35,.35,.4,.5],jk:[.2,.2,.2,.2],fk:[.1,.15,.15,.15],pk:[200,200,150,120],kk:[1,2,3,5],io:1.1,nq:[.25,.5,1,2],oq:256,mq:256,lq:200,jo:[40,80,200,500],ko:[35,45,80,120],Vk:!0,Wk:"CCW"},Kc={},Z=function(){function a(A,k,x){k=A.createShader(k);A.shaderSource(k,x);A.compileShader(k);
return A.getShaderParameter(k,A.COMPILE_STATUS)?k:!1}function b(A,k,x){k=a(A,A.VERTEX_SHADER,k);x=a(A,A.FRAGMENT_SHADER,x);A===c&&g.push(k,x);var G=A.createProgram();A.attachShader(G,k);A.attachShader(G,x);A.linkProgram(G);return G}function f(A){return["float","sampler2D","int"].map(function(k){return"precision "+A+" "+k+";\n"}).join("")}function d(A,k){k.Z=k.Z?!0:!1;if(!k.Z){void 0===k.j&&(k.j="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");
void 0===k.D&&(k.D=["a0"]);void 0===k.M&&(k.M=[2]);if(void 0===k.precision||"highp"===k.precision)k.precision=v;k.id=D++;void 0!==k.Vi&&(k.Vi.forEach(function(M,Q){k.b=k.b.replace(M,k.Ia[Q])}),k.Vi.splice(0));k.Lg=0;k.M.forEach(function(M){k.Lg+=4*M});var x=f(k.precision)+k.j,G=f(k.precision)+k.b;k.na=b(A,x,G);k.v={};k.c.forEach(function(M){k.v[M]=A.getUniformLocation(k.na,M)});k.attributes={};k.va=[];k.D.forEach(function(M){var Q=A.getAttribLocation(k.na,M);k.attributes[M]=Q;k.va.push(Q)});if(k.l){A.useProgram(k.na);
p=k;q=k.id;for(var J in k.l)A.uniform1i(k.v[J],k.l[J])}k.Ea=!0}}function n(A){pb.jj(L);q!==A.id&&(L.F(),q=A.id,p=A,c.useProgram(A.na),A.va.forEach(function(k){0!==k&&c.enableVertexAttribArray(k)}))}function m(A,k,x){d(A,k,x);A.useProgram(k.na);A.enableVertexAttribArray(0);q=-1;return p=k}function t(){return{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1"],l:{u1:0}}}var g=[],q=-1,p=null,D=0,H=!1,v="highp",z=["u1"],r=["u0"],h={u1:0},e={u0:0},I={u1:0,u2:1},
F={u3:0},l={s0:t(),s1:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:z,l:h,precision:"lowp"},s2:{b:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",c:["u1","u2"],l:I},s3:{b:"uniform sampler2D u1;uniform vec2 u4,u5;varying vec2 vv0;void main(){vec2 a=vv0*u4+u5;gl_FragColor=texture2D(u1,a);}",c:["u1","u4","u5"],l:h,Z:!0},s4:{b:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",
c:z,l:h},s5:{b:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",c:["u1","u2"],l:I},s6:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",c:z,l:h},s7:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",c:z,l:h},s8:{b:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",
c:["u0","u4"],l:e},s9:{b:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,f);gl_FragColor=b*g;}",c:["u0","u4"],l:e},s10:{b:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",c:z,l:h},s11:{b:"uniform sampler2D u1,u6;uniform float u7;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u6,vv0);gl_FragColor=mix(b,a,u7*f);}",
c:["u1","u6","u7"],l:{u1:0,u6:1}},s12:{b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u8)+texture2D(u1,vv0+u8*vec2(1.,-1.))+texture2D(u1,vv0+u8*vec2(-1.,-1.))+texture2D(u1,vv0+u8*vec2(-1.,1.)));}",c:["u1","u8"],l:h},s13:{b:"uniform sampler2D u1;uniform vec4 u9;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u9);gl_FragColor=j(a);}",
c:["u1","u9"],l:h},s14:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",c:r,l:e,Z:!0},s15:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",c:r,l:e},s16:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",c:r,l:e},
s17:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",c:r,l:e},s18:{b:"uniform sampler2D u0,u7,u10;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u7,vv0),d=texture2D(u10,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",c:["u0","u7","u10"],l:{u0:0,u7:1,u10:2},Z:!0},s19:{b:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",
c:r,l:e},s20:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=log(f+a);gl_FragColor=b;}",c:r,l:e,Z:!0},s21:{b:"uniform sampler2D u0,u11;uniform float u12;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u11,e);float b=u12*u12;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",c:["u0","u11","u12"],l:{u0:0,u11:1},Z:!0},s22:{b:"uniform sampler2D u1;uniform vec2 u13;varying vec2 vv0;void main(){float a=u13.x*u13.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u13.y),f=floor(u13.x*fract(b*u13.y)),g=(f*u13.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
c:["u1","u13"],l:h},s23:{b:"uniform sampler2D u14,u15,u16;varying vec2 vv0;void main(){vec4 a=texture2D(u16,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u14,b),f=texture2D(u15,c);gl_FragColor=d*f;}",c:["u14","u15","u16"],l:{u15:0,u14:1,u16:2},Z:!0},s24:{b:"uniform float u17;uniform sampler2D u14,u15;varying vec2 vv0;void main(){vec2 a=fract(vv0*u17);vec4 b=texture2D(u14,vv0),c=texture2D(u15,a);gl_FragColor=b*c;}",c:["u15","u14","u17"],l:{u15:0,u14:1}},s25:{b:"uniform float u17;uniform sampler2D u14,u15,u18,u19,u20,u21;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 h=vv0*u17,l=floor(h),c=h-l;vec4 m=texture2D(u14,vv0),d=texture2D(u15,c),a=texture2D(u21,vv0);a=a*255.;vec4 n=texture2D(u18,c),o=texture2D(u19,c),p=texture2D(u20,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b;d=i*d+j*n+k*o+q*p,gl_FragColor=m*d;}",
c:"u14 u15 u17 u21 u18 u19 u20".split(" "),l:{u15:0,u14:1,u21:3,u18:4,u19:5,u20:6},Z:!0},s26:{b:"uniform sampler2D u14,u15,u22;uniform float u17,u23,u24,u25;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u23*vv0),b=u23*vv0-a;float c=u17/u23;vec2 d=floor(b*c),f=b*c-d,g=(a+f)/u23;float k=u23*u25/u17;vec2 l=k*d,h=(l+f*u24)/u25,i=step(h,j);vec4 m=texture2D(u14,g),n=texture2D(u15,h),o=m*n*i.x*i.y,p=texture2D(u22,g);gl_FragColor=o*u24*u24+p;}",c:"u14 u15 u17 u23 u24 u25 u22".split(" "),
l:{u15:0,u14:1,u22:2}},s27:{b:"uniform sampler2D u14,u15;varying vec2 vv0;void main(){vec4 a=texture2D(u14,vv0),b=texture2D(u15,vv0);gl_FragColor=a*b;}",c:["u14","u15"],l:{u15:0,u14:1},Z:!0},s28:{b:"uniform sampler2D u1,u22;uniform float u26;varying vec2 vv0;void main(){gl_FragColor=texture2D(u22,vv0)+u26*texture2D(u1,vv0);}",c:["u1","u22","u26"],l:{u1:0,u22:1}},s29:{b:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
c:z,l:h,precision:"lowp"},s30:{b:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",c:["u1","u27"],l:h,precision:"lowp"},s31:{b:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
c:["u1","u27"],l:h,precision:"lowp"},s32:{b:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u28))*2.,b-=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,b+=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u28))*2.,b+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
c:["u1","u2","u28"],l:I,Z:!0},s33:{b:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u28,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",c:["u1","u2","u28"],l:I,Z:!0},s34:{b:"uniform sampler2D u3;uniform vec2 u8;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u8*g;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u8*h),d=texture2D(u3,a+u8*i),j=texture2D(u3,a+u8),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
c:["u3","u8"],l:F},s35:{b:"uniform sampler2D u3;uniform vec2 u8;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u8*k),d=texture2D(u3,a+u8*l),g=texture2D(u3,a+u8),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u8*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u8*m),d=f(a+u8*2.),g=f(a+u8*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",c:["u3","u8"],l:F,Z:!0},
s36:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",c:["u1"],l:h,precision:"lowp",Z:!0},s37:{b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u8)+2002./e*texture2D(u1,vv0-2.*u8)+3003./e*texture2D(u1,vv0-u8)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u8)+2002./e*texture2D(u1,vv0+2.*u8)+1001./e*texture2D(u1,vv0+3.*u8);gl_FragColor=a;}",c:["u8","u1"],l:h,precision:"lowp",
Z:!0},s38:{b:"uniform sampler2D u1,u11,u29;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u11,vv0),b=texture2D(u29,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",c:["u1","u11","u29"],l:{u1:0,u11:1,u29:2},Z:!0}},y={s39:{b:"uniform float u17,u30;uniform sampler2D u14,u15,u22;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u22,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u17,xyTo=floor(vv0*u17+eps2);float weightSize=toSparsity*u17;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u30*(xyPatch-halfFromSparsity))/u17,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u14,uvWeight)*texture2D(u15,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
c:["u17","u14","u15","u22","u30"],Ia:["1.1111","gl_FragColor\\*=2.2222;"]},s40:{b:"uniform float u17,u30,u25;uniform sampler2D u14,u15,u22;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u22,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u25,xyTo=floor(vv0*u17+eps2);float weightSize=fromSparsity*u25;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u17;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u30*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u25,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u14,uvWeight)*texture2D(u15,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
c:"u17 u25 u14 u15 u22 u30".split(" "),Ia:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},w=null,O=null,L={Xb:function(){return H},h:function(){if(!H){w=Wa(l,2);O=Wa(y,2);v="highp";for(var A in w)d(c,w[A],A);Z.set("s0");c.enableVertexAttribArray(0);H=!0}},we:function(A){A.forEach(function(k){L.oa(k)})},oa:function(A){w[A.id]=A;d(c,A,A.id)},Rh:function(A,k,x){k||(k=A);w[k]=Object.create(O[A]);w[k].tm=!0;O[A].Ia&&O[A].Ia.forEach(function(G,J){w[k].b=w[k].b.replace(new RegExp(G,"g"),x[J])});d(c,w[k],
k)},set:function(A){var k=w[A];k.Z&&(k.Z=!1,d(c,k,A));n(k)},yb:function(A){return m(A,t(),"s41")},Td:function(A){return m(A,{b:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",c:[],precision:"highp"},"s42")},xl:function(A){return"undefined"===typeof w[A]?!1:w[A].Ea},F:function(){-1!==q&&(q=-1,p.va.forEach(function(A){0!==A&&c.disableVertexAttribArray(A)}))},Vd:function(){var A=0;p.va.forEach(function(k,x){x=p.M[x];c.vertexAttribPointer(k,x,c.FLOAT,!1,p.Lg,A);A+=4*x})},sp:function(){c.enableVertexAttribArray(0)},
Mc:function(){L.dc(c)},dc:function(A){A.vertexAttribPointer(p.va[0],2,A.FLOAT,!1,8,0)},Ud:function(A,k){c.uniform1i(p.v[A],k)},C:function(A,k){c.uniform1f(p.v[A],k)},L:function(A,k,x){c.uniform2f(p.v[A],k,x)},kj:function(A,k){c.uniform2fv(p.v[A],k)},ng:function(A,k){c.uniform3fv(p.v[A],k)},mg:function(A,k,x,G){c.uniform3f(p.v[A],k,x,G)},ao:function(A,k,x,G,J){c.uniform4f(p.v[A],k,x,G,J)},za:function(A,k){c.uniform4fv(p.v[A],k)},bo:function(A,k){c.uniformMatrix2fv(p.v[A],!1,k)},co:function(A,k){c.uniformMatrix3fv(p.v[A],
!1,k)},Lc:function(A,k){c.uniformMatrix4fv(p.v[A],!1,k)},f:function(A,k){L.set(A);k.forEach(function(x){switch(x.type){case "4f":c.uniform4fv(p.v[x.name],x.value);break;case "3f":c.uniform3fv(p.v[x.name],x.value);break;case "2f":c.uniform2fv(p.v[x.name],x.value);break;case "1f":c.uniform1f(p.v[x.name],x.value);break;case "1i":c.uniform1i(p.v[x.name],x.value);break;case "mat2":c.uniformMatrix2fv(p.v[x.name],!1,x.value);break;case "mat3":c.uniformMatrix3fv(p.v[x.name],!1,x.value);break;case "mat4":c.uniformMatrix4fv(p.v[x.name],
!1,x.value)}})},Ep:function(){return"lowp"},u:function(){c.disableVertexAttribArray(0);L.F();for(var A in w){var k=w[A];k.Ea&&(k.Ea=!1,c.deleteProgram(k.na));k.tm&&delete w[A]}g.forEach(function(x){c.deleteShader(x)});g.splice(0);D=0;H=!1;p=null;q=-1}};return L}(),c=null,fb=function(){function a(v){console.log("ERROR in ContextFF: ",v);return!1}function b(v){function z(){Bb.u();za.reset();h.getExtension("WEBGL_lose_context").loseContext()}if(navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1"))return!1;
var r=document.createElement("canvas");r.setAttribute("width",5);r.setAttribute("height",5);var h=null;try{h=r.getContext("webgl2",v)}catch(e){return!1}if(!h)return!1;f(h);za.rh(h);v=za.Re(h);if(!v.Va&&!v.Xa)return z(),!1;v=Bb.$g(h,v);z();return v?!0:!1}function f(v){v.clearColor(0,0,0,0);v.disable(v.DEPTH_TEST);v.disable(v.BLEND);v.disable(v.DITHER);v.disable(v.STENCIL_TEST);v.disable(v.CULL_FACE);v.GENERATE_MIPMAP_HINT&&v.hint(v.GENERATE_MIPMAP_HINT,v.FASTEST);v.disable(v.SAMPLE_ALPHA_TO_COVERAGE);
v.disable(v.SAMPLE_COVERAGE);v.depthFunc(v.LEQUAL);v.clearDepth(1)}var d=null,n=null,m=null,t=null,g=!0,q=null,p=null,D=[],H={I:function(){return d.width},V:function(){return d.height},qb:function(){return d},Al:function(){return c},ha:function(){return g},flush:function(){c.flush()},Gl:function(){q||(q=new Uint8Array(d.width*d.height*4));c.readPixels(0,0,d.width,d.height,c.RGBA,c.UNSIGNED_BYTE,q);return q},zp:function(){return d.toDataURL("image/jpeg")},Ap:function(){xa.X();n||(n=document.createElement("canvas"),
m=n.getContext("2d"));n.width=d.width;n.height=d.height;for(var v=H.Gl(),z=m.createImageData(n.width,n.height),r=n.width,h=n.height,e=z.data,I=0;I<h;++I)for(var F=h-I-1,l=0;l<r;++l){var y=4*(I*r+l),w=4*(F*r+l);e[y]=v[w];e[y+1]=v[w+1];e[y+2]=v[w+2];e[y+3]=v[w+3]}m.putImageData(z,0,0);return n.toDataURL("image/png")},Dh:function(v){!n&&v&&(n=document.createElement("canvas"),m=n.getContext("2d"));var z=v?n:document.createElement("canvas");z.width=d.width;z.height=d.height;(v?m:z.getContext("2d")).drawImage(d,
0,0);return z},h:function(v){v=Object.assign({Wa:null,Tf:null,qa:null,Ke:null,width:512,height:512,premultipliedAlpha:!1,qm:!0,antialias:!1,debug:!1,mp:!1},v);v.Wa?(c=v.Wa,d=v.Wa.canvas):v.Ke&&!v.qa?d=document.getElementById(v.Ke):v.qa&&(d=v.qa);d||(d=document.createElement("canvas"));d.width=v.width;d.height=v.height;if(c)g=c instanceof WebGL2RenderingContext;else{g=!0;var z={antialias:v.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:v.premultipliedAlpha,stencil:!1,depth:v.qm};navigator&&
navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&(z.antialias=!1);var r=b(z);!r&&z.antialias&&(z.antialias=!1,r=b(z));r&&(c=d.getContext("webgl2",z));c?g=!0:((c=d.getContext("webgl",z))||(c=d.getContext("experimental-webgl",z)),g=!1)}if(!c)return a("WebGL1 and 2 are not enabled");(t=c.getExtension("WEBGL_lose_context"))&&v.Tf&&(p=v.Tf,d.addEventListener("webglcontextlost",p,!1));if(!za.h())return a("Not enough GL capabilities");f(c);Z.h();W.h();if(!Bb.$g(c,za.Dl()))return a("Cannot filter float textures");
D.forEach(function(h){h(c)});D.splice(0);return!0},cp:function(){return new Promise(function(v){c?v(c):D.push(v)})},u:function(){c&&(za.u(),Z.u(),Bb.u());t&&p&&(d.removeEventListener("webglcontextlost",p,!1),t=p=null);c=q=m=n=d=null;D.splice(0)}};return H}(),pb=function(){function a(){null===b&&("undefined"!==typeof Z?b=Z:"undefined"!==typeof E&&(b=E))}var b=null;a();return{reset:function(){b=null},jj:function(f){b!==f&&(b&&b.F(),b=f)},Xb:function(){return b.Xb()},Mc:function(){return b.Mc()},dc:function(f){return b.dc(f)},
Vd:function(){return b.Vd()},F:function(){return b.F()},set:function(f){return b.set(f)},yb:function(f){a();return b.yb(f)},Td:function(f){a();return b.Td(f)}}}(),X=function(){function a(x){c.bindTexture(c.TEXTURE_2D,x)}function b(x){var G=new Uint16Array(x.length);x.forEach(function(J,M){O[0]=J;var Q=L[0];var ba=Q>>16&32768;J=Q>>12&2047;var ia=Q>>23&255;Q=103>ia?ba:142<ia?ba|31744|((255==ia?0:1)&&Q&8388607):113>ia?(J|=2048,ba|(J>>114-ia)+(J>>113-ia&1)):(ba|ia-112<<10|J>>1)+(J&1);G[M]=Q});return G}
function f(){if(null!==A.tf)return A.tf;var x=d(b([.5,.5,.5,.5]));return null===x?!0:A.tf=x}function d(x){if(!pb.Xb()||!z)return null;var G=null,J=Math.sqrt(x.length/4);try{var M=c.getError();if("FUCKING_BIG_ERROR"===M)return!1;G=k.instance({isFloat:!1,O:!0,array:x,width:J});M=c.getError();if(M!==c.NO_ERROR)return!1}catch(ba){return!1}xa.X();c.viewport(0,0,J,J);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);pb.set("s0");G.Jb(0);W.g(!0,!0);x=4*J*J;M=new Uint8Array(x);c.readPixels(0,0,J,J,c.RGBA,
c.UNSIGNED_BYTE,M);J=!0;for(var Q=0;Q<x;++Q)J=J&&3>Math.abs(M[Q]-127);G.remove();xa.fa();return J}var n=0,m=null,t=0,g=null,q=null,p=null,D=null,H=null,v=null,z=!1,r=[],h={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,ga_:null,Kh:null,rm:!1,O:!1,N:null,A:4,Of:0},e=!1,I=null,F=null,l=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],y=!1,w=!1,O=new Float32Array(1),L=new Int32Array(O.buffer),
A={tf:null,uf:null},k={h:function(){z||(H=[c.RGBA,null,c.RGBA,c.RGBA],v=[c.RGBA,null,c.RGBA,c.RGBA],m=[c.TEXTURE0,c.TEXTURE1,c.TEXTURE2,c.TEXTURE3,c.TEXTURE4,c.TEXTURE5,c.TEXTURE6,c.TEXTURE7],y="undefined"!==typeof aa,w="undefined"!==typeof za,g=[-1,-1,-1,-1,-1,-1,-1,-1],D=[c.UNSIGNED_BYTE,c.FLOAT,c.FLOAT],z=!0)},im:function(){if(!q){for(var x=new Float32Array(16384),G=0;16384>G;++G)x[G]=2*Math.random()-1;q={random:k.instance({isFloat:!0,isPot:!0,array:x,width:64}),zj:k.instance({isFloat:!1,isPot:!0,
width:1,array:new Uint8Array([0,0,0,0])})}}k.yo()},Jh:function(){return q.zj},yo:function(){D[1]=za.cf(c)},Wn:function(){v=H=[c.RGBA,c.RGBA,c.RGBA,c.RGBA]},Oi:function(x){Z.set("s1");xa.X();var G=x.I(),J=x.V();c.viewport(0,0,G,J);x.a(0);W.g(!1,!1)},Yp:function(x,G){k.Oi(x);c.readPixels(0,0,x.I(),x.V(),c.RGBA,c.UNSIGNED_BYTE,G)},Zp:function(x,G){k.Oi(x);return za.ag(0,0,x.I(),x.V(),G)},yh:function(x,G,J,M,Q,ba,ia){x.activeTexture(x.TEXTURE0);var P=x.createTexture();x.bindTexture(x.TEXTURE_2D,P);Q=
Q instanceof Float32Array?Q:new Float32Array(Q);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.NEAREST);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.NEAREST);x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,ba);x.texImage2D(x.TEXTURE_2D,0,x.RGBA,J,M,0,x.RGBA,x.FLOAT,Q);x.bindTexture(x.TEXTURE_2D,null);x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,!1);ia&&(xa.fa(),Z.yb(x));x.viewport(0,
0,J,M);x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,G,0);x.bindTexture(x.TEXTURE_2D,P);ia?W.g(!0,!0):W.Ob(x);x.deleteTexture(P);z&&(g[0]=-1,p=null,n=0)},ve:function(x){x!==n&&(c.activeTexture(m[x]),n=x)},instance:function(x){function G(){la=void 0!==u.ga_.videoWidth?u.ga_.videoWidth:u.ga_.width;ha=void 0!==u.ga_.videoHeight?u.ga_.videoHeight:u.ga_.height}function J(da){var va=c.getError();if("FUCKING_BIG_ERROR"===va)return!1;c.texImage2D(c.TEXTURE_2D,0,Ga,Xa,oa,da);va=c.getError();
va!==c.NO_ERROR&&Xa!==c.RGBA&&(Xa=c.RGBA,c.texImage2D(c.TEXTURE_2D,0,Ga,Xa,oa,da));return!0}function M(){if(!ea){a(Qa);N&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,N);u.isPot?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,u.isMirrorX?c.MIRRORED_REPEAT:c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,u.isMirrorY?c.MIRRORED_REPEAT:c.REPEAT)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE));u.isAnisotropicFiltering&&"undefined"!==
typeof T&&c.texParameterf(c.TEXTURE_2D,aa.Hl().TEXTURE_MAX_ANISOTROPY_EXT,T.ck);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,u.isLinear?c.LINEAR:c.NEAREST);u.isLinear?c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,u.isMipmap&&!ka?c.NEAREST_MIPMAP_LINEAR:c.LINEAR):c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,u.isMipmap&&!ka?c.NEAREST_MIPMAP_NEAREST:c.NEAREST);Xa=H[u.A-1];Ga=v[u.A-1];oa=D[C];if(za.ha()){var da=za.Jl();Xa===c.RGBA&&oa===c.FLOAT?u.isMipmap||u.isLinear?Ga=Bb.Ll(c):za.aa()?
da&&(Ga=da):Ga=c.RGBA16F||c.RGBA:Xa===c.RGB&&oa===c.FLOAT&&da&&(Ga=da,Xa=c.RGBA)}if(u.O&&!u.isFloat||u.isFloat&&u.isMipmap&&Bb.Am())Ga=za.Kl(),oa=za.cf(c);u.Of&&(Ra=u.Of);u.isSrgb&&4===u.A&&(Xa=aa.$l());if(u.ga_)J(u.ga_);else if(u.url)J(Ma);else if(Oa){da=Oa;try{"FUCKING_BIG_ERROR"!==c.getError()&&(c.texImage2D(c.TEXTURE_2D,0,Ga,la,ha,0,Xa,oa,da),c.getError()!==c.NO_ERROR&&(c.texImage2D(c.TEXTURE_2D,0,Ga,la,ha,0,Xa,oa,null),c.getError()!==c.NO_ERROR&&c.texImage2D(c.TEXTURE_2D,0,c.RGBA,la,ha,0,c.RGBA,
c.UNSIGNED_BYTE,null)))}catch(md){c.texImage2D(c.TEXTURE_2D,0,Ga,la,ha,0,Xa,oa,null)}u.isKeepArray||(Oa=null)}else da=c.getError(),"FUCKING_BIG_ERROR"!==da&&(c.texImage2D(c.TEXTURE_2D,0,Ga,la,ha,0,Xa,oa,null),da=c.getError(),da!==c.NO_ERROR&&(Xa=c.RGBA,u.O&&oa!==c.FLOAT&&(oa=c.FLOAT,c.texImage2D(c.TEXTURE_2D,0,Ga,la,ha,0,Xa,oa,null))));if(u.isMipmap)if(!ka&&Ya)Ya.rd(),eb=!0;else if(ka){da=Math.log2(Math.min(la,ha));Ba=Array(1+da);Ba[0]=Qa;for(var va=1;va<=da;++va){var gb=Math.pow(2,va),Ka=la/gb;gb=
ha/gb;var Ib=c.createTexture();a(Ib);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texImage2D(c.TEXTURE_2D,0,Ga,Ka,gb,0,Xa,oa,null);a(null);Ba[va]=Ib}eb=!0}a(null);g[n]=-1;N&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1);V=!0;u.N&&Ya&&(u.N(Ya),u.N=null)}}function Q(){for(var da=la*ha,va=2*da,gb=3*da,Ka=0;Ka<da;++Ka)La[0][Ka]=vb[Ka],La[1][Ka]=vb[Ka+da],La[2][Ka]=vb[Ka+va],La[3][Ka]=vb[Ka+gb]}function ba(){var da=la*ha*4;Ja=[new Uint8Array(da),
new Uint8Array(da),new Uint8Array(da),new Uint8Array(da)];La=[new Float32Array(Ja[0].buffer),new Float32Array(Ja[1].buffer),new Float32Array(Ja[2].buffer),new Float32Array(Ja[3].buffer)];Fa=new Uint8Array(4*da);vb=new Float32Array(Fa.buffer);ya=!0}function ia(){P=new Uint8Array(la*ha*4);kb=new Float32Array(P.buffer);lb=!0}var P,u=Object.assign({},h,x),B=t++;null===u.isFlipY&&(u.isFlipY=u.url||u.array?!0:!1);u.data&&(u.array="string"===typeof u.data?Fb(u.data):u.isFloat?new Float32Array(u.data):new Uint8Array(u.data),
u.isFlipY=!1);var C=0,S=u.ga_?!0:!1,ca=null,ja=null,pa=!1,ra=null;u.O=u.O||u.isFloat;u.O&&(C=1);!u.rm&&u.isFloat&&w&&!za.aa()&&(u.isFloat=!1);u.isFloat&&(C=2);u.isAnisotropicFiltering&&y&&!aa.zm()&&(u.isAnisotropicFiltering=!1);var Qa=u.Kh||c.createTexture(),Ma=null,Oa=!1,la=0,ha=0,V=!1,ea=!1,ya=!1,La=null,Ja=null,Fa=null,vb=null,Ga=null,Xa=null,oa=null,N=u.isFlipY,Y=(x=u.O&&u.isMipmap)&&Bb.Mk(),ka=x&&Y?!0:!1,Ba=null,Ra=-1,eb=!1,lb=!1,kb=P=null;u.width&&(la=u.width,ha=u.height?u.height:la);var Ya=
{get:function(){return Qa},I:function(){return la},V:function(){return ha},bm:function(){return u.url},ei:function(){return u.isFloat},fi:function(){return u.O},Pp:function(){return u.isLinear},rd:function(){c.generateMipmap(c.TEXTURE_2D)},Dk:function(da,va){ka?(da||(da=Ya.Hh()),k.ve(va),a(Ba[da]),g[va]=-1):Ya.a(va)},Hh:function(){-1===Ra&&(Ra=Math.log(la)/Math.log(2));return Ra},zl:function(da){if(ka){da||(da=Ya.Hh());Z.set("s12");k.ve(0);for(var va=la,gb=ha,Ka=1;Ka<=da;++Ka)va/=2,gb/=2,Z.L("u8",
.25/va,.25/gb),c.viewport(0,0,va,gb),a(Ba[Ka-1]),c.framebufferTexture2D(xa.vd(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,Ba[Ka],0),W.g(!1,1===Ka);g[0]=-1}else Ya.rd()},kq:function(da){(S=!(Array.isArray(da)||da.constructor===Float32Array||da.constructor===Uint8Array))?(Oa=null,u.ga_=da,G()):Oa=da},a:function(da){if(!V)return!1;k.ve(da);if(g[da]===B)return!1;a(Qa);g[da]=B;return!0},Jb:function(da){c.activeTexture(m[da]);n=da;a(Qa);g[da]=B},i:function(){p=Ya;c.framebufferTexture2D(xa.vd(),c.COLOR_ATTACHMENT0,
c.TEXTURE_2D,Qa,0)},K:function(){p=Ya;c.viewport(0,0,la,ha);c.framebufferTexture2D(xa.vd(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,Qa,0)},ee:k.ee,resize:function(da,va){la=da;ha=va;M()},clone:function(da){da=k.instance({width:la,height:ha,O:u.O,isFloat:u.isFloat,isLinear:u.isLinear,isMirrorY:u.isMirrorY,isFlipY:da?!N:N,isPot:u.isPot});pb.set("s0");xa.fa();da.i();c.viewport(0,0,la,ha);Ya.a(0);W.g(!0,!0);return da},Nc:function(){c.viewport(0,0,la,ha)},remove:function(){c.deleteTexture(Qa);ea=!0;r.splice(r.indexOf(Ya),
1);Ya=null},refresh:function(){Ya.Jb(0);N&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);S?c.texImage2D(c.TEXTURE_2D,0,Ga,Xa,oa,u.ga_):c.texImage2D(c.TEXTURE_2D,0,Ga,la,ha,0,Xa,oa,Oa);N&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},Mi:function(){ya||ba();c.readPixels(0,0,la,4*ha,c.RGBA,c.UNSIGNED_BYTE,Fa);Q();return La},mn:function(){ya||ba();return za.ag(0,0,la,4*ha,Fa).then(function(){Q();return La})},on:function(){lb||ia();c.readPixels(0,0,la,ha,c.RGBA,c.UNSIGNED_BYTE,P);return kb},nn:function(){lb||ia();
return za.ag(0,0,la,ha,P)},nh:function(da){xa.X();Z.set("s13");Ya.a(0);if(da)c.viewport(0,0,la,ha),Z.ao("u9",.25,.25,.25,.25),W.g(!1,!0);else for(da=0;4>da;++da)c.viewport(0,ha*da,la,ha),Z.za("u9",l[da]),W.g(!1,0===da)},Gg:function(da){var va;if(va=oa===D[0])null!==A.uf?va=A.uf:(va=d(new Uint8Array([127,127,127,127])),va=null===va?!0:A.uf=va),va=!va;a(Qa);N&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);va?(pa||(ca=document.createElement("canvas"),ca.width=la,ca.height=ha,ja=ca.getContext("2d"),ra=ja.createImageData(la,
ha),pa=!0),ra.data.set(da),ja.putImageData(ra,0,0),c.texImage2D(c.TEXTURE_2D,0,Ga,Xa,oa,ca)):c.texImage2D(c.TEXTURE_2D,0,Ga,la,ha,0,Xa,oa,da);g[n]=B;N&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},vq:function(da,va){a(Qa);va&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);c.texImage2D(c.TEXTURE_2D,0,Ga,Xa,oa,da);g[n]=B;va&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},Jc:function(da,va){var gb=la*ha,Ka=4*gb;da=u.O?da?"RGBE":"JSON":"RGBA";va&&(da=va);va=za.ha()&&!1;var Ib=null;switch(da){case "RGBE":Ib="s43";break;
case "JSON":Ib=va?"s0":"s13";break;case "RGBA":case "RGBAARRAY":Ib="s7"}ya||("RGBA"===da||"RGBE"===da||"RGBAARRAY"===da?(Ja=new Uint8Array(Ka),ya=!0):"JSON"!==da||va||ba());xa.X();Z.set(Ib);Ya.a(0);Ka=null;if("RGBA"===da||"RGBE"===da||"RGBAARRAY"===da){c.viewport(0,0,la,ha);W.g(!0,!0);c.readPixels(0,0,la,ha,c.RGBA,c.UNSIGNED_BYTE,Ja);if("RGBAARRAY"===da)return{data:Ja};e||(I=document.createElement("canvas"),F=I.getContext("2d"),e=!0);I.width=la;I.height=ha;gb=F.createImageData(la,ha);gb.data.set(Ja);
F.putImageData(gb,0,0);Ka=I.toDataURL("image/png")}else if("JSON"===da)if(va)Ka=new Float32Array(gb),c.viewport(0,0,la,ha),W.g(!0,!0),c.readPixels(0,0,la,ha,c.RGBA,c.FLOAT,Ka);else{for(Ka=0;4>Ka;++Ka)c.viewport(0,ha*Ka,la,ha),Z.za("u9",l[Ka]),W.g(!Ka,!Ka);Ya.Mi();Ka=Array(gb);for(va=0;va<gb;++va)Ka[4*va]=La[0][va],Ka[4*va+1]=La[1][va],Ka[4*va+2]=La[2][va],Ka[4*va+3]=La[3][va]}return{format:da,data:Ka,width:la,height:ha,isMirrorY:u.isMirrorY,isFlipY:"RGBA"===da?u.isFlipY:!u.isFlipY}}};u.isMipmap&&
!ka&&V&&!eb&&(Ya.rd(),eb=!0);if(u.url)a(Qa),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,null),Ma=new Image,Ma.T="Anonymous",Ma.crossOrigin="Anonymous",Ma.src=u.url,Ma.onload=function(){la=Ma.width;ha=Ma.height;M()};else if(u.ga_){var Lc=function(){G();la?M():setTimeout(Lc,1)};Lc()}else u.array?(u.O&&!u.isFloat?u.array instanceof Uint16Array?(Oa=u.array,M()):f()?(Oa=b(u.array),M()):(M(),k.yh(c,Qa,Ya.I(),Ya.V(),u.array,N,!0)):(Oa=u.isFloat?u.array instanceof Float32Array?u.array:
new Float32Array(u.array):u.array instanceof Uint8Array?u.array:new Uint8Array(u.array),M()),u.isKeepArray||(Oa&&Oa!==u.array&&(Oa=null),delete u.array)):u.Kh?V=!0:M();Ya.Ip=Ya.I;u.N&&V&&(u.N(Ya),u.N=null);r.push(Ya);return Ya},X:function(x){x!==n&&(c.activeTexture(m[x]),n=x);g[x]=-1;a(null)},Fk:function(x){q.random.a(x)},ee:function(){p=null;c.framebufferTexture2D(xa.vd(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)},reset:function(){0!==n&&c.activeTexture(m[0]);for(var x=0;x<m.length;++x)g[x]=-1;n=
-1},bq:function(){n=-1},Bj:function(){for(var x=0;x<m.length;++x)k.X(x)},H:function(){q&&(q.random.remove(),q.zj.remove())},Qc:function(x,G){if("RGBA"===x.format||"RGBE"===x.format){var J=new Image;J.src=x.data;J.onload=function(){k.instance({isMirrorY:x.isMirrorY,isFlipY:x.isFlipY,isFloat:!1,ga_:J,N:function(M){if("RGBA"===x.format)G(M);else{var Q=x.width,ba=x.height,ia=k.instance({isMirrorY:x.isMirrorY,isFloat:!0,width:Q,height:ba,isFlipY:x.isFlipY});xa.fa();c.viewport(0,0,Q,ba);Z.set("s44");ia.i();
M.a(0);W.g(!0,!0);k.X(0);G(ia);za.flush();setTimeout(M.remove,50)}}})}}else"JSON"===x.format?G(k.instance({isFloat:!0,isFlipY:x.isFlipY,width:x.width,height:x.height,array:new Float32Array(x.data)})):G(!1)},Sk:b,u:function(){p&&(xa.fa(),k.ee(),xa.X());k.Bj();r.slice(0).forEach(function(x){x.remove()});r.splice(0);z=!1;t=0;"undefined"!==typeof Bb&&Bb.u();q=null}};return k}(),Bc={instance:function(a){var b=[X.instance(a),X.instance(a)],f=[b[1],b[0]],d=f,n={bj:function(m){d[1].i();d[0].a(m);n.pj()},
Ln:function(m){d[1].K();d[0].a(m);n.pj()},pj:function(){d=d===b?f:b},refresh:function(){d[0].refresh();d[1].refresh()},a:function(m){d[0].a(m)},Ek:function(m){d[1].a(m)},Dp:function(){return d[0]},Gp:function(){return d[1]},Gg:function(m){d[0].Gg(m);d[1].Gg(m)},remove:function(){d[0].remove();d[1].remove();d=null},sync:function(){n.Ln(0);Z.set("s0");W.g(!1,!1)}};return n}},W=function(){function a(q){var p={ea:null,R:null};p.ea=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,p.ea);q.bufferData(q.ARRAY_BUFFER,
new Float32Array([-1,-1,3,-1,-1,3]),q.STATIC_DRAW);p.R=q.createBuffer();q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,p.R);q.bufferData(q.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),q.STATIC_DRAW);return p}var b=null,f=0,d=!1,n=[],m=-2,t=-2,g={reset:function(){t=m=-2},h:function(){d||(b=a(c),g.ze(),d=!0)},instance:function(q){var p=f++,D=q.R?q.R.length:0,H="undefined"===typeof q.mode?c.STATIC_DRAW:q.mode,v=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,v);c.bufferData(c.ARRAY_BUFFER,q.ea instanceof Float32Array?
q.ea:new Float32Array(q.ea),H);m=p;var z=null,r=null,h=null;if(q.R){z=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,z);var e=null;65536>q.R.length?(e=Uint16Array,r=c.UNSIGNED_SHORT,h=2):(e=Uint32Array,r=c.UNSIGNED_INT,h=4);e=q.R instanceof e?q.R:new e(q.R);c.bufferData(c.ELEMENT_ARRAY_BUFFER,e,H);t=p}var I={tc:function(F){m!==p&&(c.bindBuffer(c.ARRAY_BUFFER,v),m=p);F&&pb.Vd()},Bk:function(){t!==p&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,z),t=p)},bind:function(F){I.tc(F);I.Bk()},S:function(){c.drawElements(c.TRIANGLES,
D,r,0)},La:function(F,l){c.drawElements(c.TRIANGLES,F,r,l*h)},remove:function(){c.deleteBuffer(v);q.R&&c.deleteBuffer(z);I=null}};n.push(I);return I},ze:function(){-1!==m&&(c.bindBuffer(c.ARRAY_BUFFER,b.ea),m=-1);-1!==t&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b.R),t=-1)},g:function(q,p){q&&W.ze();p&&pb.Mc();c.drawElements(c.TRIANGLES,3,c.UNSIGNED_SHORT,0)},Ob:function(q){q=q||c;var p=a(q);q.bindBuffer(q.ARRAY_BUFFER,p.ea);q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,p.R);pb.dc(q);q.clear(q.COLOR_BUFFER_BIT);
q.drawElements(q.TRIANGLES,3,q.UNSIGNED_SHORT,0);q.flush();q.bindBuffer(q.ARRAY_BUFFER,null);q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,null);q.deleteBuffer(p.ea);q.deleteBuffer(p.R);g.reset();d&&(g.ze(),pb.Mc())},H:function(){var q=c,p=b;q.deleteBuffer(p.ea);q.deleteBuffer(p.R)},u:function(){g.H();n.forEach(function(q){q.remove()});c.bindBuffer(c.ARRAY_BUFFER,null);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null);g.reset();d=!1;n.splice(0);f=0}};return g}(),xa=function(){var a=null,b=null,f=null,d=!1,n=[],m={la:-2,
xh:1},t={Xb:function(){return d},h:function(){if(!d){a=c.createFramebuffer();var g=za.ha();b=g&&c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER;f=g&&c.READ_FRAMEBUFFER?c.READ_FRAMEBUFFER:c.FRAMEBUFFER;d=!0}},Il:function(){return b},Eh:function(){return f},vd:function(){return c.FRAMEBUFFER},Hp:function(){return m},xp:function(){return a},instance:function(g){void 0===g.yc&&(g.yc=!1);var q=g.ia?g.ia:null,p=g.width,D=void 0!==g.height?g.height:g.width,H=a,v=null,z=!1,r=!1,h=0;q&&(p=p?p:q.I(),D=
D?D:q.V());var e={Wi:function(){z||(H=c.createFramebuffer(),z=!0,h=m.xh++)},Xc:function(){e.Wi();e.i();v=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,v);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,p,D);c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,v);c.clearDepth(1)},bind:function(I,F){h!==m.la&&(c.bindFramebuffer(b,H),m.la=h);q&&q.i();F&&c.viewport(0,0,p,D);I&&c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},Vg:function(){h!==m.la&&(c.bindFramebuffer(b,H),
m.la=h)},clear:function(){c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},Ge:function(){c.clear(c.COLOR_BUFFER_BIT)},bh:function(){c.clear(c.DEPTH_BUFFER_BIT)},Nc:function(){c.viewport(0,0,p,D)},i:function(){h!==m.la&&(c.bindFramebuffer(b,H),m.la=h)},rtt:function(I){q=I;m.la!==h&&(c.bindFramebuffer(c.FRAMEBUFFER,H),m.la=h);I.i()},X:function(){c.bindFramebuffer(b,null);m.la=-1},resize:function(I,F){p=I;D=F;v&&(c.bindRenderbuffer(c.RENDERBUFFER,v),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,
p,D))},remove:function(){H===a||r||(c.bindFramebuffer(b,H),c.framebufferTexture2D(b,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),v&&c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,null),c.bindFramebuffer(b,null),c.deleteFramebuffer(H),v&&c.deleteRenderbuffer(v));r=!0}};g.yc&&e.Xc();n.push(e);return e},X:function(){c.bindFramebuffer(b,null);m.la=-1},tq:function(){c.bindFramebuffer(b,null);c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);za.lj();m.la=-1},reset:function(){m.la=-2},fa:function(){0!==
m.la&&(c.bindFramebuffer(b,a),m.la=0)},clear:function(){za.lj();c.clear(c.COLOR_BUFFER_BIT)},u:function(){t.X();n.forEach(function(g){g.remove()});null!==a&&(c.deleteFramebuffer(a),a=null);t.reset();d=!1;n.splice(0);m.xh=1}};return t}(),za=function(){function a(){n="undefined"===typeof fb?aa:fb;m=!0}function b(e,I){for(var F=0;F<e.length;++F){var l=I.getExtension(e[F]);if(l)return l}return null}function f(){null!==z.de&&(clearInterval(z.de),z.de=null);z.Sb=!1}function d(){z.wc&&(c.deleteSync(z.wc),
z.wc=null)}var n=null,m=!1,t={Yh:!1,yg:null,zg:null,bi:!1,xm:!1,Ag:null,ci:!1,Bg:null,Zh:!1,He:null,om:!1,Ie:null,pm:!1},g=null,q={Va:!0,Xa:!0,Ye:!0,Li:!1},p=null,D=!0,H=null,v=null,z={Sb:!1,Qb:null,wc:null,hf:-1,Ma:null,de:null},r="undefined"===typeof window?{}:window,h={h:function(){if(m)return!0;h.reset();m||a();var e=c;if(!g.Yh){g.yg=h.uh(e);r.GL_EXT_FLOAT=g.yg;g.bi=g.yg?!0:!1;if(g.bi||h.ha())g.zg=h.vh(e),g.xm=g.zg?!0:!1,r.GL_EXT_FLOATLINEAR=g.zg;g.Yh=!0}if(!g.Zh){g.Ag=h.md(e);g.Ag&&(g.ci=!0,
r.GL_EXT_HALFFLOAT=g.Ag);if(g.ci||h.ha())g.Bg=h.wh(e),r.GL_EXT_HALFFLOATLINEAR=g.Bg;g.Np=g.Bg?!0:!1;g.Zh=!0}g.He=h.sh(e);g.om=g.He?!0:!1;r.GL_EXT_COLORBUFFERFLOAT=g.He;g.Ie=h.th(e);g.pm=g.Ie?!0:!1;r.GL_EXT_COLORBUFFERHALFFLOAT=g.Ie;xa.h();X.h();if(!h.el())return!1;W.h();X.im();return!0},reset:function(){g=Object.assign({},t);p=Object.assign({},q)},I:function(){m||a();return n.I()},V:function(){m||a();return n.V()},ha:function(){m||a();return n.ha()},rh:function(e){h.sh(e);h.th(e);h.uh(e);h.vh(e);
h.md(e);h.wh(e)},sh:b.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float","OES_color_buffer_float"]),th:b.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float","OES_color_buffer_half_float"]),uh:b.bind(null,["OES_texture_float","MOZ_OES_texture_float","WEBKIT_OES_texture_float"]),vh:b.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),md:b.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),
wh:b.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear","WEBKIT_OES_texture_half_float_linear"]),cf:function(e){var I=h.md(e);return I&&I.HALF_FLOAT_OES?I.HALF_FLOAT_OES:e.HALF_FLOAT||e.FLOAT},Jl:function(){return v||c.RGBA32F||c.RGBA},Kl:function(){return H||c.RGBA16F||c.RGBA},Dl:function(){return p},aa:function(){return p.Va},hp:function(){return p.Xa},Lk:function(){return p.Ye},Ok:function(){return p.Li&&D},yj:function(e){D=e;!e&&z.Sb&&(d(),c.bindBuffer(z.Ma,null),z.Sb=
!1)},Qp:function(){return z.Sb},ae:function(e,I,F){function l(){e.bindTexture(e.TEXTURE_2D,null);e.bindFramebuffer(y,null);e.deleteTexture(L);e.deleteFramebuffer(O)}var y=e.FRAMEBUFFER,w=e.NEAREST,O=e.createFramebuffer();e.bindFramebuffer(y,O);var L=e.createTexture();e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,L);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,
e.TEXTURE_MAG_FILTER,w);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,w);e.texImage2D(e.TEXTURE_2D,0,I,3,3,0,e.RGBA,F,null);e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,L,0);if(e.checkFramebufferStatus(e.READ_FRAMEBUFFER||e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE)return l(),!1;pb.Td(e);e.clearColor(0,0,0,0);e.viewport(0,0,3,3);e.disable(e.DEPTH_TEST);e.clear(e.COLOR_BUFFER_BIT);W.Ob(e);e.bindFramebuffer(y,null);pb.yb(e);e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,
L);W.Ob(e);I=new Uint8Array(36);e.readPixels(0,0,3,3,e.RGBA,e.UNSIGNED_BYTE,I);l();for(F=0;36>F;++F)if(3!==F%4&&3<Math.abs(I[F]-127))return!1;return!0},Re:function(e){var I={Va:!1,Xa:!1};e.disable(e.BLEND);e.clearColor(0,0,0,0);e.clear(e.COLOR_BUFFER_BIT);e.RGBA32F&&h.ae(e,e.RGBA32F,e.FLOAT)&&(I.Va=!0,v=e.RGBA32F);!I.Va&&h.ae(e,e.RGBA,e.FLOAT)&&(I.Va=!0,v=e.RGBA);var F=h.cf(e);H=null;e.RGBA16F&&h.ae(e,e.RGBA16F,F)&&(I.Xa=!0,H=e.RGBA16F);!I.Xa&&h.ae(e,e.RGBA,F)&&(I.Xa=!0,H=e.RGBA);return I},gl:function(){var e=
xa.instance({width:2});e.Wi();var I=X.instance({width:2,isFloat:!0,A:3});e.i();I.i();h.flush();c.checkFramebufferStatus(xa.Eh())!==c.FRAMEBUFFER_COMPLETE?(X.Wn(),p.Ye=!1):p.Ye=!0;e.remove();I.remove()},hl:function(){var e=!1;h.ha()&&(e="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every(function(I){return"undefined"!==typeof c[I]}));p.Li=e},el:function(){var e=h.Re(c);Object.assign(p,e);if(!p.Va&&!p.Xa)return!1;h.gl();h.hl();return!0},
pn:function(e,I,F,l,y){c.readPixels(e,I,F,l,c.RGBA,c.UNSIGNED_BYTE,y);return Promise.resolve(y,!1)},ag:function(e,I,F,l,y,w){if(!h.Ok())return h.pn(e,I,F,l,y);null===z.Qb&&(z.Ma=c.PIXEL_PACK_BUFFER,z.Qb=c.createBuffer(),z.hf=-1);c.bindBuffer(z.Ma,z.Qb);y.byteLength!==z.hf&&(c.bufferData(z.Ma,y.byteLength,c.STREAM_READ),z.hf=y.byteLength);c.readPixels(e,I,F,l,c.RGBA,c.UNSIGNED_BYTE,0);z.wc=c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0);h.flush();var O=!1;return new Promise(function(L,A){function k(){if(!z.Sb)return f(),
A(),!1;switch(c.clientWaitSync(z.wc,0,0)){case c.TIMEOUT_EXPIRED:case c.WAIT_FAILED:return!1;default:return f(),d(),c.getBufferSubData(z.Ma,0,y),c.bindBuffer(z.Ma,null),L(y,O),!0}}f();z.Sb=!0;k()||(w&&!O&&(O=!0,w()),z.de=setInterval(k,0))})},lj:function(){c.viewport(0,0,h.I(),h.V())},flush:function(){c.flush()},u:function(){f();d();X.u();xa.u();W.u();null!==z.Qb&&(c.deleteBuffer(z.Qb),z.Qb=null);pb.reset();m=!1}};return h}(),Bb=function(){function a(w,O,L,A){e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,
A?e.NEAREST_MIPMAP_NEAREST:e.LINEAR);var k=null;if(null!==L)try{k=e.getError();if("FUCKING_BIG_ERROR"===k)return!1;e.texImage2D(e.TEXTURE_2D,0,w,4,4,0,e.RGBA,O,L);k=e.getError();if(k!==e.NO_ERROR)return!1}catch(x){return!1}A&&e.generateMipmap(e.TEXTURE_2D);e.clear(e.COLOR_BUFFER_BIT);W.Ob(e);k=e.getError();if("FUCKING_BIG_ERROR"===k)return!1;e.readPixels(0,0,2,2,e.RGBA,e.UNSIGNED_BYTE,D);k=e.getError();k===e.INVALID_OPERATION&&"undefined"!==typeof e.PIXEL_PACK_BUFFER&&(e.bindBuffer(e.PIXEL_PACK_BUFFER,
null),e.readPixels(0,0,2,2,e.RGBA,e.UNSIGNED_BYTE,D),k=e.getError());if(k!==e.NO_ERROR)return!1;L=!0;for(A=0;16>A;++A)L=L&&4>Math.abs(D[A]-127);L&&(q.Gi=O,q.Wh=w);return L}function b(w,O){return I.Va&&a(w,e.FLOAT,new Float32Array(H),O)?(g=t.Sg,!0):!1}function f(w,O,L){if(!I.Xa)return!1;var A=X.Sk(H),k=za.md(e);if(k&&k.HALF_FLOAT_OES&&a(w,k.HALF_FLOAT_OES,A,O)||e.HALF_FLOAT&&a(w,e.HALF_FLOAT,A,O))return g=t.oc,!0;A=new Float32Array(H);if(a(w,e.FLOAT,A,O))return g=t.oc,!0;e.bindTexture(e.TEXTURE_2D,
L);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,2,2,0,e.RGBA,e.UNSIGNED_BYTE,null);e.bindFramebuffer(q.gd,y);X.yh(e,L,2,2,A,!1,!1);e.bindFramebuffer(q.gd,null);e.bindTexture(e.TEXTURE_2D,L);return a(w,null,null,O)?(g=t.oc,!0):!1}function d(w,O,L){p=!0;if(f(w,!0,L)||b(O,!0))return!0;p=!1;return f(w,!1,L)||b(O,!1)?!0:!1}function n(w){if(g===t.F){e=w||c;g=t.RGBA8;p=!0;za.rh(e);I||(I=za.Re(e));xa.reset();y=e.createFramebuffer();q.gd=e.DRAW_FRAMEBUFFER||e.FRAMEBUFFER;e.bindFramebuffer(q.gd,null);e.clearColor(0,
0,0,0);e.viewport(0,0,2,2);Z.F();F=Z.yb(e);w=e.createTexture();e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,w);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);l=w;var O=w=e.RGBA,L=e.RGBA16F,A=e.RGBA32F;A&&(w=A);L&&(O=L);if((L||A)&&d(O,w,l))return m(),!0;w=O=e.RGBA;if(d(O,w,l))return m(),!0;g=t.RGBA8;m();return!1}}function m(){e.deleteProgram(F.na);e.deleteTexture(l);
l=F=null}for(var t={F:-1,Sg:3,oc:2,RGBA8:0},g=t.F,q={Gi:null,Wh:null,gd:null},p=!0,D=new Uint8Array(16),H=Array(64),v=0;4>v;++v)for(var z=0;4>z;++z){var r=0===(z+v)%2?1:0,h=4*v+z;H[4*h]=r;H[4*h+1]=r;H[4*h+2]=r;H[4*h+3]=r}var e=null,I=null,F=null,l=null,y=null;return{Mk:function(w){n(w);return p},$g:function(w,O){g===t.F&&(typeof("undefined"!==O)&&(I=O),n(w));return g!==t.RGBA8},Op:function(w){n(w);return g===t.Sg},Am:function(w){n(w);return g===t.oc},Cp:function(w){n(w);return q.Gi},Ll:function(w){n(w);
return q.Wh},u:function(){e=null;p=!0;g=t.F;I=null}}}(),cd={instance:function(a){var b=X.instance(a.alpha),f=X.instance(a.beta);return{ol:function(){b.a(1);f.a(2)}}}},Pc={instance:function(a){var b=null,f=!1,d=!1,n=null,m=!1,t=!1,g=null,q="undefined"===typeof a.preprocessing?!1:a.preprocessing,p="undefined"===typeof a.preprocessingSize?a.size:a.preprocessingSize;a.mask&&(f=!0,K&&void 0!==K.Y&&(a.mask=K.Y+a.mask),b=X.instance({isFloat:!1,url:a.mask}));var D=!1;a.customInputShader&&(D="s45",Z.oa({name:"_",
id:D,b:a.customInputShader,uq:["uSource"],precision:"lowp"}),Z.f(D,[{type:"1i",name:"_",value:0}]));switch(q){case "sobel":g="s32";m=!0;break;case "meanNormalization":g="s33";m=!0;break;case "grayScale":g="s29";m=!1;break;case "grayScaleTilt":g="s30";t=!0;m=!1;break;case "rgbGrayTilt":g="s31";t=!0;m=!1;break;case "copy":g=D?D:"s0";break;case "inputLightRegulation":g=D?D:"s29";n=dd.instance({Vh:p,Ai:a.size,ui:a.nBlurPass,Bd:!1});d=!0;break;case "inputMix0":g="none";n=ed.instance({ta:p,Hj:a.varianceMin,
Wg:a.blurKernelSizePx,Bd:!1});d=!0;break;case "direct":case "none":g="abort";break;default:g="s4"}t&&Z.f(g,[{name:"u27",type:"1f",value:a.tilt}]);f&&(g+="Mask");var H=X.instance({isFloat:!1,isPot:!1,width:a.size}),v={I:function(){return p},df:function(){return v.I()},Ql:function(){return d?n.ef():H},xa:function(z){xa.fa();"abort"!==g&&("none"!==g&&(Z.set(g),m&&Z.C("u28",1/a.size),H.K(),f&&b.a(1),W.g(!1,!1),H.a(0),z=H),d&&n.process(z))},u:function(){H.remove();f&&b.remove()}};return v}},Qc={instance:function(a){function b(J){n.forEach(function(M,
Q){m[Q][0]=J[0][M];m[Q][1]=J[1][M];m[Q][2]=J[2][M];m[Q][3]=J[3][M]});return m}"undefined"===typeof a.normalize&&(a.normalize=!1);var f={input:null,Zc:null,wf:null,Qa:null,Kd:null,Vf:null,Wf:null},d=null,n=[],m=[],t=!1,g=null,q=!0,p=-1,D=a.isReorganize?a.isReorganize:!1,H=a.kernelsCount?!0:!1,v=a.dynPelu?cd.instance(a.dynPelu):!1,z=v?!0:!1,r={isEnabled:!1};a.um?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.Pd.df(),q=!1):"full"===a.connectivityUp&&(a.sparsity=a.Pd.df());var h={elu:"s16",
elu01:"s17",relu:"s15",arctan:"s19",sigmoid:"s14",copy:"s0",softplus:"s20",dynPelu:"s18"}[a.activation],e=a.sparsity*a.sparsity,I=!1,F=a.size,l="";if(a.maxPooling){switch(a.maxPooling.size){case 2:l="s34";break;case 4:l="s35"}I=!0;F/=a.maxPooling.size;f.Vf=X.instance({isFloat:!0,isPot:!1,width:F})}var y=void 0!==a.Um&&a.Um?!0:!1,w=null,O=null,L=null;if(y){w="s46"+a.index.toString();Z.Rh("s46",w,[((a.normalization.n-1)/2).toFixed(1)]);Z.f(w,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u8",value:[1/
a.size,1/a.size]},{type:"1f",name:"u7",value:a.normalization.alpha},{type:"1f",name:"u10",value:a.normalization.beta},{type:"1f",name:"u31",value:a.normalization.k}]);var A={isFloat:!0,isPot:!0,width:a.size};O=X.instance(A);L=X.instance(A)}var k=-1,x=null;q&&(f.Qa=X.instance({isFloat:!0,isPot:!1,width:a.size}));f.Zc=X.instance(a.bias);var G={I:function(){return a.size},df:function(){return F},Bh:function(){return a.classesCount},Ck:function(J){d.a(J)},en:function(){a.remap&&a.remap.isEnabled&&(r=
{isEnabled:!0,Om:X.instance({isFloat:!1,isFlipY:!1,array:new Uint8Array(a.remap.maskTexture.data),width:a.remap.maskTexture.width,isPot:!1}),Dd:a.remap.layers.map(function(J){return a.parent.Nl(J)}),depth:a.remap.depth})},Xn:function(){switch(a.connectivityUp){case "direct":x=fd.instance(a.connectivity);break;case "square":x=gd.instance(a.connectivity);break;case "squareFast":x=hd.instance(a.connectivity,a.activation);break;case "full":x=id.instance(a.connectivity);break;case "conv":p=a.kernelsCount,
x=jd.instance(a.connectivity),D&&(f.Kd=X.instance({width:F,isFloat:!0,isFlipY:!1,isPot:!1}))}if(x.ic){var J=a.size*a.sparsity;k=Math.log(J/a.size)/Math.log(2);f.input=X.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:J,Of:k});f.wf=X.instance({isFloat:!0,isPot:!0,width:a.size})}},xa:function(J,M){d=J;x.ic?(f.input.K(),H&&f.Zc.a(2),x.xa(r),f.input.a(0),f.input.zl(k),f.wf.K(),H?Z.set("s0"):(Z.set("s28"),Z.C("u26",e),f.Zc.a(1)),f.input.Dk(k,0),W.g(!1,!1),Z.set(h),y?O.i():f.Qa.i(),f.wf.a(0),z&&v.ol(),
W.g(!1,!1)):(f.Qa.K(),f.Zc.a(1),x.xa());y&&(Z.set(w),L.i(),O.a(0),W.g(!1,!1),Z.set("s47"),Z.C("u7",1),f.Qa.i(),L.a(1),W.g(!1,!1));if(q)return I?(f.Vf.K(),f.Qa.a(0),Z.set(l),Z.L("u8",1/a.size,1/a.size),W.g(!1,!1),M=f.Vf):M=f.Qa,M.a(0),D&&(f.Kd.i(),Z.set("s22"),Z.L("u13",p,F/p),W.g(!1,!1),M=f.Kd,f.Kd.a(0)),M;var Q=f.Qa;a.normalize&&(Z.set("gpuRawAvg"===t?"s9":"s8"),Z.C("u4",1/a.size),f.Wf.K(),f.Qa.a(0),W.g(!1,!1),Q=f.Wf);J=null;switch(t){case "cpuRGBA2Float":Q.nh(!1);M?J=G.kn(Q).then(g):(Q=G.ln(Q),
g(Q));break;case "cpuMeanFloat":Q.nh(!0);if(M)J=Q.nn().then(g);else{Q=Q.on();for(var ba=0;ba<Q.length;++ba);g(Q)}break;case "gpuRawAvg":case "gpuRaw":Q.a(0);case "none":null!==g&&g(Q)}M&&null===J&&(J=Promise.resolve());return J},Uk:function(J){J&&(t=J.Xf||"none",g=J.Uf||null);f.Qa=X.instance({isFloat:!0,isPot:!0,isMipmap:!1,width:a.size});J="undefined"!==typeof a.classesCount&&a.classesCount?a.classesCount:a.size*a.size;for(var M=0,Q=0,ba=0;M<J;++M)n.push(Q+(a.size-1-ba)*a.size),m.push([-1,-1,-1,
-1]),++Q,Q===a.size&&(Q=0,++ba);a.normalize&&(f.Wf=X.instance({isFloat:!0,isPot:!0,width:a.size}))},kn:function(J){return J.mn().then(b)},ln:function(J){J=J.Mi();b(J);return m},u:function(){for(var J in f){var M=f[J];M&&M.remove()}x&&(x.u(),x=null)}};a.Pd&&G.Xn(a.Pd);return G}},fd={instance:function(a){var b=X.instance(a.weights);return{ic:!0,ud:function(){return 1},u:function(){b.remove()},cm:function(){return b},xa:function(){Z.set("s27");b.a(1);W.g(!1,!1)}}}},id={instance:function(a){var b=a.fromLayerSize,
f=X.instance(a.weights);return{ic:!0,ud:function(){return b},u:function(){f.remove()},xa:function(d){if(d.isEnabled){Z.set("s25");d.Om.a(3);var n,m=Math.min(d.Dd.length,d.depth);for(n=0;n<m;++n)d.Dd[n].Ck(4+n)}else Z.set("s24");Z.C("u17",a.toLayerSize);f.a(1);W.g(!1,!1)}}}},gd={instance:function(a){for(var b=a.fromLayerSize,f=a.toLayerSize,d=a.toSparsity,n=d*f,m=n/b,t=b/f,g=0,q=0,p=0,D=Array(d*f*d*f*4),H=Array(d*f*d*f*4),v=Array(b*b),z=0;z<v.length;++z)v[z]=0;z=Math.floor(d/2);for(var r=.5/f,h=.5/
b,e=.5/n,I=0;I<f;++I)for(var F=Math.round(I*t),l=0;l<f;++l){var y=Math.round(l*t),w=I/f,O=l/f;w+=r;O+=r;for(var L=0;L<d;++L){var A=F+L-z;0>A&&(A+=b);A>=b&&(A-=b);for(var k=0;k<d;++k){var x=g/n,G=q/n,J=y+k-z;0>J&&(J+=b);J>=b&&(J-=b);var M=A/b,Q=J/b;G=1-G-1/n;M+=h;Q+=h;x+=e;G+=e;var ba=I*d+L,ia=l*d+k;ia=f*d-ia-1;ba=ia*f*d+ba;D[4*ba]=x;D[4*ba+1]=G;D[4*ba+2]=M;D[4*ba+3]=Q;Q=v[J*b+A]++;ba=Q%m;M=A*m+ba;J=J*m+(Q-ba)/m;J=b*m-1-J;J=J*b*m+M;H[4*J]=x;H[4*J+1]=G;H[4*J+2]=w;H[4*J+3]=O;++g>=n&&(g=0,++q);++p}}}v=
null;var P=X.instance(a.weights);delete a.weights.data;var u=X.instance({width:n,isFloat:!0,array:new Float32Array(H),isPot:!0});H=null;var B=X.instance({width:n,isFloat:!0,array:new Float32Array(D),isPot:!0});D=null;return{ic:!0,ud:function(){return m},u:function(){u.remove();B.remove();P.remove()},xa:function(){Z.set("s23");P.a(1);B.a(2);W.g(!1,!1)}}}},jd={instance:function(a){var b=a.kernelsCount,f=a.toSparsity,d=f*a.toLayerSize/a.fromLayerSize,n=X.instance(a.weights);return{ic:!0,ud:function(){return d},
Kp:function(){return f},cm:function(){return n},u:function(){n.remove()},xa:function(){Z.set("s26");Z.C("u23",b);Z.C("u24",f);Z.C("u17",a.toLayerSize);Z.C("u25",a.fromLayerSize);n.a(1);W.g(!1,!1)}}}},hd={instance:function(a,b){var f=a.fromLayerSize,d=a.toLayerSize,n=a.toSparsity,m=a.stride?a.stride:1,t=n*d/f,g=d<f,q=f/d,p=X.instance(a.weights),D="s48"+[f.toString(),d.toString(),n.toString(),m.toString(),b].join("_");Z.xl(D)||(a=Ea(b),d=[{type:"1f",name:"u17",value:d},{type:"1f",name:"u30",value:m}],
g&&d.push({type:"1f",name:"u25",value:f}),f=[(g?t:n).toFixed(1),a],g&&f.push(q.toFixed(1)),Z.Rh(g?"s40":"s39",D,f),Z.f(D,d.concat([{type:"1i",name:"u15",value:0},{type:"1i",name:"u22",value:1},{type:"1i",name:"u14",value:3}])));return{ic:!1,ud:function(){return t},u:function(){p.remove()},xa:function(){Z.set(D);p.a(3);W.g(!1,!1)}}}},dd={instance:function(a){var b=a.ui?a.ui:3,f=a.Vh?a.Vh:64,d=a.Ai?a.Ai:64,n=a.Bd?!0:!1;a={isFloat:!1,width:f,isPot:!1,isFlipY:!1};var m=X.instance(a),t=X.instance(a),g=
X.instance(a),q=X.instance(a),p=X.instance({isFloat:!0,width:d,isPot:!1,isFlipY:!1}),D=1/f;return{process:function(H){Z.set("s36");q.i();W.g(n,!1);Z.set("s37");for(var v=0;v<b;++v)m.i(),Z.L("u8",D,0),W.g(n,!1),g.i(),q.a(0),W.g(n,!1),t.i(),m.a(0),Z.L("u8",0,D),W.g(n,!1),q.i(),g.a(0),W.g(n,!1),v!==b-1&&t.a(0);Z.set("s38");p.i();H.a(0);t.a(1);q.a(2);W.g(n,!1);p.a(0)},ef:function(){return p}}}},ed={instance:function(a){function b(q){return X.instance({isFloat:q,width:f.ta,isPot:!1,isFlipY:!1})}var f=
Object.assign({Hj:.1,Wg:9,ta:128,Bd:!1},a),d=b(!1),n=[b(!1),b(!1),b(!1)],m=[b(!1),b(!1),b(!1)],t=b(!0),g=[d,m[0],m[1]];a={u1:0};Z.we([{id:"s50",name:"_",b:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.,1.,1.);void main(){vec3 b=texture2D(u1,vv0).rgb;float a=dot(b,f);gl_FragColor=vec4(a,a,a,a);}",l:a,c:["u1"],precision:"lowp"},{id:"s51",name:"_",b:"uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u32;varying vec2 vv0;void main(){float b=0.,c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u32*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).r,c+=f;}b/=c,gl_FragColor=vec4(b,0.,0.,1.);}".replace("1.1111",
Math.round((f.Wg-1)/2).toFixed(2)).replace("2.2222",(1/f.ta).toFixed(6)),l:a,c:["u1","u32"],precision:"lowp"},{id:"s52",name:"_",b:"uniform sampler2D u33,u34,u35,u36;const float f=1.1111;const vec3 g=vec3(1.,1.,1.);varying vec2 vv0;void main(){vec3 a=texture2D(u33,vv0).rgb;float c=texture2D(u34,vv0).r,d=texture2D(u35,vv0).r,h=texture2D(u36,vv0).r,i=a.r*a.r;vec3 b=vec3(c,d,h),j=max(g*f,abs(i-b*b)),k=sqrt(j);gl_FragColor=vec4(a.r,(a-b)/k);}".replace("1.1111",f.Hj.toFixed(4)),l:{u33:0,u34:1,u35:2,u36:3},
c:["u33","u34","u35","u36"],precision:"highp"}]);return{process:function(){Z.set("s50");d.K();W.g(f.Bd,!1);Z.set("s51");for(var q=0;3>q;++q)Z.L("u32",1,0),n[q].i(),g[q].a(0),W.g(!1,!1),Z.L("u32",0,1),m[q].i(),n[q].a(0),W.g(!1,!1);Z.set("s52");t.i();d.a(0);m[0].a(1);m[1].a(2);m[2].a(3);W.g(!1,!1);t.a(0)},ef:function(){return t}}}},Ab=function(){function a(r,h,e,I,F,l,y){if(!v)if(y===l.length)F();else{switch(l[y]){case "A":e();break;case "D":r();break;case "S":h().then(function(w,O){z.xj();a(r,h,e,
O?null:I,F,l,++y)}).catch(function(w){F();throw w;});return;case "R":I&&I()}a(r,h,e,I,F,l,++y)}}var b={n:5,Sf:1,ji:0,qd:[35,49],ld:[2,200],k:.7,wo:200,$m:.05},f=-1,d=null,n=-1,m=-1,t=0,g=-1,q=-1,p=0,D=0,H=b.ld[1],v=!0,z={P:function(){switch(f){case -1:return-1;case 0:return q+d.ji;case 1:return p}},Ch:function(r){return Math.pow(Math.min(Math.max(g,0),d.n-1)/(d.n-1),r||1)},h:function(r){d=Object.assign({},b,r);g=q=d.Sf;f=0;z.reset()},xj:function(r){r=("undefined"===typeof r?Date.now():r)||0;var h=
Math.min(Math.max(r-D,d.ld[0]),d.ld[1]);H=h;D=r;var e=-1===n?0:d.k;n=Math.min(Math.max(1E3/h,5),120)*(1-e)+n*e;r-m>d.wo&&5<++t&&(h=d.k,g=g*(1-h)+(n<d.qd[0]?q-1:n>d.qd[1]?q+1:q)*h,Math.abs(g-q)>1-d.$m&&(h=Math.min(Math.max(Math.round(g),0),d.n-1),h!==q&&(g=q=h,n=(d.qd[1]-d.qd[0])/2)),m=r)},cg:function(r,h,e,I,F,l){v=!1;a(r,h,e,I,F,l,0)},stop:function(){v=!0},Rn:function(r){p=r;f=1},vo:function(){f=0;z.reset()},reset:function(){H=b.ld[1];m=n=-1;t=0},Bp:function(){return H}};return z}(),Cc=function(){var a=
{vi:4,Ld:[1.5,1.5,2],Sa:[.1,.1,.1],Ti:1,ta:-1,sf:-1,oo:2,Xm:1,Ui:!0,wl:.8},b=null,f=[],d=[0],n=[.5,.5,1];return{h:function(m){b=Object.assign({},a,m);f.splice(0);m=b.Ld[0]*b.Sa[0];var t=b.Ld[1]*b.Sa[1],g=1/(1+b.Ld[2]*b.Sa[2]),q=b.Ti*Math.min(b.ta,b.sf),p=q/b.ta;q/=b.sf;var D=.5*b.wl;D*=D;for(var H=0;H<b.vi;++H){var v=Math.pow(g,H),z=p*v,r=q*v;v=z*b.Xm;var h=z*m,e=r*t;z/=2;r/=2;for(var I=1+(1-z-z)/h,F=1+(1-r-r)/e,l=0;l<F;++l)for(var y=r+l*e,w=y-.5,O=0;O<I;++O){var L=z+O*h,A=L-.5;A*A+w*w>D||f.push([L,
y,v])}}b.Ui&&f.sort(function(k,x){var G=k[0]-.5;k=k[1]-.5;var J=x[0]-.5;x=x[1]-.5;return G*G+k*k-(J*J+x*x)})},get:function(m){var t=f.length;if(0===t)return n;for(;m>=d.length;)d.push(0);d[m]>=t&&(d[m]=0);var g=f[Math.floor(d[m])];d[m]=(d[m]+1/b.oo)%t;return g},reset:function(){for(var m=f.length/d.length,t=0;t<d.length;++t)d[t]=Math.floor(t*m)}}}(),ub=function(){function a(){f(h+z.Pf);e.port.postMessage("DONE")}function b(){var k=z.ka;w.isEnabled&&(k=Math.max(k,w.ka));y.Yc=0===k?F(f):F(d)}function f(k){l.Vb&&
null!==r&&(k-=h,k=Math.min(Math.max(k,z.qh[0]),z.qh[1]),h+=k,m(),w.isEnabled&&w.zc&&l.Na&&h-w.Af>z.Rg&&(p(),w.Af=h),r(h))}function d(k){l.Vb&&(y.timeout=window.setTimeout(f.bind(null,k),z.ka))}function n(){r=null;l.Vb=!1;m()}function m(){y.Yc&&(window.cancelAnimationFrame(y.Yc),y.Yc=null);y.timeout&&(window.clearTimeout(y.timeout),y.timeout=null)}function t(k){k&&!l.Na?(l.Na=!0,I&&Ab.vo(),e.port.postMessage("STOP"),za.yj(!0),b()):!k&&l.Na&&(l.Na=!1,I&&Ab.Rn(1),za.yj(!1),e.port.postMessage("START"))}
function g(k){k.target.hidden?L():O()}function q(k,x,G){x=k.createShader(x);k.shaderSource(x,G);k.compileShader(x);return x}function p(){w.zc=!1;var k=w.Wa,x=w.wd,G=w.xd,J=w.Ma;k.uniform1f(w.Lh,Math.random());w.Wb?x.beginQueryEXT(J,G):k.beginQuery(J,G);k.drawElements(k.POINTS,1,k.UNSIGNED_SHORT,0);w.Wb?x.endQueryEXT(J):k.endQuery(J);za.flush();H().then(function(M){M=z.Rj*z.Pg*1E3/M;w.ie=(w.ie+1)%z.nc;w.Bf[w.ie]=M;if(++w.hi>z.nc){w.Cd.set(w.Bf);w.Cd.sort(function(ba,ia){return ba-ia});M=w.Cd[Math.floor(z.nc/
2)];w.pd=Math.max(w.pd,M);var Q=0;for(Q=0;Q<w.Dg&&!(M>w.pd*(1-(z.Qg[Q]+z.Sj*(Q>=w.ce?1:-1))));++Q)Q===w.Dg-1&&++Q;Q!==w.ce&&(console.log("THERMAL THROTTLING LEVEL = "+Q.toString()),w.ce=Q,w.ka=0===Q?0:z.Qj[Q-1],z.Og&&z.Og(Q))}w.zc=!0}).catch(function(){w.zc=!0})}function D(k){var x=w.Wa,G=w.wd,J=w.xd,M=!1;w.Wb?M=G.wp(J,G.QUERY_RESULT_AVAILABLE_EXT):M=x.getQueryParameter(J,x.QUERY_RESULT_AVAILABLE);x=x.getParameter(G.GPU_DISJOINT_EXT);M?k(!x):setTimeout(D.bind(null,k),.1)}function H(){return new Promise(function(k,
x){D(function(G){if(G){G=w.Wa;var J=w.wd,M=w.xd;G=w.Wb?J.getQueryObjectEXT(M,J.QUERY_RESULT_EXT):G.getQueryParameter(M,G.QUERY_RESULT);k(G)}else x()})})}var v={$h:!0,qh:[1,200],Pf:20,ka:0,Tj:!1,Pg:50,Rj:240,Rg:3E3,nc:3,Qg:[.2,.35,.5],Sj:.05,Qj:[8,20,40],Og:null},z=null,r=null,h=0,e=null,I=!1,F=null,l={Ea:!1,Na:!0,zf:!1,yf:!1,xf:!1,Vb:!1},y={Yc:null,timeout:null},w={isEnabled:!1,zc:!1,Wa:null,wd:null,xd:null,Ma:null,Lh:null,Wb:!0,ce:0,Dg:0,ka:0,Af:0,hi:0,Bf:null,Cd:null,ie:0,pd:0},O=t.bind(null,!0),
L=t.bind(null,!1),A={h:function(k){z=Object.assign(v,k);Object.assign(l,{Na:!0,Ea:!0,Vb:!1});F=window.requestPostAnimationFrame||window.requestAnimationFrame;if(z.Tj){k=document.createElement("canvas");k.setAttribute("width","1");k.setAttribute("height","1");var x={antialias:!1};k=k.getContext("webgl2",x)||k.getContext("webgl",x);if(x=k.getExtension("EXT_disjoint_timer_query")||k.getExtension("EXT_disjoint_timer_query_webgl2")){w.Wa=k;w.wd=x;w.isEnabled=!0;w.Wb=x.beginQueryEXT?!0:!1;var G=q(k,k.VERTEX_SHADER,
"attribute vec4 a0;void main(){gl_Position=a0;}"),J=q(k,k.FRAGMENT_SHADER,"precision lowp float;uniform float u37;void main(){vec4 a=u37*vec4(1.,2.,3.,4.);for(int b=0;b<666;b+=1)a=cos(a);gl_FragColor=a;}".replace("666",z.Pg.toString())),M=k.createProgram();k.attachShader(M,G);k.attachShader(M,J);k.linkProgram(M);G=k.getAttribLocation(M,"a0");w.Lh=k.getUniformLocation(M,"u37");k.useProgram(M);k.enableVertexAttribArray(G);M=k.createBuffer();k.bindBuffer(k.ARRAY_BUFFER,M);k.bufferData(k.ARRAY_BUFFER,
new Float32Array([.5,.5,0,1]),k.STATIC_DRAW);k.vertexAttribPointer(G,4,k.FLOAT,!1,16,0);M=k.createBuffer();k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,M);k.bufferData(k.ELEMENT_ARRAY_BUFFER,new Uint16Array([0]),k.STATIC_DRAW);k.disable(k.DEPTH_TEST);k.disable(k.DITHER);k.disable(k.STENCIL_TEST);k.viewport(0,0,1,1);M=w.Wb?x.createQueryEXT():k.createQuery();w.xd=M;w.Ma=x.TIME_ELAPSED_EXT||k.TIME_ELAPSED;w.ce=0;w.Dg=z.Qg.length;w.ka=0;w.Af=-z.Rg;w.Bf=new Float32Array(z.nc);w.Cd=new Float32Array(z.nc);w.pd=0;
w.ie=0;w.hi=0;w.zc=!0}}if(z.$h){k=!1;try{if("undefined"===typeof SharedWorker){var Q=URL.createObjectURL(new Blob(["let handler = null;\n      self.addEventListener('message', function(e){\n        if (handler !== null){\n          clearTimeout(handler);\n          handler = null;\n        }\n        switch (e.data) {\n          case 'START':\n          case 'DONE':\n            handler = setTimeout(function(){\n              self.postMessage('TICK');\n            }, "+z.Pf.toString()+");\n            break;\n          case 'STOP':\n            break;\n        };\n      }, false);"],
{type:"text/javascript"})),ba=new Worker(Q);ba.addEventListener("message",a);e={Ji:ba,port:ba};l.zf=!0}else{var ia=URL.createObjectURL(new Blob(["let handler = null;\n      onconnect = function(e) {\n        const port = e.ports[0];\n        port.addEventListener('message', function(e) {\n          \n          if (handler !== null){\n            clearTimeout(handler);\n            handler = null;\n          }\n          switch (e.data) {\n            case 'START':\n            case 'DONE':\n              handler = setTimeout(function(){\n                port.postMessage('TICK');\n              }, "+
z.Pf.toString()+");\n              break;\n            case 'STOP':\n              break;\n          };\n          \n        });\n        \n        port.start();\n      } // end onconnect()"],{type:"text/javascript"})),P=new SharedWorker(ia);P.port.start();P.port.addEventListener("message",a);e={Ji:P,port:P.port};l.yf=!0}k=!0}catch(u){}k&&("onvisibilitychange"in document?document.addEventListener("visibilitychange",g):(window.addEventListener("blur",L),window.addEventListener("focus",O)),l.xf=!0)}I=
"undefined"!==typeof Ab},u:function(){n();l.xf&&("onvisibilitychange"in document?document.removeEventListener("visibilitychange",g):(window.removeEventListener("blur",L),window.removeEventListener("focus",O)),l.xf=!1);l.yf?(e.port.close(),l.yf=!1):l.zf&&(e.Ji.terminate(),l.zf=!1);Object.assign(l,{Na:!0,Ea:!1,Vb:!1});r=null},Tp:function(){return l.Na},update:function(k){Object.assign(z,k)},cg:function(k){l.Ea||A.h({});m();l.Vb=!0;r=k;l.Na&&b()},stop:n};return A}(),sb=function(){function a(V){switch(O){case w.movePinch:var ea=
-V.deltaY;0===L&&h("pinch",-1,.001*ea,null)}V.deltaY;V.preventDefault()}function b(V){if(-1!==L)switch(O){case w.swipe:if(1!==L)break;q();D(V,k);var ea=k[0]-A[0];n(ea);V=ea/(20*F.offsetWidth/100);h("swipeMove",Math.min(Math.max(V,-1),1),V,null);break;case w.movePinch:if(2===L||3===L){D(V,k);ea=k[0]-A[0];var ya=k[1]-A[1];2===L?(ja+=Math.sqrt(ea*ea+ya*ya),10>ja?(A[0]=k[0],A[1]=k[1]):(Qa||(Qa=!0,h("moveStart",null,null,null)),pa[0]=ea,pa[1]=ya,G[0]=ea-x[0],G[1]=ya-x[1],h("move",pa,G,null),x[0]=pa[0],
x[1]=pa[1])):3===L&&(V=p(V)/ra,h("pinch",V,V-Ma,null),Ma=V)}}}function f(V){if(-1!==L)switch(O){case w.swipe:if(1!==L)break;q();D(V,k);V=k[0]-A[0];var ea=0>V;(V=20<100*Math.abs(V)/F.offsetWidth)&&ea?h("swipeLeft",J,null,null):V&&!ea&&h("swipeRight",J,null,null);var ya=function(){setTimeout(function(){g();L=0;h("swipeEnd",null,null,null)},202)};V?(V=function(){var La=(ea?-1:1)*F.width,Ja=(ea?1:-1)*La/F.width;J.style.transitionDuration=(400).toString()+"ms";J.style.left=(P[0]+La).toString()+"px";J.style.top=
P[1].toString()+"px";J.style.transform="rotate( "+Ja.toString()+"rad )";ya()},ia?V():u=V):(J.style.transitionDuration=(200).toString()+"ms",J.style.opacity="0",J.style.left=P[0].toString()+"px",J.style.top=P[1].toString()+"px",J.style.transform="",ya());L=-1;break;case w.movePinch:if(2===L||3===L)L===L.move?h("moveEnd",null,null,null):3===L&&h("pinchEnd",null,null,null),L=0}}function d(V){V.preventDefault();if(-1!==L)switch(O){case w.swipe:if(0!==L)break;q();L=1;B=setTimeout(function(){g();B=null;
1===L&&(L=0,h("swipeEnd",null,null,null))},1E3);m();h("swipeStart",null,null,null);h("swipeGetCanvas",J,Q,M);D(V,A);break;case w.movePinch:0!==L?2!==L||Qa||void 0===V.changedTouches&&void 0===V.touches||(ra=p(V),20<ra&&(L=3,Ma=1,h("pinchStart",null,null,null))):3!==L&&(Qa=!1,D(V,A),x[0]=0,x[1]=0,L=2,ja=0)}}function n(V){var ea=0>V;J.style.left=P[0]+V+"px";J.style.transformOrigin=ea?S:C;J.style.transform="rotate( "+((ea?1:-1)*V/F.width).toString()+"rad )"}function m(){ia=!1;var V=F.getBoundingClientRect();
P[0]=V.left;P[1]=V.top;J.width=Math.round(F.width/4);J.height=Math.round(F.height/4);M.width=J.width;M.height=J.height;J.style.width=F.offsetWidth+"px";J.style.height=F.offsetHeight+"px";J.style.left=P[0]+"px";J.style.top=P[1]+"px";setTimeout(t,0)}function t(){Q.drawImage(F,0,0,J.width,J.height);ba.drawImage(J,0,0);ia=!0;document.body.appendChild(J);u&&(u(),u=!1)}function g(){J.style.transitionDuration="0ms";J.style.opacity="1";J.style.transform="";ia&&(document.body.removeChild(J),ia=!1)}function q(){B&&
(window.clearTimeout(B),B=null)}function p(V){H(V,Oa,0);H(V,la,1);return Math.sqrt(Oa[0]*Oa[0]+la[0]*la[0])}function D(V,ea){void 0!==V.changedTouches||void 0!==V.touches?H(V,ea,0):(ea[0]=V.pageX,ea[1]=V.pageY)}function H(V,ea,ya){V.touches.length>ya?(ea[0]=V.touches[ya].pageX,ea[1]=V.touches[ya].pageY):(ea[0]=V.changedTouches[ya].pageX,ea[1]=V.changedTouches[ya].pageY)}function v(){y.forEach(function(V){F.removeEventListener(V.type,V.pb,!1)});return y.splice(0,y.length)}function z(V){V.forEach(function(ea){r(ea.type,
ea.pb)})}function r(V,ea){F.removeEventListener(V,ea,!1);J.removeEventListener(V,ea,!1);F.addEventListener(V,ea,!1);J.addEventListener(V,ea,!1);0===y.filter(function(ya){return ya.type===V&&ya.pb===ea}).length&&y.push({type:V,pb:ea})}function h(V,ea,ya,La){l[V].forEach(function(Ja){Ja.pb(ea,ya,La)})}function e(V){return V[0]+"% "+(100-V[1]).toString()+"%"}var I=!1,F=null,l={swipeStart:[],swipeEnd:[],swipeLeft:[],swipeRight:[],swipeMove:[],swipeGetCanvas:[],pinch:[],pinchStart:[],pinchEnd:[],move:[],
moveStart:[],moveEnd:[]},y=[],w={idle:0,swipe:1,movePinch:2},O=w.idle,L=0,A=[0,0],k=[0,0],x=[0,0],G=[0,0],J=document.createElement("canvas"),M=document.createElement("canvas"),Q=J.getContext("2d"),ba=M.getContext("2d");J.style.position="fixed";J.style.zIndex="800";J.style.cursor="move";J.style.pointerEvents="none";J.className="swipeImage";J.setAttribute("draggable",!1);var ia=!1,P=[0,0],u=null,B=null,C=e([50,100]),S=e([50,0]),ca=null,ja=0,pa=[0,0],ra=0,Qa=!1,Ma=1,Oa=[0,0],la=[0,0],ha={init:function(V){if(I)ha.switch_canvas(V.qa);
else return F=V.qa,r("mousedown",d),r("mouseup",f),r("mouseout",f),r("mousemove",b),r("mousemove",b),r("wheel",a),r("touchstart",d),r("touchend",f),r("touchmove",b),I=!0,ha},switch_canvas:function(V){if(!I)ha.init({qa:V});else if(F!==V){var ea=v();F=V;z(ea);for(var ya in l)for(V=l[ya],ea=V.length-1;0<=ea;--ea)V[ea].rn&&V.splice(ea,1)}},get_mode:function(){for(var V in w)if(w[V]===O)return V;return!1},switch_mode:function(V){I&&"undefined"!==typeof w[V]&&(V=w[V],O!==V&&(q(),O=V,L=0))},add_listener:function(V,
ea,ya){l[V].push({pb:ea,rn:"undefined"===typeof ya?!1:ya});return ha},remove_listener:function(V){l[V].splice(0,l[V].length);return ha},animate_swipe:function(V,ea){ca&&(clearInterval(ca),ca=null);m();var ya=F.width/(ea/1E3)*("left"===V?-1:1),La=0,Ja,Fa=Date.now();ca=setInterval(function(){ca&&(Ja=Date.now(),La+=(Ja-Fa)/1E3*ya,n(La),Fa=Ja,Math.abs(La)>.75*F.width&&ca&&(clearInterval(ca),ca=null,g()))},16)}};return ha}();window.CanvasListeners=sb;var R={VERSION:"3.2.4",Vc:[],Uc:[],te:!1,se:!1,ue:!1,
ready:!1,isBusy:!1},$a={idealWidth:800,idealHeight:600,minWidth:480,maxWidth:1280,minHeight:480,maxHeight:1280,FOVdesktop:60,rotate:0,Pj:23,qe:10,pe:8E3},Ec={Qf:"models3D",Nf:"materials",so:"tweakers",neuralNetworkPath:"built/jeefitNNC.json",Y:"",ua:"",re:"",ka:0,bk:20,width:1024,height:1024,Zm:[2,3.5],Ri:300,Sc:[1,6],scanOverlapFactors:[2,2,3],scanNScaleLevels:2,scanScale0Factor:.7,Sa:[.1,.1,.3],qo:30,cl:1.92,hn:[.3,.65],gn:1,ro:[.015,.03],yn:[.002,.005],wg:[0,.6],ya:[.7,1.13,.262],wj:[-.1,0,0],
Ha:[0,-62,8],xb:1.03,Ga:[0,-60,0],Rf:60,bl:.3,Ze:73,xe:[.04,1],$j:[4,1],Gk:[0,.5],Bn:.25,xn:1,Io:20,tp:!1,xc:145,rf:-18,pf:20,qf:3,ma:[-110,0],fc:1,mj:.4,nj:3,Xd:[0,0,0],hc:[1.1,1],dd:0,Pe:.95,Oe:90,Ne:50,wa:30,pa:.05,lf:!0,Fd:!0,Kf:"images/masks/target.jpg",Lf:!1,Ed:[1/255,175/255,236/255,0],Gd:-.001,Jf:3.14,Ce:0,Be:"images/masks/burka.png",ye:Math.PI-Math.PI/4,Le:Math.PI/4,bg:[.3,.2,.1],Yb:1,ki:[700,90],Im:[.2,.04],Jo:"images/backgrounds/viewer3D.png",Ng:[0,0,0],Mg:[0,15,60],me:.3,Ro:50,No:Kc?Db:
!1,Oo:Kc?Db:!1,Qo:1E3,To:1E3,Po:40,Mo:[0,0,-400],oi:.1,Mm:.5,pi:[.5,1.5],Hd:30,Lm:!0},K=Object.assign({},Ec);T.model=!1;T.$b=1;T.Od=1;T.ih=!0;T.jh=!0;T.hh=!1;T.Oa=!0;var bb={eg:3.5,ac:"images/debug/picsou.png",Qd:45,Gf:.785,Hf:.3925,If:5,Ef:2,Ff:0,Df:0,Ko:"images/backgrounds/bg1.jpg",Lo:"images/backgrounds/bg1_light.jpg",Kj:1,Lj:2};K.ya=[.7,1.13,.262];K.vp=[4,50];K.ma=[-110,0];K.mj=.25;K.nj=3;K.Xd=[0,-2,20];K.hc=[.95,1];T.$b=2.1289;T.Od=1;bb.eg=2.5858;bb.Gf=.4388;bb.Hf=.118;bb.ac="images/debug/hdri2.png";
bb.Qd=180;bb.dg=.8065;bb.If=5.3887;bb.Ef=.5351;bb.Ff=-.3019;bb.Df=0;bb.Kj=3.5288;bb.Lj=6.2168;K.ya[0]*=.8;K.ya[1]*=.7;var Dc={element:null,fh:null,ia:null,Cg:null,deviceId:-1,Pb:-1,kd:0,Hi:null,le:-1},Da=Object.assign({},Dc),cb=null,Nb=-1,Ob=-1,Mc=K.Zm,uc=window.devicePixelRatio?window.devicePixelRatio:1;var Zb={yl:Math.max(Mc[0],uc)/uc,od:Math.min(uc,Mc[1])};var db=null;R.onLoad=function(a){R.ready?a():R.Vc.push(a)};R.onHalfLoad=function(a){R.load_model?a():R.Uc.push(a)};R.onWebcamAsk=function(a){R.te=
a};R.onContextLost=function(a){R.se=a};R.onWebcamGet=function(a){R.ue=a};R.get_onHalfLoadCallstack=function(){return R.Uc};R.set_size=function(a,b,f){f=f?Zb.od:1;K.width=a*f;K.height=b*f};R.get_videoDevices=function(a){Sc(a)};R.set_videoDevice=function(a){Da.deviceId=a};R.set_videoSizes=function(a,b,f,d,n,m){$a.idealWidth=a;$a.idealHeight=b;$a.minWidth=f;$a.maxWidth=d;$a.minHeight=n;$a.maxHeight=m};R.set_loading=function(a,b,f){a&&(K.Lf=!0,K.Kf=a);"number"===typeof b&&(a=new Pb(b),K.Ed=[a.r,a.ba,
a.J,0]);"number"===typeof f&&(K.Gd=f)};R.set_settings=function(a,b,f){a&&Object.assign(K,a);b&&Object.assign($a,b);f&&Object.assign(bb,f)};R.get_size=function(){return{width:K.width,height:K.height}};R.get_cv=function(){return fb.qb()};R.set_NNCPath=function(a){K.re=a};R.set_materialsPath=function(a){K.Nf=a};R.set_modelsPath=function(a){K.Qf=a};R.destroy=function(){return db?db.u():Promise.resolve()};R.init=function(a,b,f,d){db=Tc();R.mb=f?function(n,m){f(n,m);R.mb=!1}:function(){};R.Xo=db;a&&(K.Y=
a);b&&R.Vc.push(b);db.po();if(!fb.h({Ke:"jeefitCanvas",qa:d,width:Nb,height:Ob,debug:!1,Tf:function(){R.se&&R.se()},premultipliedAlpha:!0}))return R.mb&&R.mb("GL_INCOMPATIBLE","Cannot init Context"),!1;R.te&&R.te();a={width:{min:$a.minWidth,max:$a.maxWidth,ideal:$a.idealWidth},height:{min:$a.minHeight,max:$a.maxHeight,ideal:$a.idealHeight},facingMode:{ideal:"user"}};b={video:a,audio:!1};Da.fh=b;a&&-1!==Da.deviceId&&hc(b,Da.deviceId);zc(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?document.createElement("video"):
!1,function(n){R.ue&&R.ue(n);Da.element=n;n=Da.element.videoWidth;var m=Da.element.videoHeight;Da.Cg={ga_:Da.element,isPot:!1,isFloat:!1,isFlipY:!0};Da.ia=X.instance(Da.Cg);db.og(n,m);db.vf(n,m)&&db.vg()},function(n){R.mb&&R.mb("WEBCAM_UNAVAILABLE",n)},b);return!0};window.JEELIZVTO=R;var Gc=function(){function a(){xa.X();c.viewport(0,0,1,1);Z.set("s64");d.a(0);W.g(!1);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,m);b(0<m[0])}var b=null,f=!1,d=null,n=!1,m=null,t={h:function(g){if(n)return!1;d=g;Z.we([{id:"s64",
name:"_",b:"uniform sampler2D u39;const vec2 e=vec2(.16,.5);void main(){vec4 a=texture2D(u39,e);float b=step(1.99,a.r);gl_FragColor=vec4(b,0.,0.,1.);}",c:["u39"],precision:"lowp"}]);Z.f("s64",[{type:"1i",name:"u39",value:0}]);m=new Uint8Array(4);return n=!0},start:function(g,q){t.stop();b=q;f=window.setInterval(a,g)},stop:function(){f&&(window.clearInterval(a),f=!1)}};return t}(),kc=kc||{};Pb.prototype={constructor:Pb,r:1,ba:1,J:1,set:function(a){a instanceof Pb?this.B(a):"number"===typeof a?Hc(this,
a):"string"===typeof a&&Vc(this,a);return this},En:function(){function a(b,f,d){0>d&&(d+=1);1<d&&--d;return d<1/6?b+6*(f-b)*d:.5>d?f:d<2/3?b+6*(f-b)*(2/3-d):b}return function(b,f,d){b=kc.Math.up(b,1);f=kc.Math.Fe(f,0,1);d=kc.Math.Fe(d,0,1);0===f?this.r=this.ba=this.J=d:(f=.5>=d?d*(1+f):d+f-d*f,d=2*d-f,this.r=a(d,f,b+1/3),this.ba=a(d,f,b),this.J=a(d,f,b-1/3));return this}}(),clone:function(){return new this.constructor(this.r,this.ba,this.J)},B:function(a){this.r=a.r;this.ba=a.ba;this.J=a.J;return this},
add:function(a){this.r+=a.r;this.ba+=a.ba;this.J+=a.J;return this},Fa:function(a){this.r*=a;this.ba*=a;this.J*=a;return this},ob:function(a,b){void 0===b&&(b=0);this.r=a[b];this.ba=a[b+1];this.J=a[b+2];return this}};var Wc={};ac.prototype={constructor:ac,get x(){return this.m},set x(a){this.m=a},get y(){return this.o},set y(a){this.o=a},get z(){return this.s},set z(a){this.s=a},get w(){return this.G},set w(a){this.G=a},set:function(a,b,f,d){this.m=a;this.o=b;this.s=f;this.G=d;return this},clone:function(){return new this.constructor(this.m,
this.o,this.s,this.G)},B:function(a){this.m=a.x;this.o=a.y;this.s=a.z;this.G=a.w;return this},inverse:function(){this.m*=-1;this.o*=-1;this.s*=-1;this.normalize();return this},fd:function(a){return this.m*a.m+this.o*a.o+this.s*a.s+this.G*a.G},Cf:function(){return this.m*this.m+this.o*this.o+this.s*this.s+this.G*this.G},length:function(){return Math.sqrt(this.m*this.m+this.o*this.o+this.s*this.s+this.G*this.G)},normalize:function(){var a=this.length();0===a?(this.s=this.o=this.m=0,this.G=1):(a=1/a,
this.m*=a,this.o*=a,this.s*=a,this.G*=a);return this},oj:function(a,b){if(0===b)return this;if(1===b)return this.B(a);var f=this.m,d=this.o,n=this.s,m=this.G,t=m*a.G+f*a.m+d*a.o+n*a.s;0>t?(this.G=-a.G,this.m=-a.m,this.o=-a.o,this.s=-a.s,t=-t):this.B(a);if(1<=t)return this.G=m,this.m=f,this.o=d,this.s=n,this;a=Math.acos(t);var g=Math.sqrt(1-t*t);if(.001>Math.abs(g))return this.G=.5*(m+this.G),this.m=.5*(f+this.m),this.o=.5*(d+this.o),this.s=.5*(n+this.s),this;t=Math.sin((1-b)*a)/g;b=Math.sin(b*a)/
g;this.G=m*t+this.G*b;this.m=f*t+this.m*b;this.o=d*t+this.o*b;this.s=n*t+this.s*b;return this},ob:function(a,b){void 0===b&&(b=0);this.m=a[b];this.o=a[b+1];this.s=a[b+2];this.G=a[b+3];return this}};ac.oj=function(a,b,f,d){return f.B(a).oj(b,d)};Qb.prototype={constructor:Qb,get width(){return this.x},set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,b){this.x=a;this.y=b;return this},Xi:function(a){this.x=a;return this},Yi:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,
this.y)},B:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Wc(a,b);this.x+=a.x;this.y+=a.y;return this},Wc:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},sub:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.eb(a,b);this.x-=a.x;this.y-=a.y;return this},
eb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},Fa:function(a){isFinite(a)?(this.x*=a,this.y*=a):this.y=this.x=0;return this},Te:function(a){return this.Fa(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},Fe:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},floor:function(){this.x=Math.floor(this.x);
this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},fd:function(a){return this.x*a.x+this.y*a.y},Cf:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.Te(this.length())},ob:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this}};Sa.prototype={constructor:Sa,
set:function(a,b,f){this.x=a;this.y=b;this.z=f;return this},Xi:function(a){this.x=a;return this},Yi:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,this.y,this.z)},B:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Wc(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},Wc:function(a,b){this.x=a.x+b.x;this.y=
a.y+b.y;this.z=a.z+b.z;return this},sub:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.eb(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},eb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},Fa:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},Te:function(a){return this.Fa(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,
a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},Fe:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);
return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},fd:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},Cf:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){return this.Te(this.length())},ob:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this}};Hb.Da="XYZ YZX ZXY XZY YXZ ZYX".split(" ");
Hb.T="XYZ";Hb.prototype={constructor:Hb,get x(){return this.m},set x(a){this.m=a},get y(){return this.o},set y(a){this.o=a},get z(){return this.s},set z(a){this.s=a},get order(){return this.Ta},set order(a){this.Ta=a},set:function(a,b,f,d){this.m=a;this.o=b;this.s=f;this.Ta=d||this.Ta;return this},clone:function(){return new this.constructor(this.m,this.o,this.s,this.Ta)},B:function(a){this.m=a.m;this.o=a.o;this.s=a.s;this.Ta=a.Ta;return this},ob:function(a){this.m=a[0];this.o=a[1];this.s=a[2];void 0!==
a[3]&&(this.Ta=a[3]);return this}};rc.prototype={constructor:rc,set:function(a,b){this.min.B(a);this.max.B(b);return this},clone:function(){return(new this.constructor).B(this)},B:function(a){this.min.B(a.min);this.max.B(a.max);return this},size:function(a){return(a||new Sa).eb(this.max,this.min)},getParameter:function(a,b){return(b||new Sa).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},translate:function(a){this.min.add(a);
this.max.add(a);return this}};Rb.prototype={constructor:Rb,set:function(a,b,f,d,n,m,t,g,q,p,D,H,v,z,r,h){var e=this.elements;e[0]=a;e[4]=b;e[8]=f;e[12]=d;e[1]=n;e[5]=m;e[9]=t;e[13]=g;e[2]=q;e[6]=p;e[10]=D;e[14]=H;e[3]=v;e[7]=z;e[11]=r;e[15]=h;return this},clone:function(){return(new Rb).ob(this.elements)},B:function(a){this.elements.set(a.elements);return this},Fa:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=
a;b[7]*=a;b[11]*=a;b[15]*=a;return this},setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},translate:function(){console.error("JETHREE.Matrix4: .translate() has been removed.")},scale:function(a){var b=this.elements,f=a.x,d=a.y;a=a.z;b[0]*=f;b[4]*=d;b[8]*=a;b[1]*=f;b[5]*=d;b[9]*=a;b[2]*=f;b[6]*=d;b[10]*=a;b[3]*=f;b[7]*=d;b[11]*=a;return this},ob:function(a){this.elements.set(a);return this}};sc.prototype={constructor:sc,clone:function(){return(new this.constructor).B(this)},
B:function(a){this.Ba=a.Ba;this.J=a.J;this.Ca=a.Ca;this.Pa.B(a.Pa);this.color.B(a.color);this.Zb=a.Zb;for(var b=0,f=a.ke.length;b<f;b++)this.ke[b]=a.ke[b].clone();b=0;for(f=a.Kg.length;b<f;b++)this.Kg[b]=a.Kg[b].clone();return this}};var E=function(){function a(l,y,w){y=l.createShader(y);l.shaderSource(y,w);l.compileShader(y);return l.getShaderParameter(y,l.COMPILE_STATUS)?y:!1}function b(l,y){aa.ha()&&(y.b=y.b.replace(/gl_FragData\[([0-3])\]/g,"gbuf$1"));y.kf=a(l,l.VERTEX_SHADER,y.j,y.name+" VERTEX");
y.jf=a(l,l.FRAGMENT_SHADER,y.b,y.name+" FRAGMENT");var w=l.createProgram();l.attachShader(w,y.kf);l.attachShader(w,y.jf);l.linkProgram(w);return w}function f(l){l.j="#version 300 es\n"+l.j.replace(/varying/g,"out");l.b="#version 300 es\n"+l.b.replace(/varying/g,"in");l.j=l.j.replace(/texture2D\(/g,"texture(");l.b=l.b.replace(/texture2D\(/g,"texture(");l.ca||(l.b=l.b.replace(/void main/g,"out vec4 FragColor;\nvoid main"),l.b=l.b.replace(/gl_FragColor/g,"FragColor"));var y=0,w=[];l.j=l.j.replace(/attribute ([a-z]+[0-4]*) ([_a-zA-Z,0-9\s]+);/g,
function(O,L,A){var k="";A.split(",").forEach(function(x){x=x.trim();k+="layout(location = "+y+") in "+L+" "+x+";\n";w.push(x);++y});return k});l.Wj=w}function d(l,y){if(y.Uh)return!1;var w=aa.ha();T.Mp||w||l.enableVertexAttribArray(0);void 0===y.ca&&(y.ca=!1);y.ca&&(y.$e=F.Bl(),y.Tc=w?3:2,y.Wp=w?"none":"highp");y.id=I++;void 0===y.Tc&&(y.Tc=2);void 0===y.$e&&(y.$e="");void 0===y.Ij&&(y.Ij="");void 0===y.precision&&(y.precision="highp");"none"!==y.precision&&(y.b="precision "+y.precision+" float;\n"+
y.b);y.b=y.$e+y.b;void 0===y.j&&(y.j="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");y.j=y.Ij+y.j;w&&3<=y.Tc&&f(y);y.Ia&&y.Ia.forEach(function(O){y.j=y.j.replace(O.search,O.replace);y.b=y.b.replace(O.search,O.replace)});y.na=b(l,y);y.v={};y.c.forEach(function(O){y.v[O]=l.getUniformLocation(y.na,O)});y.attributes={};y.va=[];y.Jg=0;void 0===y.D&&(y.D=["a0"]);void 0===y.M&&(y.M=[2]);y.D.forEach(function(O,L){var A=w&&3<=y.Tc?y.Wj.indexOf(O):
l.getAttribLocation(y.na,O);y.attributes[O]=A;y.va.push(A);y.Jg+=4*y.M[L]});y.set=function(){h!==y.id&&(-1!==h&&e.F(),h=y.id,e=y,l.useProgram(y.na),y.va.forEach(function(O){0!==O&&l.enableVertexAttribArray(O)}))};y.F=function(){h=-1;y.va.forEach(function(O){0!==O&&l.disableVertexAttribArray(O)})};y.Uh=!0}function n(l,y){d(l,y);y.set();h=-1;return y}function m(){return{name:"_",b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1"],precision:"highp"}}function t(){F.f("s93",
[{type:"1i",name:"u1",value:0}]);F.f("s94",[{type:"1i",name:"u143",value:0}]);F.f("s95",[{type:"1i",name:"u65",value:0}])}function g(){var l="u39 u133 u134 u135 u136 u40 u69".split(" ").concat(v,z);r.s96={name:"_",b:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",j:"attribute vec3 a0;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,p);vec2 f=u76*e;vec3 c=u76*o;vec2 t=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,q).rgb+vec3(u70,0.,0.),u73,c);float u=mix(texture2D(u39,r).r,0.,u76);a.z+=u;mat3 v=s(a);vec3 w=mix(u133,u74,c);float x=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u72,1.,u76);vec2 j=u71/t;vec3 k=a0;float A=max(0.,-a0.z-u135)*u136;k.x+=A*sign(a0.x)*(1.-u76);vec3 l=v*(k+w)*x+b;vec2 B=j*z;vec3 C=vec3(g*B,-j)+l*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(C,1.)),vv0=l,vv1=smoothstep(u139,u140,a0.z);}",
c:["u139","u140"].concat(l),D:["a0"],precision:"highp"};r.s97={name:"_",b:"uniform sampler2D u1;uniform vec3 u137;uniform float u64;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u137,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u137,b,u64),a.a);gl_FragColor=c;}",j:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;varying vec2 vv0;const vec2 e=vec2(1.,1.);const vec3 m=vec3(1.,1.,1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,n);vec2 f=u76*e;vec3 c=u76*m;vec2 r=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,o).rgb+vec3(u70,0.,0.),u73,c);float s=mix(texture2D(u39,p).r,0.,u76);a.z+=s;mat3 t=q(a);vec3 u=mix(u133,u74,c);float v=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u72,1.,u76);vec2 j=u71/r;vec3 k=a0;float y=max(0.,-a0.z-u135)*u136;k.x+=y*sign(a0.x)*(1.-u76);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(B,1.)),vv0=a1;}",
c:["u137"].concat(D,l),D:["a0","a1"],M:[3,2],precision:"lowp"};r.s98={name:"_",b:"uniform vec3 u137;void main(){gl_FragColor=vec4(u137,0.);}",j:"attribute vec3 a0;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;const vec2 e=vec2(1.,1.);const vec3 l=vec3(1.,1.,1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,m);vec2 f=u76*e;vec3 c=u76*l;vec2 q=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,n).rgb+vec3(u70,0.,0.),u73,c);float r=mix(texture2D(u39,o).r,0.,u76);a.z+=r;mat3 s=p(a);vec3 t=mix(u133,u74,c);float u=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u72,1.,u76);vec2 j=u71/q;vec3 k=a0;float x=max(0.,-a0.z-u135)*u136;k.x+=x*sign(a0.x)*(1.-u76);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(A,1.));}",
c:["u137"].concat(l),M:[3],precision:"lowp"};r.s99={name:"_",b:"uniform vec4 u7;varying vec3 vv0;varying float vv1;void main(){float a=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv1);gl_FragColor=vec4(normalize(vv0),a);}",j:"attribute vec3 a0,a2;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,p);vec2 f=u76*e;vec3 c=u76*o;vec2 t=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,q).rgb+vec3(u70,0.,0.),u73,c);float u=mix(texture2D(u39,r).r,0.,u76);a.z+=u;mat3 h=s(a);vec3 v=mix(u133,u74,c);float w=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 x=mat2(i,j,-j,i);b.xy=x*b.xy;float y=mix(u72,1.,u76);vec2 k=u71/t;vec3 l=a0;float z=max(0.,-a0.z-u135)*u136;l.x+=z*sign(a0.x)*(1.-u76);vec3 A=h*(l+v)*w+b;vec2 B=k*y;vec3 C=vec3(g*B,-k)+A*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(C,1.)),vv0=h*a2*vec3(1.,-1.,-1.),vv1=a0.y;}",
c:["u7","u69"].concat(l),D:["a0","a2"],precision:"highp"};r.s100={name:"_",b:"uniform sampler2D u143;uniform vec4 u7;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=vec3(0.,0.,-1.),c=normalize(vv1),b=texture2D(u143,vv2).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv1:a;float m=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv3);gl_FragColor=vec4(a,m);}",j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec2 e=vec2(1.,1.);const vec3 q=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,r);vec2 f=u76*e;vec3 c=u76*q;vec2 v=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,s).rgb+vec3(u70,0.,0.),u73,c);float w=mix(texture2D(u39,t).r,0.,u76);a.z+=w;mat3 h=u(a);vec3 x=mix(u133,u74,c);float y=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u72,1.,u76);vec2 k=u71/v;vec3 l=a0;float B=max(0.,-a0.z-u135)*u136;l.x+=B*sign(a0.x)*(1.-u76);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv2=a1,vv3=a0.y;}",
c:["u7","u69","u143"].concat(l),D:["a3","a0","a2","a1"],M:[4,3,3,2],precision:"highp"};r.s101={name:"_",b:"uniform vec4 u102;uniform float u138;void main(){float b=u138;vec4 a=u102;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",j:"attribute vec3 a0;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;const vec2 e=vec2(1.,1.);const vec3 l=vec3(1.,1.,1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,m);vec2 f=u76*e;vec3 c=u76*l;vec2 q=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,n).rgb+vec3(u70,0.,0.),u73,c);float r=mix(texture2D(u39,o).r,0.,u76);a.z+=r;mat3 s=p(a);vec3 t=mix(u133,u74,c);float u=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u72,1.,u76);vec2 j=u71/q;vec3 k=a0;float x=max(0.,-a0.z-u135)*u136;k.x+=x*sign(a0.x)*(1.-u76);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(A,1.));}",
c:["u102","u138"].concat(l),precision:"lowp"};r.s102={name:"_",b:"uniform sampler2D u65;uniform vec4 u102,u66;uniform float u138;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u138;vec4 a=u102,d=texture2D(u65,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u66*e),c=mix(c,l,u66.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
j:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;varying vec2 vv0;const vec2 e=vec2(1.,1.);const vec3 m=vec3(1.,1.,1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,n);vec2 f=u76*e;vec3 c=u76*m;vec2 r=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,o).rgb+vec3(u70,0.,0.),u73,c);float s=mix(texture2D(u39,p).r,0.,u76);a.z+=s;mat3 t=q(a);vec3 u=mix(u133,u74,c);float v=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u72,1.,u76);vec2 j=u71/r;vec3 k=a0;float y=max(0.,-a0.z-u135)*u136;k.x+=y*sign(a0.x)*(1.-u76);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(B,1.)),vv0=a1;}",
c:["u102","u138"].concat(H,l),D:["a0","a1"],M:[3,2],precision:"lowp"};l=["u126","u114","u127"];r.s103={name:"_",b:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",j:"attribute vec3 a0;uniform mat4 u126,u114,u127;varying vec3 vv0;varying float vv1;void main(){vec4 a=u127*vec4(a0,1.);gl_Position=u126*u114*a,vv0=a.xyz,vv1=1.;}",c:l,precision:"highp"};r.s104={name:"_",b:"varying vec3 vv0;void main(){gl_FragColor=vec4(normalize(vv0),1.);}",j:"attribute vec3 a0,a2;uniform mat4 u126,u114,u127;varying vec3 vv0;varying float vv1;void main(){vec4 a=u127*vec4(a2,0.);gl_Position=u126*u114*u127*vec4(a0,1.),vv0=a.xyz,vv1=a0.y;}",
c:l,D:["a0","a2"],precision:"highp"};r.s94={name:"_",b:"uniform sampler2D u143;uniform vec3 u144;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=normalize(vv1+u144),c=normalize(vv2),b=texture2D(u143,vv3).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv2:a,gl_FragColor=vec4(a,1.);}",j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;void main(){vec4 b=u127*vec4(a2,0.),a=u127*vec4(a0,1.);gl_Position=u126*u114*a,vv0=a3,vv2=b.xyz,vv3=a1,vv1=a.xyz;}",
c:["u143","u144"].concat(l),D:["a0","a2","a1","a3"],precision:"highp"};r.s93={name:"_",b:"uniform sampler2D u1;uniform vec3 u137;uniform float u64;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u137,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u137,b,u64),a.a);gl_FragColor=c;}",j:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec2 vv0;const vec4 f=vec4(0.,0.,5e-4,0.);void main(){gl_Position=u126*u114*u127*vec4(a0,1.)+f,vv0=a1;}",c:["u137"].concat(D,l),D:["a0","a1"],
Ia:[{search:"0.0005",replace:za.aa()?"0.0005":"0.0"}],precision:"lowp"};r.s105={name:"_",b:"uniform vec4 u102;uniform float u138;void main(){float b=u138;vec4 a=u102;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",j:"attribute vec3 a0;uniform mat4 u126,u114,u127;void main(){gl_Position=u126*u114*u127*vec4(a0,1.);}",c:["u102"].concat(l),precision:"highp"};r.s95={name:"_",b:"uniform sampler2D u65;uniform vec4 u102,u66;uniform float u138;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u138;vec4 a=u102,d=texture2D(u65,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u66*e),c=mix(c,l,u66.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
j:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec2 vv0;void main(){gl_Position=u126*u114*u127*vec4(a0,1.),vv0=a1;}",c:["u102"].concat(H,l),D:["a0","a1"],M:[3,2],precision:"highp"}}function q(){for(var l in r)d(c,r[l])}var p=!1,D=["u1","u64"],H=["u65","u66"],v="u67 u68 u69 u70 u71 u72".split(" "),z="u73 u74 u75 u76 u77 u78".split(" "),r={},h=-1,e=null,I=0,F={Bl:function(){return aa.ha()?"precision highp float;\n            layout(location = 0) out vec4 gbuf0;\n            layout(location = 1) out vec4 gbuf1;\n            layout(location = 2) out vec4 gbuf2;\n            layout(location = 3) out vec4 gbuf3;\n":
"#extension GL_EXT_draw_buffers : require\n"},oa:function(l,y){r[l]=y;p&&d(c,r[l])},aq:function(l,y){r[l]=y;y.Uh=!1;d(c,r[l])},Xb:function(){return p},h:function(){r.s0=m();r.s1={name:"_",b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1"],precision:"lowp"};r.s65={name:"_",b:"uniform sampler2D u1,u6;uniform float u7;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){gl_FragColor=vec4(mix(texture2D(u6,vv0).rgb,texture2D(u1,vv0).rgb,u7*f),1.);}",c:["u1",
"u6","u7"],precision:"highp"};r.s66={name:"_",b:"uniform sampler2D u1,u6;uniform float u7;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){gl_FragColor=mix(texture2D(u6,vv0),texture2D(u1,vv0),u7*f);}",c:["u1","u6","u7"],precision:"highp"};r.s12={name:"_",b:"uniform sampler2D u1,u79;uniform vec2 u80;uniform float u81,u82;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 b=texture2D(u79,vv0*u80),c=texture2D(u1,vv0*u80);float a=smoothstep(u81,0.,vv0.y);a+=smoothstep(1.-u81,1.,vv0.y),gl_FragColor=pow(mix(c,b,a*f),u82*f);}",
c:["u1","u80","u79","u81","u82"]};r.s67={name:"_",b:"uniform sampler2D u1,u79;uniform vec2 u80;uniform float u81,u82;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),f=exp2(c);vec3 g=clamp(b/f,0.,1.);return vec4(g,(c+128.)/256.);}void main(){vec2 a=vv0*u80;float c=floor(a.x),d=mod(c,2.);a.x=mod(a.x,1.),a.x=mix(a.x,1.-a.x,d);vec3 f=texture2D(u79,a).rgb,g=texture2D(u1,a).rgb;float b=smoothstep(u81,0.,vv0.y);b+=smoothstep(1.-u81,1.,vv0.y);vec3 j=mix(g,f,b*h);vec4 k=i(pow(j,u82*h));gl_FragColor=k;}",
c:["u1","u80","u79","u81","u82"],precision:"highp"};r.s68={name:"_",b:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);if(a.a<.5)discard;gl_FragColor=a;}",c:["u1"],precision:"lowp"};r.s69={name:"_",b:"uniform sampler2D u1,u83;uniform vec2 u8;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u8*f).rgb+texture2D(u1,a+u8*g).rgb+texture2D(u1,a+u8*h).rgb+texture2D(u1,a+u8*i).rgb;gl_FragColor=vec4(b/5.,1.);}",
c:["u1","u8"],precision:"lowp"};r.s70={name:"_",b:"uniform sampler2D u1,u83,u39;uniform vec2 u8,u84;varying vec2 vv0;const vec3 k=vec3(1.,1.,1.);const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u8*f).rgb+texture2D(u1,a+u8*g).rgb+texture2D(u1,a+u8*h).rgb+texture2D(u1,a+u8*i).rgb;float c=texture2D(u39,vec2(.5,.5)).a,d=u84.x+pow(c,2.)*(u84.y-u84.x);vec3 j=mix(b/5.,texture2D(u83,a).rgb,d);gl_FragColor=vec4(j,1.);}",
c:["u1","u83","u8","u39","u84"],precision:"lowp"};r.s71={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const vec3 f=vec3(.299,.587,.114);const float m=.007813,n=.125,h=8.;void main(){vec2 x=vv0;vec3 o=texture2D(u1,vv0+vec2(-1.,-1.)*u8).xyz,p=texture2D(u1,vv0+vec2(1.,-1.)*u8).xyz,q=texture2D(u1,vv0+vec2(-1.,1.)*u8).xyz,r=texture2D(u1,vv0+vec2(1.,1.)*u8).xyz,s=texture2D(u1,vv0).xyz;float b=dot(o,f),c=dot(p,f),e=dot(q,f),g=dot(r,f),i=dot(s,f),t=min(i,min(min(b,c),min(e,g))),u=max(i,max(max(b,c),max(e,g)));vec2 a;a.x=-(b+c-(e+g)),a.y=b+e-(c+g);float v=max((b+c+e+g)*(.25*n),m),w=1./(min(abs(a.x),abs(a.y))+v);a=min(vec2(h,h),max(vec2(-h,-h),a*w))*u8;vec3 j=.5*(texture2D(u1,vv0+a*-.166667).rgb+texture2D(u1,vv0+a*.166667).rgb),k=j*.5+.25*(texture2D(u1,vv0+a*-.5).rgb+texture2D(u1,vv0+a*.5).rgb);float l=dot(k,f);gl_FragColor=l<t||l>u?vec4(j,1.):vec4(k,1.);}",
c:["u1","u8"],precision:"lowp"};r.s43={name:"_",b:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(0.,0.,0.);vec4 g(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),h=exp2(c);vec3 i=clamp(b/h,0.,1.);return vec4(i,(c+128.)/256.);}void main(){vec3 a=texture2D(u1,vv0).rgb;gl_FragColor=g(max(a,f));}",c:["u1"],precision:"highp"};r.s72={name:"_",b:"uniform sampler2D u85,u86;uniform float u87,u88;varying vec2 vv0;void main(){vec3 a=texture2D(u86,vv0).rgb,b=texture2D(u85,vv0).rgb;gl_FragColor=vec4(b*u88+u87*a,1.);}",
c:["u85","u86","u87","u88"],precision:"highp"};r.s73={name:"_",b:"uniform sampler2D u89,u90;uniform float u82;varying vec2 vv0;const int j=8888;const float e=3.141592;const vec2 k=vec2(0.,0.);const vec3 n=vec3(1.,1.,1.),o=vec3(0.,0.,0.);void main(){float p=e*(vv0.x*2.-1.),q=e/2.*(vv0.y*2.-1.),b,c,r,l,m;vec4 d;vec3 f=o;vec2 g=k,a=k;for(int h=0;h<j;h+=1)a.x=float(h),a.y=floor(a.x/64.),d=texture2D(u90,a/64.),b=e*d.r,c=2.*asin(sqrt(.25+d.g*.25)),l=p+c*cos(b),m=q+c*sin(b),g.x=.5+.5*l/e,g.y=.5+m/e,f+=pow(texture2D(u89,g).rgb,u82*n);f/=float(j),gl_FragColor=vec4(f,1.);}",
c:["u89","u90","u82"],precision:"lowp",Ia:[{search:"8888",replace:T.nm[aa.P()]}]};r.s74={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);float b=.031496*texture2D(u1,vv0-3.*u8).a+.110236*texture2D(u1,vv0-2.*u8).a+.220472*texture2D(u1,vv0-u8).a+.275591*a.a+.220472*texture2D(u1,vv0+u8).a+.110236*texture2D(u1,vv0+2.*u8).a+.031496*texture2D(u1,vv0+3.*u8).a;gl_FragColor=vec4(a.rgb,4.*b);}",c:["u1","u8"],precision:"lowp"};r.s75={name:"_",b:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);float b=.3*pow(a.a,2.);gl_FragColor=vec4(a.rgb+b*f,1.);}",
c:["u1"],precision:"lowp"};r.s76={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=.031496*texture2D(u1,vv0-3.*u8)+.110236*texture2D(u1,vv0-2.*u8)+.220472*texture2D(u1,vv0-u8)+.275591*texture2D(u1,vv0)+.220472*texture2D(u1,vv0+u8)+.110236*texture2D(u1,vv0+2.*u8)+.031496*texture2D(u1,vv0+3.*u8);gl_FragColor=a;}",c:["u1","u8"],precision:"lowp"};r.s77={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0-3.*u8)+texture2D(u1,vv0-2.*u8)+texture2D(u1,vv0-u8)+texture2D(u1,vv0)+texture2D(u1,vv0+u8)+texture2D(u1,vv0+2.*u8)+texture2D(u1,vv0+3.*u8);gl_FragColor=a/7.;}",
c:["u1","u8"],precision:"lowp"};r.s78={name:"_",b:"uniform sampler2D u1;varying vec2 vv0;const vec4 g=vec4(0.,0.,0.,0.);const float e=256.;void main(){vec4 b=g;float c=0.;vec2 d;for(float a=0.;a<e;a+=1.)d=vec2((a+.5)/e,vv0.y),b+=texture2D(u1,d),c+=1.;gl_FragColor=b/c;}",c:["u1"],precision:"highp"};r.s79={name:"_",b:"uniform sampler2D u1,u79;varying vec2 vv0;const vec4 h=vec4(1.,1.,1.,1.);const float f=0.,g=.3;void main(){vec4 b=texture2D(u79,vv0),c=texture2D(u1,vv0);float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=mix(c,b,a*h);}",
c:["u1","u79"],precision:"highp"};r.s80={name:"_",b:"uniform sampler2D u1,u79;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);const float f=0.,g=.3;vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),j=exp2(c);vec3 k=clamp(b/j,0.,1.);return vec4(k,(c+128.)/256.);}void main(){vec3 b=texture2D(u79,vv0).rgb,c=texture2D(u1,vv0).rgb;float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=i(mix(c,b,a*h));}",c:["u1","u79"],precision:"highp"};r.s81=
{name:"_",b:"uniform sampler2D u1,u91,u2,u92;uniform vec4 u93;uniform vec2 u94;uniform float u95,u96,u97,u98;varying vec2 vv0;const vec2 g=vec2(1.,1.),h=vec2(.5,.5);const float e=3.141592;void main(){vec4 d=texture2D(u1,vv0),i=texture2D(u91,vec2(1.-vv0.x,vv0.y));float j=step(texture2D(u92,vec2(.25,.5)).r,1.);vec2 a=vv0*2.-g;float k=texture2D(u2,a*u94*.5+h).r,l=atan(a.x,a.y),m=-(mod(u95,2.*e)-e),b=mod(l-m+e,2.*e)-e,n=smoothstep(0.,u96,b),c=.5+u98*(.5-n);c*=(sign(b)+1.)/2.;vec4 o=i+c*u93*k;gl_FragColor=mix(d,o,j*u97);}",
c:"u1 u2 u92 u91 u93 u95 u96 u97 u94 u98".split(" "),precision:"lowp"};var l="u99 u100 u101 u102 u89 u103 u22 u104 u91 u105 u106 u107 u108 u109 u8".split(" ");T.$&&(r.s82={name:"_",b:"uniform sampler2D u99,u100,u101,u102,u89,u103,u110,u91;uniform vec3 u104,u107;uniform vec2 u8;uniform float u22,u111,u106,u108,u105;varying vec2 vv0;const float j=3.141592;const vec3 u=vec3(0.,0.,0.),v=vec3(.299,.587,.114);const float w=2.;vec3 l(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 x(vec3 a){float b=atan(a.x,a.z),c=acos(-a.y);return vec2(.5-.5*b/j,1.-c/j);}vec2 y(vec3 a,float b){vec2 d=vec2(1.,.5)/pow(2.,b),f=vec2(0.,1.-pow(.5,b));float g=atan(a.x,a.z),h=acos(-a.y),c=.5+.5*g/j,i=h/j,k=pow(2.,b)/u105;c=(1.-k)*c;return f+vec2(c,i)*d;}void main(){vec4 c=texture2D(u99,vv0);vec3 k=texture2D(u91,vec2(1.-vv0.x,vv0.y)).rgb;if(c.a<.01){gl_FragColor=vec4(k,0.);return;}float z=c.a;vec3 A=c.rgb,B=A+u104;vec4 b=texture2D(u102,vv0),m=texture2D(u100,vv0);vec3 d=m.rgb;float f=m.a;vec4 n=texture2D(u101,vv0);vec3 C=n.rgb;float o=b.r,D=b.g,p=floor(b.b*255.),g=floor(p/16.),E=(p-16.*g)/16.;g/=16.;float F=b.a;f=1.-(1.-f)*(1.-n.a);vec2 G=x(-d);vec3 q=(1.-F)*l(texture2D(u103,G)),r=normalize(B),h=u,s=reflect(-r,d);vec2 H=y(s,floor(D*u22));float I=acos(-s.z),J=smoothstep(u106-u108,u106+u108,I);h=mix(l(texture2D(u89,H)),u107,J);float a=o+(E-o)*pow(1.-dot(d,-r),g*16.);a=clamp(a,0.,1.);float t=1.-u111*texture2D(u110,vv0).r;h*=pow(t,2.),q*=t;vec3 i=C*mix(q,h,a),M=mix(k,i,z*(f*(1.-a)+a));float K=dot(i,v),L=max(0.,(K-1.)/(w-1.));gl_FragColor=vec4(i,L);}",
c:l.concat(["u110","u111"]),precision:"highp"});r.s83={name:"_",b:"uniform sampler2D u99,u100,u101,u102,u89,u103,u91;uniform vec3 u104,u107;uniform vec2 u8;uniform float u22,u106,u108,u109,u112,u113,u105;varying vec2 vv0;const float g=3.141592;const vec3 D=vec3(0.,0.,0.),m=vec3(1.,1.,1.),E=vec3(.299,.587,.114);const float F=2.;vec3 p(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 G(vec3 a){float b=atan(a.x,-a.z),c=acos(-a.y);return vec2(.5-.5*b/g,1.-c/g);}vec2 H(vec3 a,float d){float b=pow(2.,d);vec2 f=vec2(1.,.5)/b,h=vec2(0.,1.-1./b);float i=atan(a.x,a.z),j=acos(-a.y),c=.5+.5*i/g,k=j/g,l=.5*b/u105;c=(1.-l)*c;return h+vec2(c,k)*f;}float n(vec3 a,vec3 b){return abs(acos(dot(a,b)));}float o(vec2 a){float b=texture2D(u99,a).a;return step(.01,b);}void main(){vec4 h=texture2D(u99,vv0),i=texture2D(u91,vec2(1.-vv0.x,vv0.y));if(h.a<.01){gl_FragColor=vec4(i.rgb,0.);return;}float q=h.a;vec3 I=h.rgb,J=I+u104;vec4 c=texture2D(u102,vv0),r=texture2D(u100,vv0);vec3 a=r.rgb;float j=r.a;vec4 k=texture2D(u101,vv0);vec3 d=k.rgb;if(q>1.){gl_FragColor=vec4(mix(i.rgb,d,k.a),1.);return;}d=pow(d,u112*m);float s=c.r,K=c.g,L=c.a,t=floor(c.b*255.),l=floor(t/16.),M=(t-16.*l)/16.;l/=16.,j=1.-(1.-j)*(1.-k.a);vec2 u=vv0+vec2(-1.,0.)*u8,v=vv0+vec2(1.,0.)*u8,w=vv0+vec2(0.,1.)*u8,x=vv0+vec2(0.,-1.)*u8;vec3 N=texture2D(u100,u).rgb,O=texture2D(u100,v).rgb,P=texture2D(u100,w).rgb,Q=texture2D(u100,x).rgb;float R=n(a,N)*o(u),S=n(a,O)*o(v),T=n(a,P)*o(w),U=n(a,Q)*o(x),V=2.*max(max(R,S),max(T,U)),W=1.2*clamp(V/g,0.,1.),X=max(K,W);vec2 Y=G(a);vec3 Z=p(texture2D(u103,Y)),_=(1.-L)*Z,y=normalize(J),z=D,A=reflect(-y,a);float aa=floor(X*u22);vec2 ba=H(A,aa);float ca=acos(-A.z),da=smoothstep(u106-u108,u106+u108,ca);vec3 ea=p(texture2D(u89,ba));z=mix(ea,u107,da*u109);float b=s+(M-s)*pow(1.+dot(a,y),l*15.);b=clamp(b,0.,1.);vec3 fa=d*mix(_,z,b);float B=q*(j*(1.-b)+b);vec3 f=mix(i.rgb,pow(fa,m/u112),B);float C=dot(f,E),ga_=max(0.,(C-1.)/(F-1.));f=mix(C*m,f,mix(1.,u113,B)*m),gl_FragColor=vec4(f,ga_);}",
c:l.concat(["u112","u113"]),precision:"highp"};T.$&&(r.s84={name:"_",b:"uniform sampler2D u99,u100;uniform mat4 u114;uniform vec2 u115,u8,u116;uniform float u117,u118,u119,u120,u121,u122,u123,u124,u111;varying vec2 vv0;const float PI=3.141593,HALFPI=1.570796,N=8888.8;void main(){vec2 uvt=vv0+u116;vec4 pos=texture2D(u99,uvt);if(pos.a<.01){gl_FragColor=vec4(0.,0.,0.,1.);return;}vec3 co0=pos.rgb;float c=cos(u117),s=sin(u117);vec3 no0=texture2D(u100,uvt).rgb;float zv=(u114*vec4(co0,1.)).z;vec3 co;vec2 scale=u115/abs(zv),uv,duv=u8*vec2(c,s)*scale;vec3 dp,dpn;float dzMax=0.,angleMin=0.,angle;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u99,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u123,u124,length(dp)),angleMin=max(angleMin,angle),dzMax=max(dzMax,sin(angle)*length(dp));float angleMinInv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u99,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u123,u124,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMinInv=max(angleMinInv,angle);duv=u8*vec2(s,c)*scale;float angleMin2=0.;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u99,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u123,u124,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2=max(angleMin2,angle);float angleMin2Inv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u99,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u123,u124,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2Inv=max(angleMin2Inv,angle);float omegaMin=PI/4.*(angleMin+angleMinInv)*(angleMin2+angleMin2Inv),dzFactor=clamp(dzMax/u120,u121,1.),ao=dzFactor*clamp(u119*omegaMin*u122,0.,u111);gl_FragColor=vec4(ao,ao,ao,u118);}",
c:"u99 u100 u119 u118 u117 u8 u125 u120 u121 u122 u123 u124 u114 u115 u111".split(" "),Ia:[{search:"8888.8",replace:T.qk[aa.P()].toFixed(1)}],precision:"lowp"},r.s85={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4),j=vec2(-1.9,.9),k=vec2(.9,1.9),l=vec2(-.9,-1.9),m=vec2(1.9,-.9);void main(){vec2 a=vv0;vec4 b=texture2D(u1,a)+texture2D(u1,a+u8*f)+texture2D(u1,a+u8*g)+texture2D(u1,a+u8*h)+texture2D(u1,a+u8*i);b+=texture2D(u1,a+u8*j)+texture2D(u1,a+u8*k)+texture2D(u1,a+u8*l)+texture2D(u1,a+u8*m),gl_FragColor=b/9.;}",
c:["u1","u8"],precision:"lowp"});r.s86={name:"_",b:"varying vec3 vv0;void main(){gl_FragColor=vec4(vv0,1.);}",j:"attribute vec3 a0;uniform mat4 u126,u114,u127;varying vec3 vv0;void main(){vec4 a=u126*u114*u127*vec4(a0,1.);gl_Position=a,vv0=a.xyz/a.w;}",c:["u126","u114","u127"],precision:"lowp"};r.s87={name:"_",b:"uniform sampler2D u128,u103,u90;uniform mat4 u126,u129;uniform vec2 u130;uniform float u131;varying vec2 vv0;const float n=8888.8,o=9999.9,p=25.,v=50.,w=1.2,e=3.141592;const vec4 x=vec4(0.,0.,0.,0.),A=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);vec2 y(vec3 a){float b=atan(a.x,a.z),c=acos(a.y);return vec2(.5-.5*b/e,1.-c/e);}void main(){float d,a,q;vec2 z=vec2(vv0.x,1.-vv0.y),b;vec3 r=vec3(u130*(z-f),0.),B=vec3(u129*vec4(r,1.)),g,s;vec4 t=x,h,c,u;vec3 i;int j;for(float k=0.;k<n;k+=1.){b.x=k,b.y=floor(b.x/64.),c=texture2D(u90,b/64.),d=e*c.r,a=2.*asin(sqrt(.25+c.g*.25)),g=vec3(cos(d)*sin(a),sin(d)*sin(a),-cos(a)),q=p+(.5+.5*c.b)*(v-p),j=0;for(float l=0.;l<=o;l+=1.){u=vec4(r+g*q*pow(l/o,w),1.),h=u126*u,i=h.xyz/h.w;if(texture2D(u128,f+f*i.xy).z<i.z){j=1;break;}}if(j==1)continue;s=vec3(u129*vec4(g,0.)),t+=texture2D(u103,y(s));}gl_FragColor=vec4(u131*t.rgb/n,1.);}",
c:"u128 u103 u90 u126 u129 u130 u131".split(" "),Ia:[{search:"8888.8",replace:T.jo[aa.P()].toFixed(1)},{search:"9999.9",replace:T.ko[aa.P()].toFixed(1)}],precision:"lowp"};r.s88={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=.285714*texture2D(u1,vv0-u8)+.428571*texture2D(u1,vv0)+.285714*texture2D(u1,vv0+u8);gl_FragColor=a;}",c:["u1","u8"],precision:"lowp"};r.s89={name:"_",b:"uniform sampler2D u1,u132;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
j:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u126,u114;varying vec2 vv0;void main(){vec4 a=u126*u114*vec4(a0,1.);gl_Position=a,vv0=a1;}",c:["u126","u114","u1"],D:["a0","a1"],precision:"lowp"};if(aa.W()){l="u39 u133 u134 u135 u136 u40 u102 u137 u138 u7 u139 u140 u69".split(" ").concat(v,z);aa.di()||(r.s90={name:"_",j:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",b:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,0.,0.),gl_FragData[2]=vec4(0.,0.,0.,0.),gl_FragData[3]=vec4(0.,0.,0.,0.);}",
c:[],precision:"lowp",ca:!0});r.s91={name:"_",j:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",b:"uniform vec4 color;void main(){gl_FragData[0]=color,gl_FragData[1]=color,gl_FragData[2]=color,gl_FragData[3]=color;}",c:["color"],ca:!0};r.s92NNGLcolor={name:"_",b:"uniform vec4 u102,u7;uniform vec3 u137;uniform float u138;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv3),c=u138;vec4 a=u102;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u137,0.),gl_FragData[3]=a;}",
j:"attribute vec3 a0,a2;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec3 vv0,vv1;varying float vv2,vv3;const vec2 e=vec2(1.,1.);const vec3 r=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),s=vec2(.16,.5),t=vec2(.5,.5),u=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 v(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,s);vec2 f=u76*e;vec3 c=u76*r;vec2 w=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,t).rgb+vec3(u70,0.,0.),u73,c);float x=mix(texture2D(u39,u).r,0.,u76);a.z+=x;mat3 h=v(a);vec3 y=mix(u133,u74,c);float z=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 A=mat2(i,j,-j,i);b.xy=A*b.xy;float B=mix(u72,1.,u76);vec2 k=u71/w;vec3 l=a0;float C=max(0.,-a0.z-u135)*u136;l.x+=C*sign(a0.x)*(1.-u76);vec3 m=h*(l+y)*z+b;vec2 D=k*B;vec3 E=vec3(g*D,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv2=smoothstep(u139,u140,a0.z),vv0=m,vv3=a0.y;}",
c:l,D:["a0","a2"],M:[3,3],ca:!0};r.s92NNGLtexture={name:"_",b:"uniform sampler2D u1;uniform vec4 u102,u7;uniform vec3 u137;uniform float u138,u64;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u138;vec4 b=u102;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u137,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u137,l,u64),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
j:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.,1.);const vec3 s=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,t);vec2 f=u76*e;vec3 c=u76*s;vec2 x=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,u).rgb+vec3(u70,0.,0.),u73,c);float y=mix(texture2D(u39,v).r,0.,u76);a.z+=y;mat3 h=w(a);vec3 z=mix(u133,u74,c);float A=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u72,1.,u76);vec2 k=u71/x;vec3 l=a0;float D=max(0.,-a0.z-u135)*u136;l.x+=D*sign(a0.x)*(1.-u76);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u139,u140,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
c:l.concat(D),D:["a0","a2","a1"],M:[3,3,2],ca:!0};r.s92NNGLtextureNormalMap={name:"_",b:"uniform vec4 u102,u7;uniform vec3 u137;uniform sampler2D u1,u143;uniform float u138,u64;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u143,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u138;vec4 c=u102;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u137,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u137,t,u64),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.,1.);const vec3 t=vec3(1.,1.,1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,u);vec2 f=u76*e;vec3 c=u76*t;vec2 y=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,v).rgb+vec3(u70,0.,0.),u73,c);float z=mix(texture2D(u39,w).r,0.,u76);a.z+=z;mat3 h=x(a);vec3 A=mix(u133,u74,c);float B=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u72,1.,u76);vec2 k=u71/y;vec3 l=a0;float E=max(0.,-a0.z-u135)*u136;l.x+=E*sign(a0.x)*(1.-u76);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv4=smoothstep(u139,u140,a0.z),vv3=a1,vv1=m,vv5=a0.y;}",
c:l.concat(D,["u143"]),D:["a3","a0","a2","a1"],M:[4,3,3,2],ca:!0};r.s92NNGLtextureParamsMap={name:"_",b:"uniform sampler2D u1,u65;uniform vec4 u102,u7,u66;uniform vec3 u137;uniform float u138,u64;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u138;vec4 a=u102,e=texture2D(u65,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u66*f),d=mix(d,r,u66.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u137,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u137,u,u64),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
j:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.,1.);const vec3 s=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,t);vec2 f=u76*e;vec3 c=u76*s;vec2 x=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,u).rgb+vec3(u70,0.,0.),u73,c);float y=mix(texture2D(u39,v).r,0.,u76);a.z+=y;mat3 h=w(a);vec3 z=mix(u133,u74,c);float A=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u72,1.,u76);vec2 k=u71/x;vec3 l=a0;float D=max(0.,-a0.z-u135)*u136;l.x+=D*sign(a0.x)*(1.-u76);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u139,u140,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
c:l.concat(D,H),D:["a0","a2","a1"],M:[3,3,2],ca:!0};r.s92NNGLtextureNormalParamsMap={name:"_",b:"uniform sampler2D u1,u143,u65;uniform vec4 u102,u7,u66;uniform vec3 u137;uniform float u138,u64;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u143,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u138;vec4 a=u102,f=texture2D(u65,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u66*l),e=mix(e,z,u66.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u137,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u137,C,u64),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.,1.);const vec3 t=vec3(1.,1.,1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,u);vec2 f=u76*e;vec3 c=u76*t;vec2 y=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,v).rgb+vec3(u70,0.,0.),u73,c);float z=mix(texture2D(u39,w).r,0.,u76);a.z+=z;mat3 h=x(a);vec3 A=mix(u133,u74,c);float B=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u72,1.,u76);vec2 k=u71/y;vec3 l=a0;float E=max(0.,-a0.z-u135)*u136;l.x+=E*sign(a0.x)*(1.-u76);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv4=smoothstep(u139,u140,a0.z),vv3=a1,vv1=m,vv5=a0.y;}",
c:l.concat(D,["u143"],H),D:["a3","a0","a2","a1"],M:[4,3,3,2],ca:!0};l="u126 u114 u127 u102 u137 u138 u7".split(" ");r.s92color={name:"_",b:"uniform vec4 u102,u7;uniform vec3 u137;uniform float u138;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv3),c=u138;vec4 a=u102;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u137,0.),gl_FragData[3]=a;}",j:"attribute vec3 a0,a2;uniform mat4 u126,u114,u127;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv0=a.xyz,vv1=b.xyz,vv2=1.,vv3=a0.y;}",
c:l,D:["a0","a2"],ca:!0};r.s92={name:"_",b:"uniform sampler2D u1;uniform vec4 u102,u7;uniform vec3 u137;uniform float u138,u64;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u138;vec4 b=u102;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u137,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u137,l,u64),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
j:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",c:l.concat(D),D:["a0","a2","a1"],ca:!0};var y=["u143","u144"];r.s92NormalMap={name:"_",b:"uniform sampler2D u1,u143;uniform vec4 u102,u7;uniform vec3 u144,u137;uniform float u138,u64;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u143,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u138;vec4 c=u102;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u137,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u137,t,u64),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",c:l.concat(D,y),D:["a0","a2","a1","a3"],ca:!0};r.s92ParamsMap={name:"_",b:"uniform sampler2D u1,u65;uniform vec4 u102,u7,u66;uniform vec3 u137;uniform float u138,u64;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u138;vec4 a=u102,e=texture2D(u65,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u66*f),d=mix(d,r,u66.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u137,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u137,u,u64),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
j:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",c:l.concat(D,H),D:["a0","a2","a1"],ca:!0};r.s92NormalParamsMap={name:"_",b:"uniform sampler2D u1,u143,u65;uniform vec4 u102,u7,u66;uniform vec3 u144,u137;uniform float u138,u64;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u143,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u138;vec4 a=u102,f=texture2D(u65,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u66*l),e=mix(e,z,u66.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u137,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u137,C,u64),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",c:l.concat(D,y,H),D:["a0","a2","a1","a3"],ca:!0}}else g();q();l=[{type:"1i",name:"u1",value:0}];F.f("s0",l);F.f("s1",l);F.f("s65",[{type:"1i",name:"u6",value:1}].concat(l));F.f("s66",[{type:"1i",name:"u6",
value:1}].concat(l));F.f("s12",[{type:"1i",name:"u79",value:1}].concat(l));F.f("s67",[{type:"1i",name:"u79",value:1}].concat(l));F.f("s68",l);F.f("s69",l);F.f("s70",[{type:"1i",name:"u83",value:1},{type:"1i",name:"u39",value:2}].concat(l));F.f("s71",l);F.f("s43",l);F.f("s72",[{type:"1i",name:"u85",value:0},{type:"1i",name:"u86",value:1}]);F.f("s73",[{type:"1i",name:"u89",value:0},{type:"1i",name:"u90",value:1}]);F.f("s74",l);F.f("s75",l);F.f("s76",l);F.f("s77",l);F.f("s78",l);F.f("s79",[{type:"1i",
name:"u79",value:1}].concat(l));F.f("s80",[{type:"1i",name:"u79",value:1}].concat(l));T.$&&(F.f("s84",[{type:"1i",name:"u99",value:0},{type:"1i",name:"u100",value:1},{type:"1f",name:"u120",value:T.dk},{type:"1f",name:"u121",value:T.ek},{type:"1f",name:"u122",value:T.rk},{type:"1f",name:"u123",value:T.hk},{type:"1f",name:"u124",value:T.ik},{type:"1f",name:"u119",value:1},{type:"1f",name:"u111",value:1}]),F.f("s85",l));y=[{type:"1i",name:"u99",value:0},{type:"1i",name:"u100",value:1},{type:"1i",name:"u101",
value:2},{type:"1i",name:"u89",value:3},{type:"1i",name:"u103",value:4},{type:"1i",name:"u102",value:6},{type:"1i",name:"u91",value:7},{type:"1f",name:"u109",value:0},{type:"1f",name:"u106",value:0},{type:"1f",name:"u108",value:0}];T.$&&F.f("s82",y.concat([{type:"1f",name:"u111",value:T.gk[aa.P()]},{type:"1i",name:"u110",value:5}]));F.f("s83",y.concat([{type:"1f",name:"u112",value:T.$b},{type:"1f",name:"u113",value:T.Od}]));F.f("s87",[{type:"1i",name:"u128",value:0},{type:"1i",name:"u103",value:1},
{type:"1i",name:"u90",value:2},{type:"1f",name:"u131",value:T.io}]);F.f("s88",l);F.f("s89",l);F.f("s81",[{type:"1i",name:"u2",value:1},{type:"1i",name:"u92",value:2},{type:"1i",name:"u91",value:3},{type:"1f",name:"u97",value:1},{type:"2f",name:"u94",value:[0,0]}].concat(l));aa.W()?(F.f("s92",l),F.f("s92NormalMap",[{type:"1i",name:"u143",value:1}].concat(l)),F.f("s92ParamsMap",[{type:"1i",name:"u65",value:1}].concat(l)),F.f("s92NormalParamsMap",[{type:"1i",name:"u143",value:1},{type:"1i",name:"u65",
value:2}].concat(l))):t();p=!0},Vn:function(){g();q();t()},td:function(){return e.id},ff:function(){return v},gf:function(){return z},set:function(l){pb.jj(F);r[l].set()},yb:function(l){return n(l,m())},Td:function(l){return n(l,{name:"_",b:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",c:[],precision:"highp"})},Yn:function(l){return n(l,{name:"_",b:"const vec4 d=vec4(.5,.5,.5,.5);void main(){gl_FragData[0]=d,gl_FragData[1]=d,gl_FragData[2]=d,gl_FragData[3]=d;}",c:[],precision:"highp",ca:!0})},F:function(){-1!==
h&&e.F()},Vd:function(){var l=0;e.va.forEach(function(y,w){w=e.M[w];c.vertexAttribPointer(y,w,c.FLOAT,!1,e.Jg,l);l+=4*w})},Mc:function(){F.dc(c)},dc:function(l){l.vertexAttribPointer(e.va[0],2,l.FLOAT,!1,8,0)},fq:function(){c.vertexAttribPointer(e.attributes.a0,3,c.FLOAT,!1,12,0)},Ra:function(){c.vertexAttribPointer(e.attributes.a0,3,c.FLOAT,!1,32,0)},$a:function(){c.vertexAttribPointer(e.attributes.a0,3,c.FLOAT,!1,24,0)},cj:function(){c.vertexAttribPointer(e.attributes.a2,3,c.FLOAT,!1,32,12)},dj:function(){c.vertexAttribPointer(e.attributes.a2,
3,c.FLOAT,!1,24,12)},Kc:function(){c.vertexAttribPointer(e.attributes.a1,2,c.FLOAT,!1,32,24)},gq:function(){c.vertexAttribPointer(e.attributes.a0,3,c.FLOAT,!1,20,0);c.vertexAttribPointer(e.attributes.a1,2,c.FLOAT,!1,20,12)},Mn:function(){c.vertexAttribPointer(e.attributes.a0,3,c.FLOAT,!1,32,0);c.vertexAttribPointer(e.attributes.a2,3,c.FLOAT,!1,32,12);c.vertexAttribPointer(e.attributes.a1,2,c.FLOAT,!1,32,24)},Nn:function(){c.vertexAttribPointer(e.attributes.a0,3,c.FLOAT,!1,32,0);c.vertexAttribPointer(e.attributes.a2,
3,c.FLOAT,!1,32,12)},On:function(){c.vertexAttribPointer(e.attributes.a0,3,c.FLOAT,!1,24,0);c.vertexAttribPointer(e.attributes.a2,3,c.FLOAT,!1,24,12)},Rd:function(){c.vertexAttribPointer(e.attributes.a3,4,c.FLOAT,!1,16,0)},Ud:function(l,y){c.uniform1i(e.v[l],y)},C:function(l,y){c.uniform1f(e.v[l],y)},L:function(l,y,w){c.uniform2f(e.v[l],y,w)},kj:function(l,y){c.uniform2fv(e.v[l],y)},mg:function(l,y,w,O){c.uniform3f(e.v[l],y,w,O)},ng:function(l,y){c.uniform3fv(e.v[l],y)},za:function(l,y){c.uniform4fv(e.v[l],
y)},bo:function(l,y){c.uniformMatrix2fv(e.v[l],!1,y)},co:function(l,y){c.uniformMatrix3fv(e.v[l],!1,y)},Lc:function(l,y){c.uniformMatrix4fv(e.v[l],!1,y)},f:function(l,y){F.set(l);y.forEach(function(w){switch(w.type){case "4f":c.uniform4fv(e.v[w.name],w.value);break;case "3f":c.uniform3fv(e.v[w.name],w.value);break;case "2f":c.uniform2fv(e.v[w.name],w.value);break;case "1f":c.uniform1f(e.v[w.name],w.value);break;case "1i":c.uniform1i(e.v[w.name],w.value);break;case "mat2":c.uniformMatrix2fv(e.v[w.name],
!1,w.value);break;case "mat4":c.uniformMatrix4fv(e.v[w.name],!1,w.value)}})},H:function(){for(var l in r){var y=r[l];c.detachShader(y.na,y.kf);c.detachShader(y.na,y.jf);c.deleteShader(y.kf);c.deleteShader(y.jf);c.deleteProgram(y.na)}},u:function(){c.disableVertexAttribArray(0);F.F();F.H();I=0;p=!1;e=null;h=-1}};return F}(),Ua=function(){var a={},b=[],f=!1,d=0,n=0,m=-1,t=-1,g=-1,q=1,p=null,D=!1,H=null,v=!1,z=!1,r=!1,h=!1,e=!1,I=!1,F=!1,l=null,y=null,w=-1,O=-1,L=null,A=-1,k,x=null,G=null,J=null,M=null,
Q=null,ba=null,ia=null,P=[{type:"1f",name:"u76",value:0},{type:"1f",name:"u139",value:0},{type:"1f",name:"u140",value:0},{type:"1f",name:"u71",value:1},{type:"1f",name:"u68",value:0},{type:"1f",name:"u78",value:1}],u={h:function(B,C){a.pg=B;aa.Fg();vc.Xe();Jb.Xe(B.me);m=B.Ze;t=B.So;g=B.Rf;q=B.le;var S=[{type:"1f",name:"u71",value:m},{type:"1f",name:"u68",value:g},{type:"1f",name:"u72",value:B.Cn},{type:"mat4",name:"u67",value:B.fn},{type:"2f",name:"u40",value:B.Mj}];B.Eg=S;var ca=[{type:"3f",name:"u73",
value:[0,0,0]},{type:"3f",name:"u74",value:B.Ng},{type:"3f",name:"u75",value:B.Mg},{type:"1f",name:"u76",value:0},{type:"1f",name:"u77",value:B.me},{type:"1f",name:"u78",value:1}];B.Cj=ca;u.jm(B,C);f||void 0!==B.Ga||(B.Ga=[0,0,120]);F=I=K.lf;if(!f&&I){C=1*aa.sb();var ja=1*aa.rb(),pa={isLinear:!0,isPot:!1,width:C,height:ja};l=X.instance(pa);y=X.instance(pa);w=1/C;O=1/ja}S=[{type:"1i",name:"u39",value:1},{type:"3f",name:"u69",value:B.Ga},{type:"1f",name:"u135",value:B.wa},{type:"1f",name:"u136",value:B.pa}].concat(S,
ca);p=B.ma;ca=[{type:"1f",name:"u139",value:p[0]},{type:"1f",name:"u140",value:p[1]}];aa.W()?(C=[{type:"1i",name:"u1",value:0}],ja=[{type:"1i",name:"u143",value:2}],E.f("s92NNGLcolor",S.concat(ca)),E.f("s92NNGLtexture",C.concat(S,ca)),E.f("s92NNGLtextureNormalMap",C.concat(ja,S,ca)),E.f("s92NNGLtextureParamsMap",[{type:"1i",name:"u65",value:2}].concat(C,S,ca)),E.f("s92NNGLtextureNormalParamsMap",[{type:"1i",name:"u65",value:3}].concat(C,ja,S,ca))):(E.f("s96",S.concat(ca)),E.f("s97",[{type:"1i",name:"u1",
value:0}].concat(S)),E.f("s98",S),E.f("s99",S),E.f("s100",S.concat([{type:"1i",name:"u143",value:0}])),E.f("s101",S),E.f("s102",S.concat([{type:"1i",name:"u65",value:0}])));E.f("s70",[{type:"2f",name:"u84",value:B.wg}]);E.f(T.$?"s82":"s83",[{type:"1f",name:"u106",value:B.ye},{type:"3f",name:"u107",value:B.bg},{type:"1f",name:"u108",value:B.Le},{type:"1f",name:"u109",value:1},{type:"3f",name:"u104",value:B.Uj}]);if(k=B.Fd)L=B.Km,A=B.Gd,E.f("s81",[{type:"4f",name:"u93",value:B.Ed},{type:"1f",name:"u96",
value:B.Jf},{type:"2f",name:"u94",value:B.Jm},{type:"1f",name:"u98",value:Math.sign(A)}]);b.forEach(function(ra){ra.Zi(B)});f=!0},bc:function(B){z&&ua.ja.bc(B);r&&ua.ra.bc(B)},jm:function(B,C){void 0!==ua.ja&&B.fc&&aa.W()&&(ua.ja.h(B),v=!0,C.push(function(S){ua.ja.bc(S);z=!0}));void 0!==ua.ra&&B.dd&&(ua.ra.h(B),C.push(function(S){ua.ra.bc(S);r=!0}));void 0!==ua.mc&&B.Ce&&(ua.mc.h(B),e=h=!0);void 0!==ua.lb&&(ua.lb.h(B),H=ua.lb.lm({width:B.xc,height:2*B.xc,depth:1.5*B.xc,vl:-B.rf,Ua:B.pf,Xk:B.qf}),
D=!0)},$n:function(B,C,S,ca){B&&(ia=B,v&&ua.ja.cc(B),r&&ua.ra.cc(B),h&&ua.mc.cc(B),b.forEach(function(ja){ja.cc(B)}));S&&(M=S);ca&&(Q=ca)},zb:function(B){aa.W()?(E.f("s92NNGLcolor",B),E.f("s92NNGLtexture",B),E.f("s92NNGLtextureNormalMap",B),E.f("s92NNGLtextureParamsMap",B),E.f("s92NNGLtextureNormalParamsMap",B)):(E.f("s96",B),E.f("s97",B),E.f("s98",B),E.f("s99",B),E.f("s100",B),E.f("s101",B),E.f("s102",B))},bb:function(B,C,S){var ca=[B[0]+C[0],B[1]+C[1],B[2]+C[2]];ca=[ca[0]+S[0],ca[1]+S[1],ca[2]+
S[2]];a.Ha=ca;a.Rm=C;a.Fo=S;u.zb([{type:"3f",name:"u133",value:ca}]);aa.W()&&(v&&ua.ja.bb(B,C,S),r&&ua.ra.bb(ca));D&&ua.lb.bb(B)},cb:function(B,C,S){var ca=B*C*S;a.Sm=C;a.Go=S;a.dm=B;u.zb([{type:"1f",name:"u134",value:ca}]);aa.W()&&(v&&ua.ja.cb(B*C,S),r&&ua.ra.cb(ca));D&&ua.lb.cb(B)},Si:function(){u.bb(a.Ha,a.Rm,a.Fo);u.cb(a.dm,a.Sm,a.Go);u.hj(a.Ic);u.h(a.pg);u.ej(a.zk,a.pa)},hj:function(B){a.Ic=B;u.zb([{type:"1f",name:"u70",value:B}]);aa.W()&&(v&&ua.ja.kg(B),r&&ua.ra.kg(B))},ej:function(B,C){a.zk=
B;a.pa=C;u.zb([{type:"1f",name:"u135",value:B},{type:"1f",name:"u136",value:C}])},Tn:function(B){p=B;0===d&&u.zb([{type:"1f",name:"u139",value:p[0]},{type:"1f",name:"u140",value:p[1]}])},ab:function(B){function C(){D&&ua.lb.toggle(!1);k&&E.f("s81",[{type:"1f",name:"u97",value:0}])}0>=B?(n=0,0!==d&&(d=0,Jb.vn(),D&&ua.lb.toggle(!0),k&&E.f("s81",[{type:"1f",name:"u97",value:1}]))):1<=B?(n=1,1!==d&&(d=1,Jb.rj(!0)),C()):(n=B,2!==d&&(Jb.rj(!1),d=2,C()));E.f("s83",[{type:"1f",name:"u109",value:1-B}]);P[0].value=
n;P[1].value=p[0]*(1-B)+-300*B;P[2].value=p[1]*(1-B)+-300*B;P[3].value=m*(1-B)+B*t;P[4].value=g*(1-B);P[5].value=1-B+B*q;z&&ua.ja.lg(n,P);r&&ua.ra.lg(n,P);u.zb(P)},sl:function(B){ia.a(1);B.forEach(function(C){C.ml()});D&&H.S()},Dm:function(){return 1===d},Ae:function(B){ia.Jb(B)},Zj:function(B){b.push(B)},ug:function(B){z=B&&v},tg:function(B){e=B&&h},hg:function(B){r&&aa.W()&&ua.ra.eo(B)},Ab:function(B){aa.W()&&(v&&ua.ja.Ab(B),r&&ua.ra.Ab(B))},pl:function(B,C){if(!F)return!1;l.K();B.a(0);E.set("s74");
E.L("u8",0,O);W.g(!1,!1);y.i();l.a(0);E.L("u8",w,0);W.g(!1,!1);E.set("s75");C.K();y.a(0);W.g(!1,!1);return!0},qj:function(B){F=B&&I},resize:function(B,C,S){B*=S;C*=S;I&&(l.resize(B,C),y.resize(B,C),w=1/B,O=1/C)},fg:function(B,C){var S=B.I(),ca=B.V(),ja={width:S,height:ca,isPot:!1};v&&(J&&J.remove(),J=X.instance(ja));x=xa.instance({width:S,height:ca});h||r?(ua.mc.gg(S,ca),G&&G.remove(),G=X.instance(ja)):G=B;v&&ua.ja.gg(S,ca);C&&(ba&&ba.remove(),ba=X.instance(ja))},kl:function(B){var C=null;switch(d){case 0:C=
B;break;case 2:x.bind(!1,!0);ba.i();E.set("s65");E.C("u7",n);B.a(1);Q.a(0);W.g(!0,!0);C=ba;break;case 1:C=Q}if(!z||1===d||!aa.W())return C;C.Jb(0);e&&ua.mc.S(C,G);x.bind(!1,!e);r&&(e?C.a(0):(G.i(),E.set("s1"),W.g(!0,!0)),ua.ra.S());G.a(0);M.Jb(2);ua.ja.S();J.i();E.set("s1");e||r?G.a(0):C.a(0);W.g(!0,!T.$);ua.ja.add();return J},ql:function(B,C){if(!k)return!1;E.set("s81");E.C("u95",B*A);L.a(1);Ua.Ae(2);G?G.a(3):C.a(3);return!0},u:function(){f=!1;n=d=0;g=t=m=-1;q=1;p=null;D=!1;H=null;e=h=r=z=v=!1;ua.ja.u();
ua.kb.u()}};return u}(),ta=function(){function a(){g.forEach(function(C){C.tl(M)})}function b(){g.forEach(function(C){C.hd(M)})}function f(){g.forEach(function(C){C.rl(M)})}function d(){g.forEach(function(C){C.jd(M)})}function n(){M?Ua.sl(g):g.forEach(function(C){C.nl()})}function m(){x&&clearTimeout(x);x=setTimeout(function(){x=w=!1},16)}function t(C){C()}var g=[],q=[],p={da:!1,position:!1,vb:!1},D=[],H=[],v=null,z=0,r=null,h=null,e=null,I=null,F=!1,l=!1,y=!1,w=!1,O=!1,L=!1,A=null,k=null,x=null,
G=null,J=!1,M=!1,Q=!1,ba=!1,ia=!1,P=!1,u=!1,B={h:function(){c.enable(c.DEPTH_TEST);c.depthFunc(c.LEQUAL);c.clearDepth(1);T.Vk?(c.enable(c.CULL_FACE),c.frontFace("CCW"===T.Wk?c.CCW:c.CW),c.cullFace(c.BACK)):c.disable(c.CULL_FACE);B.gh();var C={isPot:!1,isLinear:!1,width:aa.sb(),height:aa.rb(),A:4,isFloat:!1};r=X.instance(C);C=Object.assign({},C,{isLinear:!0,width:aa.I(),height:aa.V()});h=X.instance(C);e=X.instance(C);T.Oa&&(C=Object.assign({},C,{isLinear:!1}),I=X.instance(C));L=za.aa();T.Oa||(v=$b.instance({Ib:T.Ib,
rc:T.rc,sc:T.sc,qc:T.qc}));F=!0},gh:function(){aa.W()?p=lc.instance({}):(p.da=Cb.instance({ec:T.Oa?!1:"s93",isFloat:!1,Tb:!0,clearColor:[0,0,0,0],A:4}),p.position=Cb.instance({ec:T.Oa?!1:"s103",isFloat:!0,Tb:!0,clearColor:[0,0,0,0],A:4}),p.vb=Cb.instance({ec:!1,isFloat:!0,Tb:!0,clearColor:[0,0,0,0],A:4}),p.Ec=Cb.instance({ec:!1,isFloat:!1,Tb:!0,clearColor:[0,0,0,0],A:4}))},Ol:function(){return v},sa:function(C){v=C},sq:function(){},Ab:function(C){Ua.Ab(C)},Zi:function(C){Ua.h(C,D);aa.W()||(p.da.ij(!1),
p.position.ij("s96"));M=ba=!0},cq:function(){Ua.Si()},Yo:function(C){Ua.Zj(C)},In:function(C,S,ca){Ua.bb(C,S,ca)},Jn:function(C,S,ca){Ua.cb(C,S,ca)},Gn:function(C,S){Ua.ej(C,S)},Hn:function(C){Ua.Tn(C)},Kn:function(C){Ua.hj(C)},ab:function(C){Ua.ab(C)},$i:function(C,S,ca,ja){Ua.$n(C,S,ca,ja);S&&B.fg(S,ja?!0:!1);Q=!0},ug:function(C){Ua.ug(C)},hg:function(C){Ua.hg(C)},tg:function(C){Ua.tg(C)},qj:function(C){Ua.qj(C)},Zo:function(C){J&&(ia=!0,P=X.instance({width:G.I(),height:G.V(),isPot:!1}),u=C)},fg:function(C,
S){"string"===typeof C?G=X.instance({url:C,isFloat:!1}):G=C;M&&Ua.fg(G,S);J=!0},Yj:function(C){g.push(C);0!==D.length&&(D.forEach(function(S){S(C)}),D.splice(0,D.length))},sn:function(C){C=g.indexOf(C);-1!==C&&g.splice(C,1)},$o:function(C){q.push(C)},$p:function(C){C=q.indexOf(C);-1!==C&&q.splice(C,1)},$d:function(C){M&&(l=C)},animate:function(C){!T.Oa||M&&Q?l&&(w||z>T.Tm&&O?(A&&clearTimeout(A),++z,window.cancelAnimationFrame(B.animate),A=setTimeout(function(){window.requestAnimationFrame(B.animate)},
16)):(B.Ni(C),++z,M||l&&window.requestAnimationFrame(B.animate))):setTimeout(B.animate,100)},bp:function(C){H.push(C)},Ni:function(C){if((!T.Oa||M&&Q)&&F){H.forEach(t);if(aa.W()){if(!p.set()&&!aa.ha()){aa.uo();B.gh();Cb.Xc();E.Vn();T.Oa&&Ua.Si();c.flush();window.requestAnimationFrame(B.animate);return}M||qc.un();n();p.F();L&&c.depthMask(!1)}else M&&Ua.Ae(1),p.da.set(!0,!0,!0),b(),p.da.F(),L&&c.depthMask(!1),p.Ec.set(!1,!L,!1),f(),p.Ec.F(),p.position.set(!0,!L,!1),mb.S(),a(),p.position.F(),p.vb.set(!1,
!L,!1),d(),p.vb.F();c.disable(c.DEPTH_TEST);L||c.depthMask(!1);T.$&&wb.S();var S=B.zh();null!==S&&(S.a(7),E.set(T.$?"s82":"s83"),E.L("u8",1/aa.sb(),1/aa.rb()),Cb.Ak(),r.K(),T.jn?(c.enable(c.BLEND),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA)):c.disable(c.BLEND),M||mb.We(),p.position.a(0),p.vb.a(1),p.da.a(2),v.$c(3),p.Ec.a(6),v.ad(4),v.kh(),T.$&&wb.a(5),W.g(!0,!0),xa.fa(),Ua.pl(r,h)||(E.set("s1"),h.K(),r.a(0),W.g(!1,!1)),E.set("s71"),e.K(),h.a(0),W.g(!1,
!1),h.i(),e.a(0),ba&&M?(E.set("s70"),I.a(1),Ua.Ae(2),W.g(!1,!1),E.set("s1"),I.K(),h.a(0),W.g(!1,!1)):(E.set("s69"),W.g(!1,!1),h.a(0)),xa.X(),c.viewport(0,0,aa.I(),aa.V()),M&&Ua.ql(C,S)||E.set("s1"),W.g(!1,!1),c.enable(c.DEPTH_TEST),c.depthMask(!0),c.flush())}},zh:function(){if(!J)return X.Jh();if(!M)return G;if(ia&&!Ua.Dm()){E.set(u);xa.fa();P.Nc();P.i();G.a(0);var C=P;W.g(!0,!0)}else C=G;return Ua.kl(C)},mo:function(){T.al||l||(l=!0,B.animate(Date.now()),y||mc.no(),y||Jb.lc(!1),k&&clearTimeout(k),
T.$&&wb.Sd(),k=setTimeout(B.Aa,T.wk),y||aa.gm(),y=!0)},qq:function(){l&&(O=l=!1,cancelAnimationFrame(B.animate))},Aa:function(){O||!y||w||T.ih||(O=w=!0,k&&clearTimeout(k),x&&clearTimeout(x),mb.bf().Pi(),k=setTimeout(function(){aa.Hg(T.Ym);T.$&&wb.Dj();z=0;m()},24))},wake:function(){O&&y&&!w&&(w=!0,O=!1,z=0,mb.bf().Pi(),k&&clearTimeout(k),x&&clearTimeout(x),k=setTimeout(function(){aa.Hg(1);T.$&&wb.Sd();m()},16))},Lp:function(){},qp:function(){},Zd:function(C){ba=C},wq:function(){E.f("s83",[{type:"1f",
name:"u112",value:T.$b},{type:"1f",name:"u113",value:T.Od}])},resize:function(C,S,ca){r.resize(C*ca,S*ca);h.resize(C,S);e.resize(C,S);T.Oa&&I.resize(C,S);Ua.resize(C,S,ca);C=[{type:"2f",name:"u8",value:[1/C,1/S]}];E.f("s71",C);E.f("s69",C)},H:function(){A&&clearTimeout(A);k&&clearTimeout(k);x&&clearTimeout(x);g.concat(q).forEach(function(C){C.H()});g.splice(0,g.length);q.splice(0,q.length);p.da.remove();p.vb.remove();p.Ec.remove();p.position.remove();r.remove();h.remove();e.remove();I&&I.remove();
w=!0},u:function(){B.H();L=O=w=y=l=M=Q=w=!1}};return B}(),ua={},aa=function(){function a(){Cb.resize(f*q,d*q);r.W()&&lc.resize(f*q,d*q);ta.resize(f,d,q);T.$&&wb.resize(f*q,d*q,q);r.Fg()}var b=null,f=0,d=0,n=-1,m=!1,t={be:!1,xg:!1,Aj:!1,qg:!1,drawBuffers:!1,wm:!1,ai:!1,ym:!1,Ac:!1,Ya:!1},g=Object.assign({},t),q=1,p=!1,D=!1,H=!1,v=!1,z=!1,r={h:function(h){void 0!==h.onload&&h.onload&&(D=h.onload);void 0===h.expand&&(h.expand=!1);void 0===h.Ad&&(h.Ad=!1);void 0===h.qa&&(h.qa=!1);void 0===h.Rb&&(h.Rb=
!1);void 0===h.alpha&&(h.alpha=!1);void 0===h.preserveDrawingBuffer&&(h.preserveDrawingBuffer=!1);h.Ad&&(m=!0);h.qa?b=h.qa:b=document.getElementById(h.Pk);h.expand&&r.expand();try{window.Da=h.Rb?h.Rb.Al():b.getContext("webgl",{antialias:!1,alpha:h.alpha,depth:!0,premultipliedAlpha:!1,stencil:!1,preserveDrawingBuffer:h.preserveDrawingBuffer});v=h.Rb?h.Rb.ha():!1;H=!v;8>c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS)&&r.ed("too few texture image units");if(!za.h())return r.ed("invalid config");T.Co&&(g.xg=
c.getExtension("EXT_texture_filter_anisotropic"),g.xg&&(g.ai=!0));T.Do&&(g.be=c.getExtension("WEBGL_compressed_texture_s3tc"),g.be&&void 0!==g.be.COMPRESSED_RGBA_S3TC_DXT5_EXT&&g.be.COMPRESSED_RGBA_S3TC_DXT5_EXT&&(g.wm=!0));H&&(g.Aj=c.getExtension("OES_element_index_uint")||c.getExtension("MOZ_OES_element_index_uint")||c.getExtension("WEBKIT_OES_element_index_uint"),g.Aj&&(g.ym=!0));!v&&T.Eo&&(g.qg=c.getExtension("EXT_sRGB"),g.qg&&(g.Ac=!0));H?(g.drawBuffers=c.getExtension("WEBGL_draw_buffers"),g.drawBuffers&&
!T.hh&&(g.Ya=!0)):g.Ya=4<=c.getParameter(c.MAX_DRAW_BUFFERS);if(g.Ya){var e=r.dl();g.Ya=g.Ya&&e}}catch(I){return r.ed(I)}if(null===c||!c)return r.ed("NO_GL");h.expand&&window.addEventListener("resize",r.expand,!1);b.addEventListener("contextmenu",function(I){I.preventDefault();return!1},!1);f=b.width;d=b.height;r.vf();return!0},vf:function(){n=m?3:2;za.aa()||(n=Math.min(n,1));za.Lk()||(n=Math.min(n,0));vc.h();Cb.h();for(var h in ua)ua[h].Hc();E.h();mb.h();Jb.h();ta.h();mc.h();T.$&&wb.h();"undefined"!==
typeof FPSCounter&&FPSCounter.h();r.Fg();r.fl();p=!0;D&&D();return!0},fl:function(){if(g.Ya){var h=lc.instance({width:256,height:1});h.bind();c.viewport(0,0,256,1);E.set("s91");E.za("color",[1,0,0,1]);W.g(!0,!0);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT||c.DEPTH_BUFFER_BIT);xa.X();E.set("s1");h.vb.a(0);W.g(!1,!1);h=new Uint8Array(1024);c.readPixels(0,0,256,1,c.RGBA,c.UNSIGNED_BYTE,h);z=1>=h[1020]}},dl:function(){var h=lc.instance({width:1,height:1});if(!h.set())return h.remove(),!1;E.Yn(c);
W.Ob(c);c.bindFramebuffer(c.FRAMEBUFFER,null);E.yb(c);h.da.Jb(0);W.Ob(c);var e=new Uint8Array(4);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,e);h.remove();return 3<Math.abs(e[0]-127)?!1:!0},ha:function(){return v},I:function(){return f},V:function(){return d},sb:function(){return q*r.I()},rb:function(){return q*r.V()},Cl:function(){return f/d},P:function(){return n},Bm:function(){return 3===n},di:function(){return z},W:function(){return g.Ya},uo:function(){g.Ya=!1},Rp:function(){return!1},Nk:function(){return 0<
r.P()},ip:function(){return r.W()&&0<r.P()},af:function(h){var e=c,I="";v||(e=g.drawBuffers,I="_WEBGL");return[e["COLOR_ATTACHMENT0"+I],e["COLOR_ATTACHMENT1"+I],e["COLOR_ATTACHMENT2"+I],e["COLOR_ATTACHMENT3"+I]].splice(0,h)},sd:function(h){return r.af(4)[h]},$l:function(){return v?c.SRGB?c.SRGB:c.RGBA:g.Ac?g.qg.SRGB_ALPHA_EXT:c.RGBA},zm:function(){return g.ai},Hl:function(){return g.xg},Nm:function(h){r.ha()?c.drawBuffers(r.af(h)):g.drawBuffers.drawBuffersWEBGL(r.af(h))},expand:function(){ta.wake();
r.resize(window.innerWidth,window.innerHeight);ta.Aa()},resize:function(h,e){!b||h===f&&e===d||(f=h,d=e,b.width=f,b.height=d,p&&(mb.resize(),a()))},Fg:function(){var h=[{type:"2f",name:"u8",value:[1/aa.sb(),1/aa.rb()]}];E.f("s71",h);E.f("s69",h)},Hg:function(h){q=h;a()},Ka:function(h,e){b.addEventListener(h,e,!1)},ed:function(){n=-1;return!1},ah:function(){return 0<=n},Up:function(){},eq:function(){},pq:function(){var h=document.getElementById("loading");h&&(h.style.display="block")},gm:function(){var h=
document.getElementById("loading");h&&(h.style.display="none")},H:function(){r.ah()&&(X.Bj(),ta.H(),W.H(),Cb.H(),T.$&&wb.H(),$b.H(),mc.H(),E.H(),X.H(),c.flush(),c=null)},u:function(){ta.u();Ua.u();E.u();Object.assign(g,t);p=!1}};return r}(),mb=function(){var a=!1,b=!1,f=[];return{h:function(){},instance:function(d){void 0===d.Qi&&(d.Qi=!0);void 0===d.qe&&(d.qe=.1);void 0===d.pe&&(d.pe=100);void 0===d.direction&&(d.direction=[0,0,-1]);void 0===d.Pb&&(d.Pb=45);var n=new Rb,m=new Sa(50,-50,-400),t=null;
n.setPosition(m);var g=new Int8Array(20),q=new Int8Array(20),p=0,D=0,H=0,v=0,z={S:function(){q[E.td()]||(E.Lc("u114",n.elements),q[E.td()]=1);g[E.td()]||(E.Lc("u126",t),g[E.td()]=1)},Ve:function(){D||(E.Lc("u114",n.elements),D=1);p||(E.L("u115",t[0],t[5]),p=1)},We:function(){H||(E.mg("u104",m.x,m.y,m.z),H=1)},Lb:function(){v||(E.mg("u144",m.x,m.y,m.z),v=1)},dh:function(){var r=d.qe,h=d.pe,e=Math.tan(.5*d.Pb*Math.PI/180);t=[.5/e,0,0,0,0,.5*aa.Cl()/e,0,0,0,0,-(h+r)/(h-r),-1,0,0,-2*h*r/(h-r),0];for(r=
0;20>r;++r)g[r]=0;p=0},Un:function(r,h){m.Xi(h[0]).Yi(h[1]).z=h[2];n.elements.set(r);for(r=0;20>r;++r)q[r]=0;v=H=D=0},Pi:function(){for(var r=v=H=0;20>r;++r)q[r]=0}};z.dh();a=z;b=!0;d.Qi&&f.push(z);return z},S:function(){b&&a.S()},Ve:function(){b&&a.Ve()},We:function(){b&&a.We()},Lb:function(){b&&a.Lb()},resize:function(){f.forEach(function(d){d.dh()})},bf:function(){return a}}}(),Cb=function(){var a=[],b=null;return{h:function(){b=xa.instance({width:aa.sb(),height:aa.rb(),yc:!aa.W()})},instance:function(f){void 0===
f.width&&(f.width=aa.sb());void 0===f.height&&(f.height=aa.rb());void 0===f.isFloat&&(f.isFloat=!1);void 0===f.Tb&&(f.Tb=!1);void 0===f.clearColor&&(f.clearColor=[0,0,0,0]);void 0===f.A&&(f.A=4);var d=X.instance({isFloat:f.isFloat&&za.aa(),O:f.isFloat,width:f.width,height:f.height,isPot:!1,isLinear:!1,A:f.A}),n=void 0!==f.ec&&f.ec?!0:!1,m=f.ec,t={set:function(g,q,p){p&&b.bind(!1,p);d.i();g&&(c.clearColor(f.clearColor[0],f.clearColor[1],f.clearColor[2],f.clearColor[3]),b.Ge());q&&b.bh();n&&E.set(m)},
ij:function(g){n=(m=g)?!0:!1},F:function(){d.ee()},a:function(g){d.a(g)},resize:function(g,q){d.resize(g,q)},debug:function(){d.debug()},remove:function(){d.remove()}};f.Tb&&a.push(t);return t},resize:function(f,d){b.resize(f,d);a.forEach(function(n){n.resize(f,d)})},Ak:function(){b.Vg()},Xc:function(){b.Xc()},Nc:function(){b.Nc()},lp:function(){b.bh()},kp:function(){b.Ge()},jp:function(){b.clear()},H:function(){b.remove()}}}(),lc=function(){var a=[];return{instance:function(b){void 0===b.width&&
(b.width=aa.sb());void 0===b.height&&(b.height=aa.rb());var f=c.createFramebuffer(),d=b.width,n=b.height,m=!0;b={isFloat:za.aa(),O:!0,width:d,height:n,isPot:!1,isLinear:!1,A:4};var t=X.instance(b),g=X.instance(b),q=X.instance(b),p=X.instance(b),D=xa.Il(),H=xa.Eh();c.bindFramebuffer(D,f);var v=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,v);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,d,n);c.framebufferRenderbuffer(D,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,v);c.clearDepth(1);c.framebufferTexture2D(D,
aa.sd(0),c.TEXTURE_2D,t.get(),0);c.framebufferTexture2D(D,aa.sd(1),c.TEXTURE_2D,g.get(),0);c.framebufferTexture2D(D,aa.sd(2),c.TEXTURE_2D,p.get(),0);c.framebufferTexture2D(D,aa.sd(3),c.TEXTURE_2D,q.get(),0);aa.Nm(4);c.bindFramebuffer(D,null);xa.reset();var z={position:t,vb:g,Ec:q,da:p,bind:function(){c.bindFramebuffer(D,f);xa.reset()},set:function(){c.checkFramebufferStatus(H);c.bindFramebuffer(D,f);xa.reset();if(m){if(c.checkFramebufferStatus(H)!==c.FRAMEBUFFER_COMPLETE)return!1;m=!1}c.viewport(0,
0,d,n);c.clearColor(0,0,0,0);E.Xb()&&!aa.di()&&(E.set("s90"),W.g(!1,!1));c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);return!0},F:function(){},resize:function(r,h){d=r;n=h;t.resize(r,h);g.resize(r,h);p.resize(r,h);q.resize(r,h);c.bindRenderbuffer(c.RENDERBUFFER,v);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,d,n);c.bindRenderbuffer(c.RENDERBUFFER,null)},remove:function(){t.remove();g.remove();p.remove();q.remove();c.deleteRenderbuffer(v);c.deleteFramebuffer(f);var r=a.indexOf(z);-1!==
r&&a.splice(r,1)}};a.push(z);return z},resize:function(b,f){a.forEach(function(d){d.resize(b,f)})}}}(),$b=function(){var a=[],b=T.Ug;return{instance:function(f){function d(){q?n():(e=kd.instance({ia:H,vm:b}),g=T.xk[aa.P()],v=X.instance({isFloat:za.aa(),O:!0,isPot:!0,isLinear:!1,ub:!0,width:g,height:g/2,A:3}),z=X.instance({isFloat:za.aa(),O:!0,isPot:!0,isLinear:!1,ub:!0,width:g,height:g/2,A:3}),r=X.instance({isFloat:za.aa(),O:!0,isPot:!0,width:1,height:g/2,A:3}),h=X.instance({isFloat:za.aa()&&!b,O:!b,
isPot:!1,isLinear:!0,ub:!0,isMipmap:!1,width:g,height:g/2,A:b?4:3}),q=!0,n(),F.forEach(function(l){l()}),F.splice(0,F.length))}function n(){if(q){xa.fa();e.qn();v.K();E.set("s73");H.a(0);E.C("u82",T.$b);X.Fk(1);W.g(!0,!0);for(var l=T.mm[aa.P()],y=0;y<l;++y)z.i(),E.set("s76"),E.L("u8",1/g,0),v.a(0),W.g(!1,!1),v.i(),E.L("u8",0,2/g),z.a(0),W.g(!1,!1);r.K();E.set("s78");v.a(0);W.g(!1,!1);E.set(b?"s80":"s79");h.K();v.a(0);r.a(1);W.g(!1,!1);X.X(0);X.X(1)}}var m=Object.assign({Ib:null,rc:null,qc:0,sc:0},
f),t=0,g=0,q=!1,p=null,D=null,H=null,v=null,z=null,r=null,h=null,e=null,I=0,F=[];f={h:function(){function l(){2===++y&&(H=X.instance({isFloat:za.aa(),O:!0,isPot:!1,isMipmap:!1,isLinear:!1,ub:!0,width:t,height:t/2,A:3}),xa.fa(),H.K(),E.set("s72"),E.C("u87",m.sc),E.C("u88",m.qc),p.a(0),D.a(1),W.g(!0,!0),d())}var y=0;t=T.yk[aa.P()];I=Math.log2(t)-1;m.Ib&&(p=X.instance({isPot:!1,url:m.Ib,N:l,A:3,isFlipY:!1}),D=X.instance({isPot:!1,url:m.rc,N:l,A:3,isFlipY:!1}))},fj:function(l){H=l;d()},$c:function(l){q&&
(e.a(l),E.C("u105",e.I()))},ad:function(l){q&&h.a(l)},kh:function(){E.C("u22",I)},Ah:function(){return I},I:function(){return t},Kb:function(l){q?l():F.push(l)},H:function(){p&&p.remove();D&&D.remove();v.remove();r.remove();z.remove();e.remove();h.remove();H.remove()}};a.push(f);f.h();return f},H:function(){a.forEach(function(f){f.H()})}}}(),Uc={instance:function(a){var b=a.Hm,f=a.Fm,d=0,n=b.I();a=T.Ug;var m=X.instance({isFloat:za.aa()&&!a,O:!a,isLinear:!0,isMipmap:!1,isPot:!1,width:n,A:a?4:3,isFlipY:!1}),
t=X.instance({isFloat:za.aa()&&!a,O:!a,isPot:!1,isLinear:!0,ub:!0,isMipmap:!1,width:n,height:n/2,A:a?4:3}),g=xa.instance({width:n,height:n}),q=a?"s66":"s65";return{Zn:function(p){d=p;E.set(q);c.viewport(0,0,n,n);g.i();m.i();E.C("u7",d);b.$c(1);f.$c(0);W.g(!0,!0);c.viewport(0,0,n,n/2);t.i();b.ad(1);f.ad(0);W.g(!1,!1);c.flush()},$c:function(p){m.a(p)},ad:function(p){t.a(p)},kh:function(){E.C("u22",b.Ah()*(1-d)+f.Ah()*d)}}}},Jb=function(){function a(G){var J=(w-T.Ee)/(T.Yg-T.Ee);J=1-Math.pow(1-J,T.Vo);
w+=G*(1+J*T.Wo);w=Math.min(Math.max(w,T.Ee),T.Yg);x.lc()}function b(G){-1!==g&&(I=e=0,t(),a(T.Uo*G.deltaY/window.innerHeight),G.preventDefault())}function f(){l+=e;y+=I;y=Math.min(Math.max(y,T.bn),T.an);x.lc()}function d(G){if(0===g||-1===g)return!1;var J=void 0!==G.touches&&G.touches.length;G.preventDefault();if(2===g){var M=Jc(G.touches[0].pageX,G.touches[0].pageY,G.touches[1].pageX,G.touches[1].pageY);a(-(r-M)*T.cn);r=M}else M=J?G.touches[0].clientX:G.clientX,G=J?G.touches[0].clientY:G.clientY,
e=2*(M-v)*Math.PI/aa.I(),I=2*(G-z)*Math.PI/aa.V(),4===g?(k[0]+=e*T.Bi,k[1]-=I*T.Bi,k[0]=Math.min(Math.max(k[0],-T.Ei),T.Ei),k[1]=Math.min(Math.max(k[1],-T.Fi),T.Fi),x.lc()):f(),v=M,z=G}function n(){0!==g&&-1!==g&&(0===e&&0===I||1!==g||!L?ta.Aa():(t(),h=Date.now(),O=setInterval(x.Em,F)),g=0)}function m(G){if(2!==g&&-1!==g){I=e=0;t();ta.wake();var J=void 0!==G.changedTouches&&G.touches.length;G.preventDefault();J&&2===G.touches.length?(g=2,r=Jc(G.touches[0].pageX,G.touches[0].pageY,G.touches[1].pageX,
G.touches[1].pageY)):(g=J||2!==G.button?1:4,v=J?G.touches[0].clientX:G.clientX,z=J?G.touches[0].clientY:G.clientY);return!1}}function t(){O&&(clearInterval(O),O=!1)}var g=0,q=!1,p=!1,D=!1,H=1,v=0,z=0,r=0,h=0,e=0,I=0,F=16,l=T.vj,y=T.Di,w=T.De,O=!1,L=0,A=new Float32Array([0,0,0,0,0]),k=[T.Jk,T.Kk],x={h:function(){L=T.ak[aa.P()];F=T.kd[aa.P()];aa.Ka("mousedown",m);aa.Ka("mouseup",n);aa.Ka("mouseout",n);aa.Ka("mousemove",d);aa.Ka("mousemove",d);aa.Ka("wheel",b);aa.Ka("touchstart",m);aa.Ka("touchend",
n);aa.Ka("touchmove",d)},lc:function(G){q?(p[0]=-y,p[1]=l,D[1].value=H/T.De*w,Ua.zb(D)):(A[0]=l,A[1]=y,A[2]=w,A[3]=k[0],A[4]=k[1],mc.Dn(A,G))},Em:function(){if(1E-4>e&&1E-4>I||-1===g)t(),I=e=0,0===g&&ta.Aa();var G=Date.now(),J=G-h;h=G;G=Math.pow(L,J/F);e*=G;I*=G;f()},Xe:function(G){q||(q=!0,g=-1,p=[0,0,0],D=[{name:"u73",type:"3f",value:p},{name:"u77",type:"1f",value:1}],H=G)},rj:function(G){-1===g&&G&&(g=0);G||(g=-1)},vn:function(){I=e=0;l=T.vj;y=T.Di;w=T.De;x.lc()},iq:function(G){w=G},jq:function(G){k[0]=
G[0];k[1]=G[1];T.Zg=G[2]},hq:function(G,J){l=G;y=J}};return x}(),qc=function(){var a={s92:!1,s92color:!1,s92NormalMap:!1,s92ParamsMap:!1,s92NormalParamsMap:!1};return{instance:function(b){function f(u){if(P){u.tweaker&&window.JEELIZVTO&&"undefined"!==typeof R&&R.Tg(u.tweaker);A.splice(0,A.length);A.push({n:0,offset:0});w.min.set(Infinity,Infinity,Infinity);w.max.set(-Infinity,-Infinity,-Infinity);var B=u.uvs;B&&(B=B.filter(function(ea){return ea}));ba=B&&0<B.length&&0<B[0].length?!0:!1;"undefined"!==
typeof yb&&"string"===typeof u.faces&&(u.faces=yb(u.faces));"undefined"!==typeof Fb&&("string"===typeof u.vertices&&(u.vertices=Fb(u.vertices)),B&&B.length&&B.forEach(function(ea,ya){"string"===typeof ea&&(B[ya]=Fb(ea))}));var C=u.metadata.faces,S=1+(ba?1:0);C=(u.faces.length-C)/(u.metadata.faces*S);6!==C&&8!==C||ba||(++S,C/=2);if(4===C){C=6*S+2;for(var ca=4*S+1,ja=Array(u.metadata.faces*C),pa=0;pa<u.metadata.faces;++pa)for(var ra=0;ra<S;++ra)ja[pa*C+4*ra]=u.faces[pa*ca+5*ra],ja[pa*C+4*ra+1]=u.faces[pa*
ca+5*ra+1],ja[pa*C+4*ra+2]=u.faces[pa*ca+5*ra+2],0===ra&&(ja[pa*C+3]=u.faces[pa*ca+4]),ja[pa*C+4*ra+3*S+1]=u.faces[pa*ca+5*ra],ja[pa*C+4*ra+3*S+2]=u.faces[pa*ca+5*ra+2],ja[pa*C+4*ra+3*S+3]=u.faces[pa*ca+5*ra+3],0===ra&&(ja[pa*C+3*S+4]=u.faces[pa*ca+4]);u.faces=ja;u.metadata.faces*=2}v=Array(u.metadata.vertices);for(C=0;C<u.metadata.vertices;++C)v[C]=new Sa(u.vertices[3*C],u.vertices[3*C+1],u.vertices[3*C+2]),Xc(w,v[C]);z=Array(u.metadata.faces);S=3*S+1;for(C=0;C<u.metadata.faces;++C)z[C]=new sc(u.faces[S*
C],u.faces[S*C+1],u.faces[S*C+2]),z[C].Zb=u.faces[S*C+3];x=3<v.length;P&&(P.visible=x);Zc(v,z);r=$c(v,z);if(ba){S=Array(v.length);C=["a","b","c"];for(ca=0;ca<u.metadata.faces;++ca)for(ja=0;3>ja;++ja)if(pa=u.faces[7*ca+ja],ra=u.faces[7*ca+1+ja+3],"undefined"===typeof S[pa])S[pa]=[[pa,ra]];else if(S[pa][0][1]!==ra){for(var Qa=-1,Ma=1;Ma<S[pa].length;++Ma)if(S[pa][Ma][1]===ra){Qa=S[pa][Ma][0];break}Ma=-1;-1===Qa?(Ma=v.length,v.push(v[pa].clone()),r.push(r[pa].clone()),S[pa].push([Ma,ra]),S[Ma]=[[Ma,
ra]]):Ma=Qa;u.faces[7*ca+ja]=Ma;z[ca][C[ja]]=Ma}h=Array(v.length);for(u=0;u<v.length;++u)C="undefined"===typeof S[u]?u:S[u][0][1],h[u]=new Qb(B[0][2*C],B[0][2*C+1])}var Oa=jc(w);b.Gb&&(v.forEach(function(ea){ea.x-=Oa.x;ea.z-=Oa.z;ea.y-=w.min.y}),w.min.x-=Oa.x,w.max.x-=Oa.x,w.min.z-=Oa.z,w.max.z-=Oa.z,w.max.y-=w.min.y,w.min.y=0);if(b.Hb){var la=T.vk/Math.max(w.max.x-w.min.x,w.max.y-w.min.y,w.max.z-w.min.z);v.forEach(function(ea){ea.Fa(la)});w.min.Fa(la);w.max.Fa(la)}u=ba?8:6;S=new Float32Array(v.length*
u);for(C=0;C<v.length;++C)S[u*C]=v[C].x,S[u*C+1]=v[C].y,S[u*C+2]=v[C].z,S[u*C+3]=r[C].x,S[u*C+4]=r[C].y,S[u*C+5]=r[C].z,ba&&(S[u*C+6]=h[C].x,S[u*C+7]=h[C].y);z.sort(function(ea,ya){return ea.Zb-ya.Zb});var ha=new (65536>3*z.length?Uint16Array:Uint32Array)(3*z.length),V=0;z.forEach(function(ea,ya){ea.Zb===V?A[V].n+=3:(A.push({n:3,offset:3*ya}),++V);ha[3*ya]=ea.Ba;ha[3*ya+1]=ea.J;ha[3*ya+2]=ea.Ca});e&&e.remove();e=W.instance({ea:S,R:ha});l=F=!1;Q&&P.eh();G=!0;P.Ue();b.N&&(b.N(P),b.N=null)}}function d(u){e.La(u.n,
u.offset)}function n(u,B){M[B]&&(E.set(M[B].Vl()),e.bind(!1),ba?(E.Ra(),E.cj()):(E.$a(),E.dj()),M[B].Bc()&&(E.Kc(),F.tc(!1),E.Rd(),mb.Lb()),M[B].il(),M[B].jd(),e.La(u.n,u.offset))}function m(u,B){M[B]&&(E.set(M[B].Wl()),e.bind(!1),ba?(E.Ra(),E.cj()):(E.$a(),E.dj()),M[B].Bc()&&(E.Kc(),F.tc(!1),E.Rd(),mb.Lb()),P.vc(),M[B].jd(),e.La(u.n,u.offset))}function t(u,B){ia&&M[B]&&(M[B].jl(),e.La(u.n,u.offset))}function g(u,B){ia&&M[B]&&(M[B].ll(ba),e.La(u.n,u.offset))}function q(u,B){M[B]&&(E.set(M[B].Rl()),
M[B].ph(),e.La(u.n,u.offset))}function p(u,B){M[B]&&(E.set(M[B].Sl()),P.vc(),M[B].ph(),e.La(u.n,u.offset))}function D(u,B){M[B]&&(E.set(M[B].Tl()),M[B].Bc()&&(F.tc(!1),E.Rd(),mb.Lb()),e.bind(!1),M[B].mh(ba),e.La(u.n,u.offset))}function H(u,B){if(M[B]){var C=M[B].Ul();E.set(C);M[B].Bc()&&(F.tc(!1),E.Rd(),mb.Lb(),e.bind(!1));a[C]||(P.vc(),e.bind(!1),a[C]=!0);M[B].mh(ba);e.La(u.n,u.offset)}}if(!aa.ah())return!1;void 0===b.Gb&&(b.Gb=!1);void 0===b.Hb&&(b.Hb=!1);void 0===b.Xg&&(b.Xg=!1);var v=null,z=null,
r=null,h=null,e=null,I=null,F=null,l=!1,y=new Rb,w=new rc,O=[],L=null,A=[{n:0,offset:0}],k=[],x=!1,G=!1,J=[],M=[],Q=!1,ba=!1,ia=!1,P={visible:x,Tk:function(){return A.length},eh:function(){!l&&ba&&(z=z.filter(function(u){return null!==u}),I=ad(v,r,h,z),F=W.instance({ea:I,R:!1}),h=r=z=v=I=null,l=!0)},vc:function(){mb.S();P.oh()},oh:function(){E.Lc("u127",y.elements)},rp:function(){x&&(P.oh(),e.bind(!1),ba?E.Ra():E.$a(),e.S())},tl:function(u){x&&(u||P.vc(),e.bind(!1),ba?E.Ra():E.$a(),e.S())},ul:function(){x&&
(e.bind(!1),ba?E.Ra():E.$a(),A.forEach(t))},lh:function(){x&&(e.bind(!1),ba?E.Ra():E.$a(),k.forEach(d))},rl:function(u){ia&&x&&(e.bind(!1),ba?E.Ra():E.$a(),u?A.forEach(q):A.forEach(p))},hd:function(u){x&&(u||P.vc(),e.bind(!1),u||(E.Ra(),E.Kc()),ia&&A.forEach(g))},jd:function(u){ia&&x&&(u?A.forEach(n):A.forEach(m))},nl:function(){ia&&x&&A.forEach(H)},ml:function(){ia&&x&&A.forEach(D)},Ih:function(){return L},Gh:function(){return J},Ao:function(u,B){M[u].update(B);P.Fj()},ig:function(u,B){function C(ja,
pa){ja&&(ja.N=function(){P&&++ca===S&&(ia=!0,Q&&P.Kb(P.eh,5),P.Ue(),B&&P.Kb(function(){B(P)},10))},ja=vc.instance(ja),M[pa]&&M[pa].H(),M[pa]=ja,Q=Q||ja.Bc())}J=u;ia=!1;var S=u.length,ca=0;M=Array(S);Q=!1;u.forEach(function(ja,pa){"string"===typeof ja?tc(-1===ja.indexOf(".json")?ja+".json":ja,function(ra){ra.name=ja;C(ra,pa,ja)}):C(ja,pa,!1)});P.Kb(function(){P.Fj();ta.Ab(P);ta.$d(!0)},4)},Fj:function(){k.splice(0,k.length);A.forEach(function(u,B){M[B]&&M[B].Cm()&&k.push(u)})},Kb:function(u,B){G&&
ia?u(P):O.push({pb:u,order:B?B:0})},Ue:function(){G&&ia&&(O.sort(function(u,B){return 0>u.order-B.order?1:-1}),O.forEach(function(u){u.pb(P)}),O.splice(0,O.length))},remove:function(){P.H();P=null},H:function(){x=G=!1;e&&e.remove();M.forEach(function(u){u.H()});l&&F.remove()},Yl:function(){return w.size().x},Zl:function(){return w.size().y},Jp:function(){return w.size().z},El:function(){return jc(w).x},Fl:function(){return jc(w).y},yp:function(){return jc(w).z},Fp:function(){return w.min.y},replace:function(u,
B,C){if(u===L)return B&&P&&(P.Ue(),B(P)),!1;L=u;ta.$d(!1);tc(u,function(S){f(S);B&&B(P)},C);return!0}};b.Fc&&P.ig(b.Fc,b.Xg);L=b.url;tc(b.url,f);return P},un:function(){a.s92=!1;a.s92color=!1;a.s92NormalMap=!1;a.s92ParamsMap=!1;a.s92NormalParamsMap=!1}}}(),mc=function(){var a=null,b=!1,f=!1,d=null,n=new Float32Array(16),m=new Float32Array(3),t={data:0},g={h:function(){T.Mb?a=new Worker("js/worker.php"):a={postMessage:function(q){t.data=q;wc.Wm(t)},terminate:function(){}};a.onmessage=function(q){switch(q.data[0]){case 3:for(var p=
0;16>p;++p)n[p]=q.data[p+1];for(p=0;3>p;++p)m[p]=q.data[p+17];mb.bf().Un(n,m);break;case 6:g.Pn(),b=!0,Jb.lc(!1),T.$&&(wb.enable(),wb.Sd())}};d=new Float32Array(6);d[0]=2;T.Mb||wc.Qn(a)},no:function(){T.jh||(f=!0)},rq:function(){f=!1},Dn:function(q,p){if(p||b&&f)d[1]=q[0],d[2]=q[1],d[3]=q[2],d[4]=q[3],d[5]=q[4],a.postMessage(d)},Pn:function(){a.postMessage([5,T.Zg])},H:function(){T.Mb&&a.terminate()}};return g}(),wc=function(){var a=0,b=0,f=0,d=[0,0],n=new Rb,m=new ac,t=new ac,g=new Sa,q=new Sa,p=
new Hb,D=0,H=new Float32Array(20);H[0]=3;var v=!1,z={data:!1},r={h:function(){"undefined"===typeof T&&(self.tb={Mb:!0});T.Mb&&r.Yf([6])},Wm:function(h){switch(h.data[0]){case 2:r.jg(h.data);break;case 5:D=h.data[1]}},Yf:function(h){T.Mb?postMessage(h):(z.data=h,v.onmessage(z))},jg:function(h){a=h[1];b=h[2];f=h[3];d[0]=h[4];d[1]=h[5];g.set(d[0],d[1],-f);p.set(b,a,0,"XYZ");if(!1===p instanceof Hb)throw Error("JETHREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
h=Math.cos(p.m/2);var e=Math.cos(p.o/2),I=Math.cos(p.s/2),F=Math.sin(p.m/2),l=Math.sin(p.o/2),y=Math.sin(p.s/2),w=p.order;"XYZ"===w?(m.m=F*e*I+h*l*y,m.o=h*l*I-F*e*y,m.s=h*e*y+F*l*I,m.G=h*e*I-F*l*y):"YXZ"===w?(m.m=F*e*I+h*l*y,m.o=h*l*I-F*e*y,m.s=h*e*y-F*l*I,m.G=h*e*I+F*l*y):"ZXY"===w?(m.m=F*e*I-h*l*y,m.o=h*l*I+F*e*y,m.s=h*e*y+F*l*I,m.G=h*e*I-F*l*y):"ZYX"===w?(m.m=F*e*I-h*l*y,m.o=h*l*I+F*e*y,m.s=h*e*y-F*l*I,m.G=h*e*I+F*l*y):"YZX"===w?(m.m=F*e*I+h*l*y,m.o=h*l*I+F*e*y,m.s=h*e*y-F*l*I,m.G=h*e*I-F*l*y):
"XZY"===w&&(m.m=F*e*I-h*l*y,m.o=h*l*I-F*e*y,m.s=h*e*y+F*l*I,m.G=h*e*I+F*l*y);g.y-=D;h=n.elements;y=m.x;var O=m.y,L=m.z;F=m.w;var A=y+y,k=O+O;l=L+L;e=y*A;I=y*k;y*=l;w=O*k;O*=l;L*=l;A*=F;k*=F;F*=l;h[0]=1-(w+L);h[4]=I-F;h[8]=y+k;h[1]=I+F;h[5]=1-(e+L);h[9]=O-A;h[2]=y-k;h[6]=O+A;h[10]=1-(e+w);h[3]=0;h[7]=0;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;n.setPosition(g);t.B(m).inverse();h=q.B(g);O=h.x;A=h.y;L=h.z;e=t.x;I=t.y;F=t.z;l=t.w;y=l*O+I*L-F*A;w=l*A+F*O-e*L;k=l*L+e*A-I*O;O=-e*O-I*A-F*L;h.x=y*l+O*-e+w*-F-
k*-I;h.y=w*l+O*-I+k*-e-y*-F;h.z=k*l+O*-F+y*-I-w*-e;for(h=1;17>h;++h)H[h]=n.elements[h-1];H[17]=q.x;H[18]=q.y;H[19]=q.z;r.Yf(H)},Qn:function(h){v=h;r.Yf([6])}};return r}();wc.h();var vc=function(){function a(t){var g=t.split(":").shift();return"data"===g||"blob"===g?t:("undefined"!==typeof K&&K.Y?K:T).Y+T.Pm+t}function b(t,g){return Math.min(g+t+g*t,1)}var f=!1,d=null,n=1,m={diffuseTexture:null,normalTexture:null,paramsTexture:null,colorTextureUsage:0,metalness:.5,roughness:.5,fresnelMin:0,fresnelMax:1,
fresnelPow:5,alpha:1,diffuseColor:[255,255,255],paramsMapMask:[0,0,0,0],N:null};return{h:function(){d=X.instance({width:1,height:1,isMipmap:!1,A:4,array:new Uint8Array([255,255,255,255]),Ac:!1})},Xe:function(){f=!0;n=2},instance:function(t){function g(x){function G(){++M===J&&x&&x()}var J=1,M=0;(p=z.normalTexture&&aa.Nk()?!0:!1)&&!e.Pa&&(++J,e.Pa=X.instance({url:a(z.normalTexture),isLinear:!0,isMipmap:!0,Xh:aa.Bm(),isPot:!0,A:3,N:G}));(D=z.diffuseTexture&&""!==z.diffuseTexture?!0:!1)&&!e.da?(++J,
e.da=X.instance({url:a(z.diffuseTexture),isMipmap:!0,isLinear:!0,isPot:!0,Xh:!0,Ac:!1,ub:!1,sm:!1,A:4,N:G}),h="s97"):e.da||(h="s98",e.da=d);r=[z.diffuseColor[0]/255,z.diffuseColor[1]/255,z.diffuseColor[2]/255];(I=z.paramsTexture?!0:!1)&&!e.wb&&(z.paramsTexture===z.diffuseTexture?e.wb=e.da:(++J,e.wb=X.instance({url:a(z.paramsTexture),isMipmap:!0,isLinear:!0,isPot:!0,Xh:!0,Ac:!1,ub:!1,sm:!1,A:4,N:G})));G()}function q(x){"number"===typeof z.alpha?(H[0]=z.alpha,H[1]=0,H[2]=0,H[3]=0):(H[0]=z.alpha[0],
H[1]=z.alpha[1]-z.alpha[0],H[2]=z.alpha[2],H[3]=z.alpha[3]);var G=1<=z.fresnelPow?z.fresnelMin:z.fresnelMax;v[0]=b(H[0],G);v[1]=b(H[1],G);v[2]=H[2];v[3]=H[3];F={Ci:z.fresnelMax,ni:[z.fresnelMin,z.roughness,z.fresnelPow/15,z.metalness],ri:z.paramsMapMask};x=z.N?z.N.bind(null,x):null;g(x);p||I||D?p||I?p&&!I?(l="s92NormalMap",y="s92NNGLtextureNormalMap"):!p&&I?(l="s92ParamsMap",y="s92NNGLtextureParamsMap"):(l="s92NormalParamsMap",y="s92NNGLtextureNormalParamsMap"):(l="s92",y="s92NNGLtexture"):(l="s92color",
y="s92NNGLcolor");w=p?"s100":"s99";O=p?"s94":"s104";L=I?"s102":"s101";A=I?"s95":"s105"}var p,D,H=[1,0,0,0],v=[0,0,0,0],z=Object.assign({},m,t),r=null,h=null,e={da:null,Pa:null,wb:null},I=p=D=!1,F=null,l=null,y=null,w=null,O=null,L=null,A=null,k={update:function(x){Object.assign(z,x);q()},Bc:function(){return p},Cm:function(){return.99>H[0]},Wl:function(){return O},Vl:function(){return w},Sl:function(){return A},Rl:function(){return L},Ul:function(){return l},Tl:function(){return y},jd:function(){p&&
e.Pa.a(0)},ll:function(x){f&&E.set(h);x?E.Ra():E.$a();D&&E.Kc();k.hd()},hd:function(){D&&(E.C("u64",z.colorTextureUsage),e.da.a(0));E.ng("u137",r)},ph:function(){I&&(e.wb.a(0),E.za("u66",F.ri),E.Kc());E.za("u102",F.ni);E.C("u138",F.Ci)},mh:function(x){I&&!p?e.wb.a(n):p&&(D||d.a(0),e.Pa.a(n),I&&e.wb.a(n+1));I&&E.za("u66",F.ri);D||p?E.Mn():x?E.Nn():E.On();k.hd();E.za("u7",H);E.za("u102",F.ni);E.C("u138",F.Ci)},il:function(){E.za("u7",H)},jl:function(){E.za("u7",v)},H:function(){D&&e.da.remove();p&&
e.Pa.remove();I&&z.paramsTexture!==z.diffuseTexture&&e.wb.remove()}};q(k);return k}}}(),wb=function(){var a=0,b=0,f=0,d=0,n=0,m=0,t=T.tk,g=T.sk,q=T.uk,p=0,D=0,H=null,v=null,z=0,r=0,h=0,e=0,I=0,F=null,l=0,y=0,w=0,O=Date.now(),L=null,A=!1,k=!1,x=!1,G=1,J=!1,M={h:function(){a=T.nk[aa.P()];b=T.mk[aa.P()];f=T.lk[aa.P()];y=T.pk[aa.P()];d=T.fk[aa.P()];n=T.jk[aa.P()];h=T.kk[aa.P()];e=aa.I();I=aa.V();p=Math.round(e*a);D=Math.round(I*a);v=xa.instance({width:p,height:D,yc:!1});H=X.instance({width:p,height:D,
isPot:!1,isLinear:!0});F=X.instance({width:p,height:D,isPot:!1,isLinear:!0,A:1});A=!0},resize:function(Q,ba,ia){G=ia;e=Q;I=ba;p=Math.round(Q*a);D=Math.round(ba*a);v.resize(p,D);k=!0},S:function(){var Q=Math.exp(-(Date.now()-O)/y);x?l=w+(1-Q)*(1-w):l=w*Q;z=b+l*(f-b);r=d+(1-l)*(1-d);m=n+(1-l)*(1-n);X.X(5);if(k&&A)X.X(6),F.resize(p,D),E.set("s0"),E.Ud("u1",6),v.bind(!1,!0),F.i(),v.Ge(),H.a(6),W.g(!0,!0),H.resize(p,D),H.i(),F.a(6),W.g(!1,!1),E.Ud("u1",0),k=!1;else{c.enable(c.BLEND);c.blendFunc(c.CONSTANT_ALPHA,
c.ONE_MINUS_SRC_ALPHA);Q=z/h;c.blendColor(Q,Q,Q,Q);c.colorMask(!0,!1,!1,!0);E.set("s84");mb.Ve();E.C("u118",z);y&&(E.C("u119",r),E.C("u111",m));var ba=G*(t+Math.pow(Math.random(),q)*(g-t));E.L("u8",ba/e,ba/I);v.Vg();v.Nc();H.i();ba=2*Math.PI*Math.random();for(var ia=!0,P=0;P<h;++P)1===P&&(c.blendFunc(c.SRC_ALPHA,c.ONE),E.C("u118",Q)),E.C("u117",ba+P/h*(Math.PI/2)),E.L("u116",(Math.random()-.5)/e,(Math.random()-.5)/I),W.g(ia,ia),ia=!1;c.disable(c.BLEND);E.set("s85");E.L("u8",1/p,1/D);F.i();H.a(7);
W.g(!1,!1);c.colorMask(!0,!0,!0,!0)}},a:function(Q){F.a(Q)},enable:function(){J=!0},dn:function(){if(x||!J)return!1;L&&clearTimeout(L);M.Sd();L=setTimeout(M.Dj,400)},Sd:function(){L&&(clearTimeout(L),L=!1);!x&&J&&(window.T.disable(),x=!0,O=Date.now(),w=l)},Dj:function(){x&&J&&(L&&(clearTimeout(L),L=null),window.T.enable(),x=!1,O=Date.now(),w=l)},H:function(){H.remove();F.remove();v.remove()}};M.dn();return M}(),kd={instance:function(a){var b=a.ia.I(),f=a.vm?!0:!1,d=f?"s67":"s12",n=X.instance({isFloat:a.ia.ei()&&
za.aa()&&!f,O:a.ia.fi()&&!f,isLinear:!0,isMipmap:!1,isPot:!1,width:b,height:b,A:f?4:3}),m=X.instance({isFloat:a.ia.ei()&&za.aa(),O:a.ia.fi(),isPot:!0,width:1,height:b/2,A:3});m.i();E.set("s78");a.ia.a(0);W.g(!0,!0);var t=Math.round(Math.log(b)/Math.log(2));n.qn=function(){n.i();E.set(d);E.C("u82",T.$b);a.ia.a(0);m.a(1);for(var g=0,q=0;q<=t;++q){var p=Math.pow(2,t-q),D=p/2;c.viewport(0,g,b,D);E.L("u80",b/p,1);E.C("u81",Math.min(6/D,.6));g+=p/2;W.g(0===q,0===q)}};n.tn=n.remove;n.remove=function(){n.tn();
m.remove()};return n}};ua.kb=function(){var a={Qd:45,dg:1,ac:"../../images/debug/picsou.png",eg:.8,Gf:3.14/6,Hf:.314,If:4,Ef:.5,Ff:-.25,Gm:1,ta:256,Df:.15},b={Nb:null,nd:null,screen:null},f=!1,d=!1,n=-1,m=null,t=null,g=null,q=Math.PI/180,p=[1,1],D={h:function(H){n=H.width;H={isFloat:za.aa(),O:!0,isPot:!1,isMipmap:!1,isLinear:!1,ub:!0,width:n,height:n/2,A:3};b.Nb=X.instance(H);b.nd=X.instance(H);E.f("s106",[{type:"1i",name:"u145",value:0}]);E.f("s107",[{type:"1i",name:"u150",value:0}]);D.Bo()},Bo:function(){E.f("s107",
[{type:"1f",name:"u151",value:a.Gf},{type:"1f",name:"u152",value:a.Hf},{type:"1f",name:"u153",value:a.If},{type:"1f",name:"u154",value:a.Ef},{type:"1f",name:"u155",value:a.Ff}])},Sp:function(){return d},sa:function(H){m=H},Hc:function(){t="uniform sampler2D u145;uniform vec2 u146,u147,u4;uniform int u148;uniform float u149,u131;varying vec2 vv0;const float h=3.141593;const vec2 i=vec2(.5,.5);const float e=1.2;const vec3 g=vec3(1.,1.,1.);void main(){vec2 c=vec2(vv0.x*2.,-vv0.y+.5)*h,a=i+u4*(c-u146)/u147;float b=1.;if(u148==0){if(a.x<0.||a.x>1.||a.y<0.||a.y>1.)discard;}else b*=smoothstep(-e,0.,a.x),b*=1.-smoothstep(1.,1.+e,a.x),b*=smoothstep(-e,0.,a.y),b*=1.-smoothstep(1.,1.+e,a.y);vec3 d=mix(u149*g,texture2D(u145,a).rgb*u131,b*g);gl_FragColor=vec4(d,1.);}";
g="uniform sampler2D u150;uniform float u151,u152,u153,u154,u155;varying vec2 vv0;const float f=3.141593;const vec2 o=vec2(.5,.5);const vec3 h=vec3(1.,1.,1.);void main(){float i=(vv0.x*2.-1.)*f,c=(-vv0.y+.5)*f;vec4 a=texture2D(u150,vec2(.5,.5));float d=a.r,j=u153*a.g,k=u154*(a.b+u155),b=a.a,g=asin(cos(b)*cos(d)),l=atan(cos(b)*sin(d),-sin(b)),m=acos(sin(c)*sin(g)+cos(c)*cos(g)*cos(i-l)),n=1.-smoothstep(u151-u152,u151+u152,m);gl_FragColor=vec4(h*(max(k,0.)+max(j,0.)*n),1.);}";E.oa("s106",{name:"_",
b:t,c:"u145 u146 u148 u147 u149 u131 u4".split(" "),precision:"highp"});E.oa("s107",{name:"_",b:g,c:"u150 u151 u152 u153 u154 u155".split(" "),precision:"highp"})},sg:function(H,v,z,r,h,e,I){E.L("u146",v,z);E.Ud("u148",r?1:0);E.L("u147",h,h/e);E.kj("u4",I);H.a(0);W.g(!1,!1)},Xj:function(H){c.viewport(0,0,a.ta,a.ta/2);E.set("s107");H.a(0);W.g(!1,!1)},am:function(){return b.Nb},Ik:function(H){D.h({width:a.ta});D.Gj(H,!1,1);d=!0},Hk:function(){f&&b.screen.bm()===a.ac||(f=!1,b.screen=X.instance({url:a.ac,
isFloat:!1,N:function(){f=!0}}))},jg:function(H){Object.assign(a,H)},Gj:function(H,v,z){var r=a.ta;xa.fa();b.nd.K();E.set("s0");b.Nb.a(0);W.g(!0,!0);b.Nb.i();E.set("s106");E.C("u149",a.Df);E.C("u131",a.Gm);D.sg(H,Math.PI,0,!0,90*q,H.I()/H.V(),p);f&&(E.C("u131",a.eg),c.viewport(0,0,r/2,r/2),D.sg(b.screen,0,0,!1,2*a.Qd*q,2*a.dg,p),c.viewport(r/2,0,r/2,r/2),D.sg(b.screen,2*Math.PI,0,!1,2*a.Qd*q,2*a.dg,p));c.enable(c.BLEND);c.blendFunc(c.ONE,c.ONE);v&&D.Xj(v);E.set("s0");c.blendColor(0,0,0,1-z);c.blendFunc(c.CONSTANT_ALPHA,
c.ONE_MINUS_CONSTANT_ALPHA);b.nd.a(0);W.g(!1,!1);c.disable(c.BLEND);m.fj(b.Nb)},u:function(){Object.assign(b,{Nb:null,nd:null,screen:null});d=f=!1;n=-1;m=null}};return D}();ua.lb=function(){var a=!1,b=!0,f=!1,d=!1,n={Hc:function(){aa.W()&&(E.oa("s108",{name:"_",j:"attribute vec3 a0;uniform sampler2D u39;uniform vec2 u40;uniform vec3 u133;const float l=1.,m=0.,n=0.,E=1.;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,p);vec2 f=u76*e;vec3 c=u76*o;vec2 t=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,q).rgb+vec3(u70,0.,0.),u73,c);float u=mix(texture2D(u39,r).r,0.,u76);a.z+=u;mat3 v=s(a);vec3 w=mix(u133,u74,c);float x=mix(l,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u72,1.,u76);vec2 j=u71/t;vec3 k=a0;float A=max(0.,-a0.z-m)*n;k.x+=A*sign(a0.x)*(1.-u76);vec3 B=v*(k+w)*x+b;vec2 C=j*z;vec3 D=vec3(g*C,-j)+B*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(D,1.));}",
b:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,1.,1.),gl_FragData[2]=vec4(1.,0.,0.,0.),gl_FragData[3]=vec4(0.,.5,1.,0.);}",c:["u39","u40","u69","u133"].concat(E.ff(),E.gf()),D:["a0"],M:[3],ca:!0}),a=!0)},h:function(m){a&&E.f("s108",[{type:"1i",name:"u39",value:1},{type:"3f",name:"u69",value:m.Ga},{type:"1f",name:"u70",value:0},{type:"1f",name:"u78",value:1}].concat(m.Eg))},cb:function(m){d=m;f&&n.Ph()},bb:function(m){f=m;d&&n.Ph()},Ph:function(){aa.W()&&(E.f("s108",[{type:"3f",
name:"u133",value:[f[0]*d,f[1]*d,f[2]*d]}]),E.F())},lm:function(m){for(var t=m.width/2,g=m.height/2,q=m.depth,p=m.vl,D=m.height/4,H=m.Xk,v=2*H+4,z=[],r=[],h=-t+m.Ua,e=-p-m.Ua,I=t-m.Ua,F=-p-m.Ua,l=0;l<v;++l){var y=0,w=0;0===l?(y=-t,w=-p-q):1<=l&&l<=1+H?(w=(l-1)/H*Math.PI/2,y=h-Math.cos(w)*m.Ua,w=e+Math.sin(w)*m.Ua):l>=2+H&&l<=2+2*H?(w=(l-2-H)/H*Math.PI/2,y=I+Math.sin(w)*m.Ua,w=F+Math.cos(w)*m.Ua):l===v-1&&(y=t,w=-p-q);z.push(y,g+D,w,y,-g+D,w);0!==l&&r.push(2*l,2*l-2,2*l-1,2*l,2*l-1,2*l+1)}return n.instance({ea:z,
R:r})},toggle:function(m){b=m},instance:function(m){var t=W.instance({ea:m.ea,R:m.R});return{S:function(){a&&b&&(E.set("s108"),t.bind(!0),t.S())}}}};return n}();ua.ja=function(){var a={mf:-87,fm:[85,95],Oh:[90,90],Nh:[85,70],cd:24,Yk:12,Zk:2,Zf:[-80,10],Mh:[40,140],yd:[1,8],em:80,yi:[-120,-10],Vm:2,Wd:[0,-15],oe:1024,hb:256,Jd:4,lo:[6,30],xi:1.2};a.Ii=a.Zf;var b=!1,f=!1,d=!1,n=null,m=null,t=null,g=null,q=null,p=null,D=!1,H=!1,v=null,z=null,r=null,h=null,e=.5,I=[{type:"1f",name:"u157",value:1}],F=
null,l=null,y=null,w=null,O=null,L={Xl:function(){return{name:"_",j:"attribute vec3 a0,a2;attribute vec2 a1;varying vec2 vv0;varying float vv1;uniform sampler2D u39;uniform vec2 u40;uniform float u134;uniform vec3 u133;const float o=0.,p=0.;const vec2 e=vec2(1.,1.);const vec3 q=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,r);vec2 f=u76*e;vec3 c=u76*q;vec2 v=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,s).rgb+vec3(u70,0.,0.),u73,c);float w=mix(texture2D(u39,t).r,0.,u76);a.z+=w;mat3 h=u(a);vec3 x=mix(u133,u74,c);float y=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u72,1.,u76);vec2 k=u71/v;vec3 l=a0;float B=max(0.,-a0.z-o)*p;l.x+=B*sign(a0.x)*(1.-u76);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(E,1.)),vv0=a1,gl_Position*=vec4(-1.,1.,1.,1.);vec3 F=h*a2;vv1=-F.z;}",
b:"uniform sampler2D u164,u150;uniform vec2 u80,u165;uniform float u166,u157;varying vec2 vv0;varying float vv1;void main(){vec2 b=u165*u166+u80*vv0;vec4 a=u157*texture2D(u164,b);a.r*=step(0.,vv0.y),gl_FragColor=vec4(0.,0.,0.,a.r*vv1);}",c:"u39 u164 u150 u40 u69 u166 u165 u134 u133 u80 u157".split(" ").concat(E.ff(),E.gf()),D:["a0","a2","a1"],M:[3,3,2],precision:"lowp"}},Hc:function(){E.oa("s109",{name:"_",j:"attribute vec3 a0;uniform vec3 u133;uniform vec2 u158,u159;uniform float u134,u160,u161,u162;varying float vv0,vv1;void main(){vec3 a=(a0+u133)*u134;float b=atan(a.x,a.z-u160),d=2.*(a.y-u161)/(u162-u161)-1.;vv0=a0.y;float g=1.-u158.x*u158.x/(u158.y*u158.y),c=u158.x/sqrt(1.-g*pow(cos(b),2.));vec3 h=vec3(c*sin(b),a.y,c*cos(b)+u160);vv1=smoothstep(u159.x,u159.y,length(h-a)),gl_Position=vec4(b,d,0.,1.);}",
b:"uniform float u163;uniform vec4 u7;varying float vv0,vv1;void main(){float a=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv0),b=min(a,1.)*u163;gl_FragColor=vec4(b,vv1,1.,1.);}",c:"u134 u133 u158 u159 u160 u161 u162 u7 u163".split(" "),D:["a0"],M:[3],precision:"highp"});E.oa("s110",L.Xl());E.oa("s111",{name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u1,vv0-3.*u8),c=texture2D(u1,vv0-2.*u8),d=texture2D(u1,vv0-u8),f=texture2D(u1,vv0+u8),g=texture2D(u1,vv0+2.*u8),h=texture2D(u1,vv0+3.*u8);float j=.031496*b.r+.110236*c.r+.220472*d.r+.275591*a.r+.220472*f.r+.110236*g.r+.031496*h.r;vec2 i=b.gb*b.b+c.gb*c.b+d.gb*d.b+a.gb*a.b+f.gb*f.b+g.gb*g.b+h.gb*h.b;i/=b.b+c.b+d.b+a.b+f.b+g.b+h.b,gl_FragColor=vec4(mix(j,a.r,1.-i.x),i,1);}",
c:["u1","u8"],precision:"lowp"});b=!0},h:function(A){if(b){if(void 0===A.fc||!A.fc)return!1;if(f)L.aj(A);else{g=X.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:a.oe,height:a.oe/4,A:4});var k=a.hb/4,x={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:a.hb,height:k,A:4};t=X.instance(x);p=X.instance(x);q=X.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:a.hb,height:k*a.Jd,A:4});k=.5-.5/A.hc[1];x=.5+.5/A.hc[1];for(var G=a.Yk+1,J=[],M=[],Q=new Float32Array(16*a.cd),ba=new Uint16Array(6*
(a.cd-1)),ia=0,P=0,u=0,B=0;B<a.cd;++B){var C=2*B/(a.cd-1)-1;C=Math.sign(C)*Math.pow(Math.abs(C),a.Zk);C=Math.PI*(C+1)/2-Math.PI/2;var S=Math.sin(C),ca=Math.cos(C),ja=Math.sin(C*a.xi),pa=Math.cos(C*a.xi),ra=C/(Math.PI*A.hc[0])+.5,Qa=a.Nh[0]*S,Ma=a.Ii[0],Oa=a.Nh[1]*ca+a.mf,la=ra,ha=k,V=a.Oh[0]*S,ea=a.Ii[1],ya=a.Oh[1]*ca+a.mf,La=x,Ja=16*B;Q[Ja]=V;Q[Ja+1]=ea;Q[Ja+2]=ya;Q[Ja+3]=ja;Q[Ja+4]=0;Q[Ja+5]=pa;Q[Ja+6]=ra;Q[Ja+7]=La;Q[Ja+8]=Qa;Q[Ja+9]=Ma;Q[Ja+10]=Oa;Q[Ja+11]=ja;Q[Ja+12]=0;Q[Ja+13]=pa;Q[Ja+14]=la;
Q[Ja+15]=ha;0!==B&&(la=2*B,ha=6*(B-1),ba[ha]=la,ba[ha+1]=la-1,ba[ha+2]=la-2,ba[ha+3]=la,ba[ha+4]=la+1,ba[ha+5]=la-1);ha=Math.pow(.5*(1+Math.cos(Math.min(Math.max(Math.PI/a.Mh[0]*Qa,-Math.PI),Math.PI))),a.Vm);Ma-=a.em*ha;la=a.Mh[1]*ha;Qa-=S*a.yd[0];Oa-=ca*a.yd[1];V-=S*a.yd[0];ya-=ca*a.yd[1];S=.001>ha?2:G;for(ca=0;ca<S;++ca)ha=ca/(S-1),ra=Ma*(1-ha)+ea*ha,La=a.yi[0],La=Math.min(Math.max((ra-La)/(a.yi[1]-La),0),1),La=La*La*(3-2*La),J.push(Qa*(1-ha)+V*ha,ra,(Oa+la*Math.exp(400*-Math.abs(C)*Math.pow(ha,
4)))*(1-La)+ya*La,ja,0,pa,0,0);C=0===B?0:2<S&&2<P?S-1:1;for(ja=1;ja<=C;++ja)pa=S>P?S-2:0,M.push(ia+ja+pa,ia+ja-1,u+ja-1,u+ja-1,u+ja+(S<P?P-2:0),ia+ja+pa);P=S;u=ia;ia+=S}w=W.instance({ea:new Float32Array(J),R:new Uint16Array(M)});O=W.instance({ea:Q,R:ba});L.aj(A);E.f("s111",[{type:"1i",name:"u1",value:0}]);f=!0}}},aj:function(A){e=A.fo;h=A.Xd;F=[{type:"1i",name:"u39",value:1},{type:"1i",name:"u164",value:0},{type:"1i",name:"u150",value:2},{type:"3f",name:"u69",value:[A.Ga[0],A.Ga[1]-a.Wd[0],A.Ga[2]+
a.Wd[1]]},{type:"1f",name:"u166",value:A.ho},{type:"2f",name:"u80",value:[1,1/a.Jd]},{type:"2f",name:"u165",value:[0,1/a.Jd]},{type:"1f",name:"u157",value:1}].concat(A.Eg,A.Cj);E.f("s110",F)},cc:function(A){n=A},bc:function(A){l=A;l.Kb(L.uc)},gi:function(){return d&&null!==l&&null!==y},uc:function(){if(!(d||H&&D)||null===l||null===y)return!1;c.viewport(0,0,a.oe,a.oe/4);xa.fa();g.i();c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);E.f("s109",[{type:"1f",name:"u160",value:a.mf},{type:"1f",name:"u161",
value:a.Zf[0]},{type:"1f",name:"u162",value:a.Zf[1]},{type:"3f",name:"u133",value:[v[0]+z[0],v[1]+z[1],v[2]+z[2]]},{type:"1f",name:"u163",value:e},{type:"2f",name:"u158",value:a.fm},{type:"2f",name:"u159",value:a.lo}]);l.ul();E.set("s1");var A=a.hb/4;c.viewport(0,0,a.hb,A);t.i();g.a(0);g.rd();W.g(!0,!0);for(var k=0;k<a.Jd;++k)E.set("s111"),0!==k&&c.viewport(0,0,a.hb,A),p.i(),t.a(0),E.L("u8",1/a.hb,0),W.g(!1,!1),t.i(),p.a(0),E.L("u8",0,1/A),W.g(!1,!1),a.$k&&c.colorMask(0===k,1===k,2===k,!0),E.set("s1"),
q.i(),t.a(0),c.viewport(0,k*A,a.hb,A),W.g(!1,!1),a.$k&&c.colorMask(!0,!0,!0,!0);return d=!0},S:function(){L.gi()&&(y.bind(!1,!1),m.i(),c.clearColor(0,0,0,0),c.enable(c.DEPTH_TEST),c.depthMask(!0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),E.set("s110"),n.a(1),q.a(0),w.bind(!0),w.S(),O.bind(!0),O.S(),c.disable(c.DEPTH_TEST),c.depthMask(!1))},add:function(){L.gi()&&(c.enable(c.BLEND),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),m.a(0),W.g(!1,!1),c.disable(c.BLEND))},gg:function(A,k){y=xa.instance({width:A,
height:k,yc:!0});m=X.instance({width:A,height:k,isFloat:!1,isPot:!1});L.uc()},bb:function(A,k,x){A||(A=v,k=z,x=r);E.f("s110",[{type:"3f",name:"u133",value:[x[0]+h[0],x[1]+h[1]-a.Wd[0],x[2]+h[2]+a.Wd[1]]}]);v=A;z=k;r=x;H=!0;!d&&D&&L.uc();E.F()},cb:function(A,k){E.f("s109",[{type:"1f",name:"u134",value:A}]);E.f("s110",[{type:"1f",name:"u134",value:k}]);D=!0;!d&&H&&L.uc();E.F()},kg:function(A){E.f("s110",[{type:"1f",name:"u70",value:A}]);E.F()},Ab:function(A){A&&(l=A);L.uc()},lg:function(A,k){I[0].value=
1-A;E.f("s110",I);E.f("s110",k)},H:function(){},u:function(){d=f=b=!1;p=q=g=t=m=n=null}};return L}();ua.ra=function(){var a=!1,b=null,f=0,d=0,n=0,m=[{type:"1f",name:"u157",value:1}],t=null,g=null,q=null,p={Hc:function(){E.oa("s112",{name:"_",j:"attribute vec3 a0;uniform vec2 u167,u168;varying vec2 vv0;void main(){vec2 a=2.*(a0.xy-u168)/u167;gl_Position=vec4(a,0.,1.),vv0=a0.xy;}",b:"uniform vec2 u169;uniform float u170,u171,u172;varying vec2 vv0;void main(){vec2 b=vec2(sign(vv0.x)*.5*u170,u171),a=vv0-b,c=u172*a,d=(c-a)*u169;gl_FragColor=vec4(d,0.,1.);}",
c:"u167 u168 u170 u171 u172 u169".split(" "),D:["a0"],M:[3],precision:"highp"});E.oa("s113",{name:"_",j:"attribute vec3 a0;varying vec2 vv0,vv1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u167,u168;uniform float u134;const float n=0.,o=0.;const vec2 e=vec2(1.,1.);const vec3 p=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),q=vec2(.16,.5),r=vec2(.5,.5),s=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 t(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,q);vec2 f=u76*e;vec3 c=u76*p;vec2 u=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,r).rgb+vec3(u70,0.,0.),u73,c);float v=mix(texture2D(u39,s).r,0.,u76);a.z+=v;mat3 w=t(a);vec3 x=mix(u133,u74,c);float y=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 z=mat2(h,i,-i,h);b.xy=z*b.xy;float A=mix(u72,1.,u76);vec2 j=u71/u;vec3 k=a0;float B=max(0.,-a0.z-n)*o;k.x+=B*sign(a0.x)*(1.-u76);vec3 C=w*(k+x)*y+b;vec2 D=j*A;vec3 E=vec3(g*D,-j)+C*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(E,1.)),gl_Position*=vec4(-1.,1.,1.,1.),vv0=vec2(.5,.5)+(a0.xy-u168)/u167,vv1=vec2(.5,.5)+.5*gl_Position.xy/gl_Position.w;}",
b:"uniform sampler2D u173,u174;uniform float u157;varying vec2 vv0,vv1;void main(){vec2 a=u157*texture2D(u173,vv0).rg;gl_FragColor=texture2D(u174,a+vv1);}",c:"u157 u39 u173 u174 u167 u168 u40 u69 u134 u133".split(" ").concat(E.ff(),E.gf()),D:["a0"],M:[3],precision:"lowp"});a=!0},h:function(D){if(a){if(void 0===D.fc||!D.dd)return!1;g=X.instance({isFloat:!0,isPot:!1,isMipmap:!1,isLinear:!1,width:256,height:128,A:4});q=xa.instance({width:256,height:128});E.f("s113",[{type:"1i",name:"u39",value:1},{type:"1i",
name:"u173",value:2},{type:"1i",name:"u174",value:0},{type:"3f",name:"u69",value:D.Ga},{type:"1f",name:"u157",value:1}].concat(D.Cj,D.Eg));d=D.Oe;n=D.Ne;f=D.Pe}},cc:function(D){b=D},bc:function(D){t=D;t.Kb(p.Je)},Je:function(){c.viewport(0,0,256,128);q.i();g.i();var D=t.Yl(),H=t.Zl(),v=[{type:"2f",name:"u167",value:[D,H]},{type:"2f",name:"u168",value:[t.El(),t.Fl()]}];E.f("s112",v.concat([{type:"1f",name:"u170",value:d},{type:"1f",name:"u171",value:n},{type:"1f",name:"u172",value:f},{type:"2f",name:"u169",
value:[1/D,-1/H]}]));t.lh();E.f("s113",v)},S:function(){E.set("s113");b.a(1);g.a(2);t.lh()},bb:function(D){E.f("s113",[{type:"3f",name:"u133",value:D}]);E.F()},cb:function(D){E.f("s113",[{type:"1f",name:"u134",value:D}]);E.F()},kg:function(D){E.f("s113",[{type:"1f",name:"u70",value:D}]);E.F()},eo:function(D){f=D;p.Je();E.F();ta.animate(Date.now())},Ab:function(D){D&&(t=D);p.Je()},lg:function(D,H){m.u157=1-D;E.f("s113",m);E.f("s113",H)},H:function(){}};return p}();ua.mc=function(){var a=[0,-.5],b=
!1,f=!1,d=null,n=null,m=null,t=null,g=null,q=-1,p=-1;return{Hc:function(){E.oa("s114",{name:"_",j:"attribute vec2 a0;uniform sampler2D u39;uniform vec2 u40,u5;uniform float u4;varying vec2 vv0;const vec2 f=vec2(1.,1.);void main(){vec4 a=texture2D(u39,vec2(.25,.5));vec2 b=a.a*u40,c=2.*a.gb-f,d=u5+a0*u4;gl_Position=vec4(c+b*d,0.,1.),vv0=vec2(.5,.5)+.5*a0;}",b:"uniform sampler2D u175;varying vec2 vv0;void main(){gl_FragColor=texture2D(u175,vv0);}",c:["u39","u175","u40","u5","u4"],precision:"lowp"});
E.oa("s115",{name:"_",b:"uniform sampler2D u2,u176,u177;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){float a=texture2D(u2,vv0).r;vec3 b=texture2D(u177,vv0).rgb,c=texture2D(u176,vv0).rgb;gl_FragColor=vec4(mix(b,c,a*f),1.);}",c:["u2","u177","u176"],precision:"lowp"});b=!0},h:function(D){b&&(g=X.instance({isFloat:!1,isPot:!0,url:D.Be,N:function(){f=!0}}),E.f("s114",[{type:"1i",name:"u39",value:1},{type:"1i",name:"u175",value:0},{type:"2f",name:"u40",value:D.Mj},{type:"2f",name:"u5",value:a},
{type:"1f",name:"u4",value:3.8}]),E.f("s115",[{type:"1i",name:"u176",value:0},{type:"1i",name:"u2",value:1},{type:"1i",name:"u177",value:2}]))},cc:function(D){n=D},gg:function(D,H){var v={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:D,height:H,A:4};q=2/D;p=2/H;m=X.instance(v);t=X.instance(v);d=xa.instance({width:D,height:H})},S:function(D,H){if(f){d.bind(!1,!0);E.set("s77");for(var v=0;2>v;++v){E.L("u8",q,0);m.i();0!==v&&t.a(0);var z=0===v&&!T.$;W.g(z,z);E.L("u8",0,p);t.i();m.a(0);W.g(!1,!1)}E.set("s114");
n.a(1);g.a(0);m.i();c.clearColor(1,0,0,1);c.clear(c.COLOR_BUFFER_BIT);W.g(!1,!1);E.set("s115");H.i();t.a(0);m.a(1);D.a(2);W.g(!1,!1)}},H:function(){}}}();var Fc=function(){var a={instance:function(b){var f=b.ti,d=b.si,n=b.Me,m=b.background?b.background:X.Jh(),t=b.Za,g={scale:1,offsetX:0,offsetY:0},q=null;b.Mf&&(g.scale=b.Mf.scale,g.offsetY=b.Mf.offsetY);return{Fh:function(){return t},zh:function(){return m},set:function(){q=db.Pl();db.gj(g);db.fe();db.ge();ta.$i(n,m,!1,!1)},F:function(){db.gj(q)},
Jc:function(){return{modelURL:f,materialsURLs:d,background:m.Jc(!1),Me:n.Jc(!1),Za:t.Jc(!0)}},ap:function(p){m.a(p)}}},Qc:function(b,f,d){function n(){if(3===++q&&f){var p=a.instance({ti:b.modelURL,si:b.materialsURLs,background:m,Me:t,Za:g});f(p)}}var m=null,t=null,g=null,q=0;X.Qc(b.background,function(p){!p&&d?d():(m=p,n())});X.Qc(b.dataState,function(p){!p&&d?d():(t=p,n())});X.Qc(b.light,function(p){!p&&d?d():(g=p,n())})}};return a}();return Va||window.JEELIZVTO}();(function(U,Aa){"function"===
typeof define&&define.amd?define(Aa):"object"===typeof exports?module.exports=Aa():U.ResizeSensor=Aa()})("undefined"!==typeof window?window:this,function(){function U(Ia,jb){var Wa=Object.prototype.toString.call(Ia),Db=0,Ea=Ia.length;if("[object Array]"===Wa||"[object NodeList]"===Wa||"[object HTMLCollection]"===Wa||"[object Object]"===Wa||"undefined"!==typeof jQuery&&Ia instanceof jQuery||"undefined"!==typeof Elements&&Ia instanceof Elements)for(;Db<Ea;Db++)jb(Ia[Db]);else jb(Ia)}if("undefined"===
typeof window)return null;var Aa=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(Ia){return window.setTimeout(Ia,20)},Pa=function(Ia,jb){function Wa(){var Ea=[];this.add=function(xb){Ea.push(xb)};var ab,ob;this.call=function(){ab=0;for(ob=Ea.length;ab<ob;ab++)Ea[ab].call()};this.remove=function(xb){var yb=[];ab=0;for(ob=Ea.length;ab<ob;ab++)Ea[ab]!==xb&&yb.push(Ea[ab]);Ea=yb};this.length=function(){return Ea.length}}function Db(Ea,ab){if(Ea)if(Ea.resizedAttached)Ea.resizedAttached.add(ab);
else{Ea.resizedAttached=new Wa;Ea.resizedAttached.add(ab);Ea.resizeSensor=document.createElement("div");Ea.resizeSensor.className="resize-sensor";Ea.resizeSensor.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";Ea.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
Ea.appendChild(Ea.resizeSensor);Ea.resizeSensor.offsetParent!==Ea&&(Ea.style.position="relative");var ob=Ea.resizeSensor.childNodes[0],xb=ob.childNodes[0],yb=Ea.resizeSensor.childNodes[1],Fb,Ub,zb,Mb,gc=Ea.offsetWidth,Vb=Ea.offsetHeight,Wb=function(){xb.style.width="100000px";xb.style.height="100000px";ob.scrollLeft=1E5;ob.scrollTop=1E5;yb.scrollLeft=1E5;yb.scrollTop=1E5};Wb();var hc=function(){Ub=0;Fb&&(gc=zb,Vb=Mb,Ea.resizedAttached&&Ea.resizedAttached.call())};ab=function(){zb=Ea.offsetWidth;Mb=
Ea.offsetHeight;(Fb=zb!=gc||Mb!=Vb)&&!Ub&&(Ub=Aa(hc));Wb()};var Xb=function(Yb,ic,Gb){Yb.attachEvent?Yb.attachEvent("on"+ic,Gb):Yb.addEventListener(ic,Gb)};Xb(ob,"scroll",ab);Xb(yb,"scroll",ab)}}U(Ia,function(Ea){Db(Ea,jb)});this.detach=function(Ea){Pa.detach(Ia,Ea)}};Pa.detach=function(Ia,jb){U(Ia,function(Wa){if(Wa){if(Wa.resizedAttached&&"function"==typeof jb&&(Wa.resizedAttached.remove(jb),Wa.resizedAttached.length()))return;Wa.resizeSensor&&(Wa.contains(Wa.resizeSensor)&&Wa.removeChild(Wa.resizeSensor),
delete Wa.resizeSensor,delete Wa.resizedAttached)}})};return Pa});var fc={glassesDBURL:"https://glassesdbcached.jeeliz.com/sku/",appstaticURL:"https://appstatic.jeeliz.com/"},ib={notLoaded:-1,init:0,realtime:2,loadingModel:3,paused:4},Ta={isRT:!0,sku:void 0,mode:ib.notLoaded},oc=-1,pc=-1,cc=-1,dc=-1,Nc={cv:null,container:null,adjust:null,adjustNotice:null,adjustExit:null,loading:null,trackIframe:null},sa=Object.assign({},Nc),ld={ADJUST_START:null,ADJUST_END:null,LOADING_START:null,LOADING_END:null},
xc=null,Lb={enabled:!1,callback:null,interval:1E3},nc={error:!1},bc=null,Tb=null,rb={start:function(U){console.log("INFO in JeelizVTOWidget.js: start()");if(Ta.mode!==ib.notLoaded)rb.resume();else{na();if(U.settings)for(var Aa in U.settings)fc[Aa]=U.settings[Aa];U.NNCPath&&Va.set_NNCPath(U.NNCPath);U.faceDetectionCallback&&(Lb.enabled=!0,Lb.callback=U.faceDetectionCallback,Lb.interval="undefined"===typeof U.faceDetectionInterval?1E3:U.faceDetectionInterval);xc=Object.assign({},ld,U.callbacks||{});
sa.container=U.placeHolder||document.getElementById("JeelizVTOWidget");if(!sa.container)throw Error("Cannot find a <div> element with id=JeelizVTOWidget to append the VTO widget.");sa.cv=U.canvas||document.getElementById("JeelizVTOWidgetCanvas");sa.cv||(sa.cv=document.createElement("canvas"),sa.container.appendChild(sa.cv));sa.loading=document.getElementById("JeelizVTOWidgetLoading");U.onError&&(nc.error=U.onError);Sb();if(!qb(sa.container))return hb("PLACEHOLDER_NULL_WIDTH"),!1;if(!ma(sa.container))return hb("PLACEHOLDER_NULL_HEIGHT"),
!1;Eb();new ResizeSensor(sa.container,function(Pa){Eb()});(U.searchImageMask||U.searchImageColor||U.searchImageRotationSpeed)&&Va.set_loading(U.searchImageMask,U.searchImageColor,U.searchImageRotationSpeed);U.callbackReady&&(Tb=U.callbackReady);Ta.mode=ib.init;Aa="undefined"===typeof U.assetsPath?fc.appstaticURL+"jeefit/":U.assetsPath;"undefined"!==typeof U.catalog&&(bc=U.catalog);if(U.onWebcamGet)Va.onWebcamGet(U.onWebcamGet);Va.init(Aa,fa,Na,sa.cv);Va.onHalfLoad(rb.load.bind(rb,U.sku?U.sku:null));
return!0}},destroy:function(){return Va.destroy().then(function(){Ta.mode=ib.notLoaded;Ta.sku=void 0;Tb=bc=null;Object.assign(sa,Nc)})},pause:function(U){if(!Ta.isRT)return Promise.reject();Ta.mode=ib.paused;var Aa=Va.switch_sleep(!0,U);return U?Aa:Promise.resolve(Aa)},resume:function(U){if(!Ta.isRT)return Promise.reject();Ta.mode=ib.realtime;var Aa=Va.switch_sleep(!1,U);return U?Aa:Promise.resolve(Aa)},set_videoRotation:function(U){Ta.isRT&&Va.set_videoRotation(U)},set_videoSizes:function(U,Aa,Pa,
Ia,jb,Wa){Ta.isRT&&Va.set_videoSizes(U,Aa,Pa,Ia,jb,Wa)},resize:function(){Eb()},set_scale:function(U){Va.set_scale(U)},capture_image:function(U,Aa,Pa){Va&&Va.ready?Va.capture_image(U,Aa,Pa,!1):Aa(!1)},toggle_loading:function(U){U?(wa(sa.loading),ec("LOADING_START")):(Ha(sa.loading),ec("LOADING_END"))},load_modelStandalone:function(U,Aa){if(!Ta.isRT)throw Error("Loading standalone models is only available in RT mode");Ta.mode===ib.paused&&rb.resume();Ta.mode=ib.loadingModel;var Pa="undef";"string"===
typeof U?(Pa=U,Ca(U).then(function(Ia){Va.set_modelStandalone(Ia,Aa,Pa)}).catch(Za)):(Pa="RANDOM_SKU_"+Date.now().toString(),Va.set_modelStandalone(U,Aa,Pa));Ta.sku=Pa},load:function(U,Aa){rb.toggle_loading(!0);Ta.isRT&&rb.load_RT(U,Aa)},load_RT:function(U,Aa){U===Ta.sku?rb.toggle_loading(!1):(Ta.sku=U,Ta.mode=ib.loadingModel,Ta.mode===ib.paused&&rb.resume(),U?bc&&bc[U]?Kb(U,bc[U],Aa):Ca(fc.glassesDBURL+U).then(function(Pa){if(Pa.error)return Za();Kb(U,Pa.intrinsic,Aa)}).catch(Za):(Ta.mode=ib.realtime,
rb.toggle_loading(!1),Va.start_rendering(),Aa&&Aa()))},enter_adjustMode:nb,exit_adjustMode:tb};return rb}();window.JEELIZVTO=JEELIZVTO;
window.JEELIZVTOWIDGET={VERSION:"2.1.4",start:JeelizVTOWidget.start,pause:JeelizVTOWidget.pause,resume:JeelizVTOWidget.resume,load:JeelizVTOWidget.load,load_modelStandalone:JeelizVTOWidget.load_modelStandalone,capture_image:JeelizVTOWidget.capture_image,set_videoRotation:JeelizVTOWidget.set_videoRotation,resize:JeelizVTOWidget.resize,set_scale:JeelizVTOWidget.set_scale,set_videoSizes:JeelizVTOWidget.set_videoSizes,destroy:JeelizVTOWidget.destroy,enter_adjustMode:JeelizVTOWidget.enter_adjustMode,exit_adjustMode:JeelizVTOWidget.exit_adjustMode};
